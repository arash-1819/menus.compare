"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[65595],{22994:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(90417),a=i(77243),o=i(49728),r=i(40014);const s=e=>{let{$aspectRatio:t}=e;return{position:"relative","::before":{content:'""',width:"1px",marginLeft:"-1px",float:"left",height:0,paddingTop:100/t+"%",pointerEvents:"none"},"::after":{content:'""',display:"table",clear:"both"}}},l=e=>{let{forwardedRef:t,aspectRatio:i=1,overrides:n={},...l}=e;const d={Block:{style:s}},c=(0,o.Qp)(d,n);return(0,r.Y)(a.A,{ref:t,overrides:c,$aspectRatio:i,"data-baseweb":"aspect-ratio-box",...l})},d=n.forwardRef(((e,t)=>(0,r.Y)(l,{...e,forwardedRef:t})));d.displayName="AspectRatioBox";const c=d},56267:(e,t,i)=>{i.d(t,{A:()=>te});var n=i(90417),a=i(41046),o=i(59160),r=i(41967),s=i(67319);function l(e){let t,i,n,a,o;if(e){const r=e.height,s=e.width;r&&(r.fixed&&(t=`${Number(r.fixed)}px`),r.matchParent&&(a="stretch",t="inherit"),r.weight&&(n=Number(r.weight)),r.aspectRatio&&(o=Number(r.aspectRatio)),r.content&&(t="auto")),s&&(s.fixed&&(i=`${Number(s.fixed)}px`),s.matchParent&&(a="stretch",i="inherit"),s.weight&&(n=Number(s.weight)),s.aspectRatio&&(o=Number(r.aspectRatio)),s.content&&(i="auto"))}return{heightCss:t,widthCss:i,flexGrowValue:n,alignItems:a,aspectRatio:o}}function d(e,t){let i,n,{alignment:a,direction:o}=e;switch(i="unset",n="stretch",a){case"UNKNOWN":break;case"FILL":i=1;break;case"CENTER":n="center";break;case"LEADING":n="flex-start";break;case"TRAILING":n="flex-end";break;case"BASELINE":"HORIZONTAL"===o&&(n="baseline")}return{flexGrow:i,alignItems:n}}function c(e,t){const i="ltr"===t;let n,a,o,r;return e?.leading&&i&&"pointValue"in e.leading&&e.leading.pointValue&&(o=i?`${Number(e.leading.pointValue)}px`:o,r=i?r:`${Number(e.leading.pointValue)}px`),e?.top&&"pointValue"in e.top&&e.top.pointValue&&(n=`${Number(e.top.pointValue)}px`),e?.trailing&&"pointValue"in e.trailing&&e.trailing.pointValue&&(r=i?`${Number(e.trailing.pointValue)}px`:r,o=i?o:`${Number(e.trailing.pointValue)}px`),e?.bottom&&"pointValue"in e.bottom&&e.bottom.pointValue&&(a=`${Number(e.bottom.pointValue)}px`),{marginTop:n,marginBottom:a,marginLeft:o,marginRight:r}}function u(e){let t,i,n,a;const o=e?e.cornerRadius:null;let r;return o&&"fixed"in o&&"pointValue"in o.fixed&&(r=`${Number(o.fixed.pointValue)}px`),t=e&&e.topLeading?r:"0px",i=e&&e.topTrailing?r:"0px",n=e&&e.bottomLeading?r:"0px",a=e&&e.bottomTrailing?r:"0px",{roundedRadiusTopLeft:t,roundedRadiusTopRight:i,roundedRadiusBottomLeft:n,roundedRadiusBottomRight:a}}var p=i(40014);const h=e=>{let{stack:t,children:i,zStackParent:n,size:c}=e;const[h,g]=(0,r.c6)(),m=(0,o.jH)();if(!t||(0,a.A)(t))return(0,p.Y)(p.FK,{children:i});const f="HORIZONTAL"===t.direction?"row":"column",{flexGrow:b,alignItems:x}=d(t);let R,w,A,k,T,y,N,I,L,C;if(t.padding){const{paddingTop:e,paddingBottom:i,paddingLeft:n,paddingRight:a}=function(e,t){const i="ltr"===t;let n,a,o,r;return e?.leading&&i&&"pointValue"in e.leading&&e.leading.pointValue&&(o=i?`${Number(e.leading.pointValue)}px`:o,r=i?r:`${Number(e.leading.pointValue)}px`),e?.top&&"pointValue"in e.top&&e.top.pointValue&&(n=`${Number(e.top.pointValue)}px`),e?.trailing&&"pointValue"in e.trailing&&e.trailing.pointValue&&(r=i?`${Number(e.trailing.pointValue)}px`:r,o=i?o:`${Number(e.trailing.pointValue)}px`),e?.bottom&&"pointValue"in e.bottom&&e.bottom.pointValue&&(a=`${Number(e.bottom.pointValue)}px`),{paddingTop:n,paddingBottom:a,paddingLeft:o,paddingRight:r}}(t.padding,m);R=e,w=i,A=n,k=a}if(c){const{heightCss:e,widthCss:t}=l(c);T=e,y=t}if(t.roundedCorners){const e=t.roundedCorners,{roundedRadiusTopLeft:i,roundedRadiusTopRight:n,roundedRadiusBottomLeft:a,roundedRadiusBottomRight:o}=u(e);N=i,I=n,L=a,C=o}const V=(0,s.oU)(t.backgroundColor),Y=h({display:"flex",flexDirection:f,flexGrow:b,alignItems:x,height:T,width:y||"inherit",backgroundColor:V?g.colors[V]:"inherit",borderTopLeftRadius:N,borderTopRightRadius:I,borderBottomLeftRadius:L,borderBottomRightRadius:C,paddingTop:R,paddingBottom:w,paddingLeft:A,paddingRight:k,...n?{position:"relative"}:{}});return(0,p.Y)("div",{className:Y,children:i})},g=e=>{let{stackViewModel:t,children:i,zStackParent:n,size:a}=e;return t?(0,p.Y)(h,{stack:t,zStackParent:n,size:a,children:i}):null},m=e=>{let{size:t,children:i,margin:n,sduiAttribute:a,zStackChild:s,shouldAbsolutePosition:d,shouldCenter:u,alpha:h}=e;const[g]=(0,r.c6)(),m=(0,o.jH)(),f=void 0!==s&&s>0;let b,x,R,w,A,k,T,y,N,I,L,C,V,Y,z,B;if(n){const{marginTop:e,marginBottom:t,marginLeft:i,marginRight:a}=c(n,m);T=e,y=t,N=i,I=a}if(t&&"stack"in t&&t.stack){const{heightCss:e,widthCss:i,flexGrowValue:n,alignItems:a,aspectRatio:o}=l(t.stack);b=e,x=i,R=n,z=a,B=o}if(t&&"frame"in t&&t.frame){if(!("stack"in t&&b&&x)){const{heightCss:e,widthCss:i}=l(t.frame.size);b=e,x=i}if(f){const{aspectRatio:e}=l(t.frame.size),{top:i,bottom:n,left:a,right:o}=function(e,t){const i="ltr"===t;let n,a,o,r;n=a=o=r="auto";const s=e.horizontalAlignment,l=e.verticalAlignment;if(s){const e=s.type,t=s.offset;if(e.anchor)if(i)switch(e.anchor){case"LEADING":o=t?`${Number(t)}px`:"0px";break;case"CENTER":o=r=t?`${Number(t)}px`:"0px";break;case"TRAILING":r=t?-1*Number(t)+"px":"0px"}else switch(e.anchor){case"LEADING":r=t?`${Number(t)}px`:"0px";break;case"CENTER":o=r=t?`${Number(t)}px`:"0px";break;case"TRAILING":o=t?-1*Number(t)+"px":"0px"}}if(l){const e=l.type,t=l.offset;if(e.anchor)switch(e.anchor){case"TOP":n=t?`${Number(t)}px`:"0px";break;case"CENTER":n=a=t?`${Number(t)}px`:"0px";break;case"BOTTOM":a=t?`${Number(t)}px`:"0px"}}return{top:n,bottom:a,left:o,right:r}}(t.frame.alignment,m);L=i,C=n,V=o,Y=a,B=e}else{const{flexGrowValue:e}=l(t.frame.size),{flexDirectionFrame:i,alignItemsFrame:n,top:a,bottom:o,left:r,right:s}=function(e,t){const i="ltr"===t;let n,a,o,r,s,l;a="unset",n="stretch",o=r=s=l="0px";const d=e.horizontalAlignment,c=e.verticalAlignment;if(d){const e=d.type,t=d.offset;if(e.anchor)switch(e.anchor){case"LEADING":n="flex-start",s=i&&t?`${Number(t)}px`:"0px";break;case"CENTER":n="center",s=l=t?`${Number(t)}px`:"0px";break;case"TRAILING":n="flex-end",l=i&&t?`${Number(t)}px`:"0px"}}if(c){const e=c.type,t=c.offset;if(e.anchor)switch(e.anchor){case"TOP":n="flex-start",o=t?`${Number(t)}px`:"0px";break;case"CENTER":n="center",o=r=t?`${Number(t)}px`:"0px";break;case"BOTTOM":n="flex-end",r=t?`${Number(t)}px`:"0px"}}return{flexDirectionFrame:"unset",alignItemsFrame:n,top:o,bottom:r,left:s,right:l}}(t.frame.alignment,m);R=e,A=i,k=n,L=a,C=o,V=s,Y=r}}b&&x&&(w=0);const v=g({display:"flex",height:b||"inherit",width:x||"inherit",flexGrow:R,flexShrink:w,flexDirection:A,alignItems:u?"center":k||z,marginTop:T||"0px",marginBottom:y||"0px",marginLeft:N||"0px",marginRight:I||"0px",boxSizing:"border-box",top:L,bottom:C,right:V,left:Y,aspectRatio:B,...f?{zIndex:s}:{},position:d?"absolute":"unset",justifyContent:u?"center":"unset",opacity:h||1});return(0,p.Y)("div",{"data-sdui":a||"view-model-wrapper",className:v,children:i})},f=e=>{let{spacerViewModel:t,margin:i}=e;const[n,a]=(0,r.c6)(),l=(0,o.jH)();let d,h,g,m,f,b,x,R;if(t.roundedCorners){const e=t.roundedCorners,{roundedRadiusTopLeft:i,roundedRadiusTopRight:n,roundedRadiusBottomLeft:a,roundedRadiusBottomRight:o}=u(e);d=i,h=n,g=a,m=o}const w=(0,s.oU)(t.background?.backgroundColor),A=w?a.colors[w]:"inherit";if(i){const{marginTop:e,marginBottom:t,marginLeft:n,marginRight:a}=c(i,l);f=e,b=t,x=n,R=a}const k=n({display:"flex",backgroundColor:A,borderTopLeftRadius:d,borderTopRightRadius:h,borderBottomLeftRadius:g,borderBottomRightRadius:m,marginTop:f||"0px",marginBottom:b||"0px",marginLeft:x||"0px",marginRight:R||"0px",height:"100%",width:"100%"});return(0,p.Y)("div",{className:k})};function b(e){if(e?.escapedJsonData)try{return JSON.parse(e.escapedJsonData)}catch(e){return null}}var x=i(60331),R=i(37156),w=i(58350);const A=e=>{let{children:t,margin:i,shouldAbsolutePosition:a,numberOfLines:s,richTextInfo:l}=e;const[d]=(0,r.c6)(),u=n.useContext(o.lU);let h,g,m,f,b=!1;if(i){const{marginTop:e,marginBottom:t,marginLeft:n,marginRight:a}=c(i,u);h=e,g=t,m=n,f=a}const R=d({display:"flex",height:undefined,width:undefined,flexGrow:undefined,flexDirection:undefined,alignItems:"center",marginTop:h||"0px",marginBottom:g||"0px",marginLeft:m||"0px",marginRight:f||"0px",boxSizing:"border-box",top:undefined,bottom:undefined,right:undefined,left:undefined,position:a?"absolute":"unset"});if(l){b=(0,x.$W)(l.richTextElements).some((e=>"string"==typeof e.text?.text?.text&&0!=e.text?.text?.text.length))}return b?(0,p.Y)("div",{"data-sdui":"label-wrapper",className:R,children:(0,p.Y)(w.A,{clamp:Number(s),lineHeight:0,children:t})}):null};var k=i("__fusion__95b4ba69e5"),T=i(86783);const y=e=>{let{margin:t,color:i,shape:n,contentBadge:a}=e;const[s]=(0,r.c6)(),l=k.useContext(o.lU);let d,u,h,g;if(t){const{marginTop:e,marginBottom:i,marginLeft:n,marginRight:a}=c(t,l);d=e,u=i,h=n,g=a}const m=s({marginTop:d||"0px",marginBottom:u||"0px",marginLeft:h||"0px",marginRight:g||"0px",boxSizing:"border-box"});return"standard"===a?.type&&a?.standard?.iconContent?.icon&&!a?.standard?.iconContent?.iconLayout&&(a.standard.iconContent.iconLayout="LEADING"),(0,p.Y)("div",{"data-sdui":"badge-wrapper",className:m,children:(0,p.Y)(T.A,{viewModel:{content:a,shape:n,color:i}})})};var N=i(22994),I=i(94937);const L=(0,r.I4)("div",{width:"inherit"}),C=e=>{let{aspectRatio:t,stack:i,children:a}=e;n.useContext(o.lU);let r;if(i?.alignment){const{alignItems:e}=d(i);r=e}return(0,p.Y)(L,{children:(0,p.Y)(N.A,{aspectRatio:t,children:(0,p.Y)(I.A,{display:"flex",justifyContent:r,children:a})})})};var V=i(16645),Y=i(57716),z=i(86105),B=i(32036),v=i(8474),S=i(91156),E=i(57806),U=i(72893),D=i(5592);const $=(0,r.I4)(Y.N_,{display:"flex",flexGrow:1,height:"inherit",width:"inherit"}),O=e=>{let{deepLinkUrl:t,children:i,analyticsTap:n,analyticsData:a,analyticsAd:o,index:r,options:s}=e;const l=(0,z.zy)(),d=(0,z.g)(),c=(0,B.A)(),u=(0,S.Ay)(),h=(0,E.Ie)(),{adsViewableImpressionRef:g}=(0,U.A)({shouldLogImpression:!0,shouldLogViewableImpression:!1,shouldLogMrcViewableImpression:!1,storeAd:o,storeUuid:a?.storeUuid?String(a?.storeUuid):""});let m,f,b,x=t;if(t.includes("store/browse")){const{search:{sectionUUID:e,subsectionUUID:i,itemUUID:n,q:a}}=(0,v.AHk)(t);x=(0,v.hk0)({location:l,args:{...(0,v.G9G)(d),sectionUuid:e,subsectionUuid:i,itemUuid:n}}).pathname||"";const{modalName:o}=(0,v.g$k)(l,["modalName"]);"inStoreSearch"===o&&a&&(f="inStoreSearch",b="q",m=(0,v.qUP)(l,a))}const R=(0,v.IcR)(x,c),w=b&&f?m:R;return(0,p.Y)($,{ref:g,to:w,onClick:()=>{"BLOX_V1"===n?.eventUUIDType&&u("eats:store_search_suggestion_click",{displaySurface:a?.displaySurface&&String(a?.displaySurface),searchSuggestion:a?.searchSuggestion&&String(a?.searchSuggestion),searchTerm:a?.searchTerm&&String(a?.searchTerm),storeUuid:a?.storeUuid&&String(a?.storeUuid),suggestionType:a?.suggestionType&&String(a?.suggestionType),itemPosition:r}),"PRESIDIO_V2"===n?.eventUUIDType&&o&&h("ads:ads_click",{adsAnalyticsEvent:{adEventType:D.S.CLICK,adImpressionUUID:o.impressionId??"",adData:o.adData??""}}),s?.tapActionCallback&&Boolean(a)&&s.tapActionCallback(a)},"data-sdui":"link-wrapper",..."REPLACE"===s?.tapActionNavigationType?{replace:!0}:{},children:i})};const P=function(e){let{children:t,deepLinkUrl:i,analyticsTap:n,analyticsData:a,analyticsAd:o,index:r,options:s}=e;return i?(0,p.Y)(O,{deepLinkUrl:i,analyticsTap:n,analyticsData:a,analyticsAd:o,index:r,options:s,children:t}):(0,p.Y)($,{to:i||"","data-sdui":"link-wrapper",children:t})};var G=i(17408),_=i(73482);const M=(0,r.I4)("div",{display:"flex",justifyContent:"center",alignItems:"center",width:"inherit"}),F={favoriteStore:e=>{let{storeUuid:t}=e;return t?(0,p.Y)(M,{children:(0,p.Y)(G.A,{storeUuid:t})}):(0,p.Y)(_.A,{children:"Favorite not loading"})}},K=(0,r.I4)("div",{display:"flex",width:"inherit"}),j=e=>{let{clientView:t}=e;if(!t||!t.type)return null;const i=F[t.type];if(!i)return(0,p.Y)(p.FK,{children:"ERROR do not support this client view"});const n=t[t.type]||{};return n?(0,p.Y)(K,{children:(0,p.Y)(i,{...n})}):(0,p.Y)(_.A,{children:"Store data is not available"})},H=e=>{let{labelViewModel:t}=e;return t?(0,p.Y)(p.FK,{children:"Rich Text Unwrapped"}):null},J=(0,r.I4)("div",{display:"flex",justifyContent:"center",flexGrow:1}),W=e=>{let{richIllustration:t}=e;return(0,p.Y)(J,{"data-sdui":"illustration-wrapper",children:(0,p.Y)(R.xe,{styleOverrides:{justifyContent:"center"},richIllustration:t})})},q=(0,r.I4)("div",{display:"flex"});function Z(e,t){const i=t&&t[0]?t[0].identifier:"",n=e.identifier===i&&t?t[0]:null;return n?.type}function Q(e,t){const i=e?.dataBindings?.[0]?.identifier,n=(t||[]).find((e=>e.identifier===i));return n?.data||n?.element}function X(e,t){const i={},n=e.type.toLowerCase();return e?.dataBindings?.forEach((e=>{const a=(t||[]).find((t=>t?.identifier===e?.identifier)),o=a?.data||a?.element;i[e.identifier]=o[n]||o[o.type]})),i}const ee=e=>{let{encodedViewModel:t,data:i,clientViews:n,actions:o,shouldAbsolutePosition:r,zStackChild:s,stackViewModel:d,analytics:c,index:u,options:h}=e;if(!t||(0,a.A)(t))return(0,p.Y)(p.FK,{children:"ERROR in the EncodedViewModelComponent"});switch(t.type){case"TAPPABLE":{const e=t.eventBindings.length>0?t.eventBindings[0]:{},a=t.margin,l=b(t),d=Z(e,o),g=c?.data?.maps?.stringMap,f=c?.data?.advertisement;if("TAP"===e.type&&l&&"contents"in l&&l?.contents){const e=d?.deeplink?.analytics?.eventUUIDsOnTap[0];return(0,p.Y)(P,{deepLinkUrl:d?.deeplink?.url,analyticsTap:e,analyticsData:g,analyticsAd:f,index:u,options:h,children:(0,p.Y)(m,{margin:a,shouldAbsolutePosition:r,zStackChild:s,alpha:t.alpha,children:(0,p.Y)(ee,{encodedViewModel:l?.contents,data:i,clientViews:n,actions:o})})})}return(0,p.Y)(p.FK,{children:"ERROR in the TAPPABLE aspect of EncodedViewModelComponent"})}case"STACK":{const e=b(t),a=e&&"children"in e?e?.children:null,l=Array.isArray(a)?a:[],d=t?.size?.stack||t?.size?.frame.size;return(0,p.Y)(m,{size:t.size,margin:t.margin,sduiAttribute:"stack_wrapper",shouldAbsolutePosition:r,zStackChild:s,alpha:t.alpha,children:(0,p.Y)(g,{stackViewModel:e,size:d,children:l.map(((t,a)=>(0,p.Y)(ee,{encodedViewModel:t,data:i,clientViews:n,actions:o,stackViewModel:e},a)))})})}case"BADGE":{const e=X(t,i),n=e?.BottomBadgeContentBindingID,a=e?.BottomBadgeColorBindingID,o=e?.BottomBadgeShapeBindingID;return(0,p.Y)(y,{margin:t.margin,color:a?.color,shape:o?.shape,contentBadge:n?.content||{type:"unknown",unknown:!0}})}case"LABEL":{const e=Q(t,i),n="text"===e?.type?e.text:null,a=b(t),o=a?.numberOfLines&&"limit"in a?.numberOfLines?a.numberOfLines?.limit:void 0;if(!e){const e=a;return(e&&"content"in e?e.content:null)?(0,p.Y)(A,{margin:t.margin,children:(0,p.Y)(H,{labelViewModel:null})}):(0,p.FD)(p.FK,{children:["ERROR IN ",JSON.stringify(e)]})}return(0,p.Y)(A,{margin:t.margin,numberOfLines:o,richTextInfo:n,children:(0,p.Y)(x.Ay,{text:n})})}case"SPACER":{const e=b(t);return(0,p.Y)(m,{size:t.size,shouldAbsolutePosition:r,zStackChild:s,sduiAttribute:"spacer_component",alpha:t.alpha,children:(0,p.Y)(f,{spacerViewModel:e,margin:t.margin})})}case"CLIENTVIEW":{const e=t.dataBindings[0],i=t.size,a=Z(e,n)||{};return(0,p.Y)(m,{size:i,shouldAbsolutePosition:r,zStackChild:s,alpha:t.alpha,children:(0,p.Y)(j,{clientView:a})})}case"ZSTACK":{const e=b(t),a=e&&"children"in e?e?.children:null,l=Array.isArray(a)?a:[],d=t?.size?.stack||t?.size?.frame.size;return(0,p.Y)(m,{size:t.size,margin:t.margin,sduiAttribute:"zstack_wrapper",shouldAbsolutePosition:r,zStackChild:s,alpha:t.alpha,children:(0,p.Y)(g,{stackViewModel:e,zStackParent:!0,size:d,children:l.map(((e,t)=>(0,p.Y)(ee,{encodedViewModel:e,data:i,clientViews:n,actions:o,shouldAbsolutePosition:t>0,zStackChild:t},t)))})})}case"ILLUSTRATION":{const e=Q(t,i);if(!e){const e=b(t);if(e&&"content"in e?e.content:null)return(0,p.Y)(p.FK,{children:"Illustration View Model"})}const{aspectRatio:n}=l(t.size.stack||t.size.frame.size);return n?(0,p.Y)(m,{size:t.size,margin:t.margin,shouldAbsolutePosition:r,zStackChild:s,sduiAttribute:"illustration_view_model",alpha:t.alpha,children:(0,p.Y)(C,{aspectRatio:n,stack:d,children:(0,p.Y)(R.xe,{richIllustration:e?.illustration})})}):(0,p.Y)(m,{size:t.size,margin:t.margin,shouldAbsolutePosition:r,zStackChild:s,sduiAttribute:"illustration_view_model",alpha:t.alpha,children:(0,p.Y)(W,{richIllustration:e?.illustration})})}case"LISTCONTENT":{const e=X(t,i),n=e?.LeadingIconBindingID?.leadingContent,a=e?.TitleTextBindingID,o=b(t);return(0,p.Y)(V.A,{leadingContent:n,title:a,size:o.size})}default:return(0,p.Y)(_.A,{children:(0,p.Y)(q,{children:"WHATAREYOU?"})})}},te=n.memo(ee)},73482:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(90417),a=i(40014);function o(e){let{children:t}=e;const[i]=(0,n.useState)(!1);return i?(0,a.Y)(a.FK,{children:t}):null}},92533:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(40304),a=i(18288);const o=()=>(0,n.vm)({...a.E.xlb_friction_batch_2_search,defaultValue:!1})},94937:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(77243),a=i(40014);const o=e=>{let{position:t,top:i,bottom:o,width:r,...s}=e;return(0,a.Y)(n.A,{"data-baseweb":"aspect-ratio-box-body",position:t||"absolute",top:i||0,bottom:o||0,width:r||"100%",...s})}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-65595-ce3b1fba6aae5a37.js.map