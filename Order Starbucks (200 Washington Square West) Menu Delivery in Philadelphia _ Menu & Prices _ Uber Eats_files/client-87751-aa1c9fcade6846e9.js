"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[16051,87751],{1903:(e,i,t)=>{t.d(i,{A:()=>s});var n=t("__fusion__95b4ba69e5"),a=t(40304),r=t(91156),o=t(10226),d=t(65493),l=t(49386);const s=e=>{let{storeUuid:i}=e;const t=(0,r.Ay)(),{deliveryLocation:s}=(0,d.A)(i),{store:c}=(0,l.oX)(),[u,h]=n.useState(null),g=(0,a.KU)(),p=Boolean(c?.data?.isGr)||Boolean(c?.data?.isLost),m=Boolean(s);return n.useEffect((()=>{if(null!==u||m)return;const e=g.getString({...o.Y.store_address_entry_optimization,defaultValue:"default"});p||t("eats:store_address_entry_optimization_inclusion",{storeUuid:i,treatmentValue:e,storeConditions:p,hasDeliveryLocation:m,isGr:Boolean(c?.data?.isGr),isLost:Boolean(c?.data?.isLost)}),h(e)}),[g,u,m,p,t,i,c?.data?.isGr,c?.data?.isLost]),{isLoaded:null!==u,isTreatment:Boolean("TREATMENT"===u),isControl:Boolean("CONTROL"===u||"default"===u||"fallback"===u)}}},20962:(e,i,t)=>{t.d(i,{A:()=>x});var n=t(90417),a=t(41967),r=t(39182),o=t(46510),d=t(24530),l=t(40014);const s={default:{toggleBackgroundColor:"backgroundPrimary",selectedItemColor:"contentPrimary",itemColor:"contentPrimary",togglePillBackgroundColor:"backgroundSecondary"},contrast:{toggleBackgroundColor:"backgroundInversePrimary",selectedItemColor:"contentInversePrimary",itemColor:"contentPrimary",togglePillBackgroundColor:"backgroundSecondary"},transparent:{toggleBackgroundColor:"backgroundPrimary",selectedItemColor:"contentPrimary",itemColor:"contentPrimary",togglePillBackgroundColor:"backgroundOverlay"}},c={mini:"36px",default:"40px",large:"48px"},u=(0,a.I4)("div",(e=>{let{$width:i}=e;return{display:"flex",position:"relative",width:i||"auto"}})),h=(0,a.I4)("div",(e=>{let{$theme:i,$background:t,$height:n,$isDisabled:a}=e;return{background:i.colors[t],display:"flex",width:"100%",borderRadius:i.borders.pillButtonBorderRadius,padding:"4px",boxSizing:"border-box",whiteSpace:"nowrap",height:n||"40px",...a?{...(0,d.A)(i)}:{}}})),g=(0,a.I4)("div",(e=>{let{$position:i,$theme:t,$width:n,$background:a}=e;return{position:"absolute",transform:`translateX(${i}px)`,height:"calc(100% - 8px)",width:`${n||0}px`,background:t.colors[a],borderRadius:t.borders.pillButtonBorderRadius,zIndex:r.IQ.base,transition:n?r.bm.default:"none"}})),p=(0,a.I4)("div",{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",width:"100%"}),m=(0,a.I4)("div",(e=>{let{$isDisabled:i}=e;return{display:"flex",justifyContent:"center",zIndex:r.IQ.surface,...i?{pointerEvents:"none"}:{}}})),f=(0,a._F)(o.A,(e=>{let{$theme:i}=e;return{display:"flex",flex:1,overflow:"hidden",textOverflow:"ellipsis",alignItems:"center",...i.typography.LabelSmall,justifyContent:"center",height:"100%",padding:`0 ${i.sizing.scale550}`,borderRadius:i.borders.pillButtonBorderRadius,transition:r.bm.default}})),v=e=>{let{value:i,onChange:t,items:a=[],variant:r="default",size:o="default",isDisabled:d=!1,hasPillShadow:v=!1}=e;const[y,b]=(0,n.useState)({position:0,width:0}),x=(0,n.useRef)([]),$=(0,n.useMemo)((()=>s[r]||s.default),[r]);(0,n.useEffect)((()=>{let e=0;a.forEach(((t,n)=>{const a=x.current[n]?x.current[n]?.getBoundingClientRect():null;i===t.value&&a&&b({position:e,width:a.width}),e+=a?.width||0}))}),[i,a]);return(0,l.Y)(u,{children:(0,l.FD)(h,{$background:$.togglePillBackgroundColor,$isDisabled:d,$height:c[o],children:[(0,l.Y)(p,{children:a.map(((e,n)=>{let{label:a,value:r,props:o}=e;const s=i===r,c=(e=>d?"contentStateDisabled":e?$.selectedItemColor:$.itemColor)(s);return(0,l.Y)(m,{ref:e=>{x.current[n]=e},$isDisabled:d,children:(0,l.Y)(f,{type:"radio",color:c,label:a,value:r,checked:s,hideBackground:!0,hasShadow:v&&s,onChange:()=>{d||t(r)},$as:o?.$as,to:o?.to})},r)}))}),(0,l.Y)(g,{$isDisabled:d,$background:$.toggleBackgroundColor,$position:y.position,$width:y.width})]})})};var y=t(3034);const b=()=>{},x=e=>{let{diningModeToggle:i,size:t,hasPillShadow:a}=e;const r=Boolean(i),o=(0,y.A)(i).map((e=>({...e,value:e.value}))),d=(0,n.useMemo)((()=>o.map((e=>({...e,value:e.value})))),[o]),s=i?.value;return r&&s?(0,l.Y)(v,{size:t,items:d,value:s,onChange:b,hasPillShadow:a}):null}},71104:(e,i,t)=>{t.d(i,{A:()=>c});var n=t(90417),a=t(41967),r=t(39182),o=t(40014);const d={"0%":{opacity:0},"100%":{opacity:1}},l={"0%":{opacity:1},"100%":{opacity:0}},s=(0,a.I4)("div",(e=>{let{$visibility:i,$animationDuration:t,$entryAnimation:n,$exitAnimation:a}=e;return{display:"flex",flex:1,animationName:i?n:a,animationDuration:`${t}ms`,animationFillMode:"forwards"}}));s.displayName="AnimatedMountWrapper";const c=e=>{let{$style:i,children:t,visibility:a=!1,shouldUnmountOnHidden:c=!0,animationDuration:u=parseInt(r.bm.defaultDuration,10),entryAnimation:h=d,exitAnimation:g=l}=e;const[p,m]=(0,n.useState)(a);(0,n.useEffect)((()=>{a&&m(!0)}),[a]);const f=(0,n.useCallback)((()=>{!a&&p&&c&&m(!1)}),[a,p,c]);return p?(0,o.Y)(s,{$style:i,$visibility:a,$animationDuration:u,$entryAnimation:h,$exitAnimation:g,onAnimationEnd:f,children:t}):null}},74270:(e,i,t)=>{t.d(i,{A:()=>r});var n=t(40304),a=t(81896);function r(){const e=(0,n.Ab)({...a.P.combined_storefront_xp,defaultValue:""});return{isPickupCTA:"pickup_cta"===e,isClosedStore:"closed_store"===e}}},87751:(e,i,t)=>{t.d(i,{A:()=>ri});var n=t("__fusion__95b4ba69e5"),a=t(90417),r=t(41967),o=t(84183),d=t(12615),l=t(72114),s=t(38370),c=t(40509),u=t(99940),h=t(58711),g=t(86377),p=t(91156);var m=t(37447),f=t(35152),v=t(57891),y=t(57716),b=t(4914),x=t("__fusion__0c87421499"),$=t("__fusion__7c728f7519"),k=t(63919),w=t(34784),A=t(65493),C=t(76857),_=t(84167),S=t(45680),I=t(33225),Y=t(79631),D=t(40014);const B=(0,r.I4)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:"0 1 content"}),M=e=>{let{diningMode:i,deliveryTime:t}=e;const n="scheduled"in t,r=(0,a.useMemo)((()=>n?(0,D.Y)(Y.A,{deliveryTime:t}):null),[n,t]);return(0,D.Y)(B,{"data-test":"delivery-time",children:"scheduled"in t?r:(0,D.Y)(I.A,{shortenedTime:!0,diningMode:i})})};var L=t(48052);const O=(0,r.I4)(y.N_,(e=>{let{$theme:i,$isDisabled:t}=e;return{...i.typography.LabelSmall,borderRadius:i.borders.pillButtonBorderRadius,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",height:`${S.mQ.componentHeight}px`,boxSizing:"border-box",minWidth:`${S.mQ.addressMinWidth}px`,flex:"0 1 auto",color:t?i.colors.contentTertiary:i.colors.contentPrimary}})),P=(0,r.I4)("div",(e=>{let{$theme:i}=e;return{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:`1 1 ${i.sizing.scale1200}`,maxWidth:"180px"}})),R=e=>{const[i,t]=(0,r.c6)(),{deliveryTime:n,deliveryLocation:o,diningMode:d}=(0,A.A)(e.storeUuid,!0),l=(0,a.useContext)(_.nW),s=(0,b.c)(),c=(0,p.Ay)(),u=(0,w.IY)("header-location-button"),{shouldOverrideLabel:h,overrideLabel:g}=(0,C.A)(),{storeUuid:m,isSchedulable:f,showPickupCTAMode:v}=e,{redirectUrl:y}=(0,L.y)();if(!o&&!v)return null;const S=h||v?g:o?.address.address1;return(0,D.FD)(O,{"data-testid":"edit-delivery-location-button",ref:u,$isDisabled:e.deliveryLocationPickerDisabled,to:()=>y({storeUuid:m,isSchedulable:f,locationManagerOrigin:"feed",nextUrl:!0}),onClick:i=>{e.deliveryLocationPickerDisabled?i.preventDefault():(c("eats:delivery_details_click"),l.set("addressChangeTouched",!0))},"aria-label":`${s("component.location_typeahead_mobile.deliver_to")} ${S||""}`,children:[(0,D.Y)(x.default,{size:"16","aria-hidden":"true",className:i({marginRight:t.sizing.scale100})}),(0,D.Y)(P,{"data-testid":"delivery-address-label",children:S}),(0,D.Y)(k.A,{spaces:2}),(0,D.Y)(M,{diningMode:d,deliveryTime:n}),(0,D.Y)($.default,{size:"16","aria-hidden":"true",className:i({marginLeft:t.sizing.scale100})})]})};var z=t(44575),T=t(20962),U=t(16498),F=t(50277),W=t(17649),E=t(31010),H=t(50371),Q=t(50523),N=t(57426),V=t(86105),K=t(23599),G=t(89864),j=t("__fusion__ea33f54d85"),X=t(71715),J=t(958),Z=t(39182),q=t(42120),ee=t(23963),ie=t(59160),te=t(83007),ne=t(71085),ae=t(8700),re=t(28123);const oe=e=>{const{store:i}=(0,ae.Ay)(e);return(0,a.useMemo)((()=>{if(i&&i.data)return(0,re.OL)(i.data)}),[i])};var de=t(93640),le=t(41908),se=t(62707),ce=t(56554),ue=t(8474),he=t(65714),ge=t(61079),pe=t(23977),me=t(66371),fe=t(85951);const ve=Math.round(555.5),ye=(0,r.I4)("div",(e=>{let{$theme:i}=e;return{display:"flex",maxWidth:`${S.mQ.componentHitArea}px`,position:"relative"}})),be=(0,r.I4)("div",(e=>{let{$theme:i,$isLoading:t}=e;return{...t?{...(0,ee.A)({$theme:i}),backgroundSize:"100vw 100%"}:{},display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",borderRadius:i.borders.pillButtonBorderRadius,margin:0,whiteSpace:"nowrap",...i.typography.LabelMedium}})),xe=(0,r.I4)("div",{display:"flex",flexDirection:"row",alignItems:"center",height:`${S.mQ.componentHeight}px`,width:`${S.mQ.componentHeight}px`}),$e=(0,r.I4)("div",(e=>{let{$theme:i,$direction:t}=e;return{width:"18px",height:"36px",background:`radial-gradient(circle at ${"ltr"===t?"100%":"0%"}, transparent 18px, ${i.colors.backgroundPrimary} 18px)`}})),ke=(0,r.I4)("div",(e=>{let{$theme:i,$direction:t}=e;return{width:"18px",height:"36px",background:`radial-gradient(circle at ${"ltr"===t?"0%":"100%"}, transparent 18px, ${i.colors.backgroundPrimary} 18px)`}})),we=(0,r.I4)("div",(e=>{let{$theme:i}=e;return{background:i.colors.menuFill,color:i.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:i.sizing.scale300,top:i.sizing.scale1000,right:"0",position:"absolute",width:"420px",borderRadius:i.sizing.scale300,maxHeight:`${ve}px`,overflow:"auto",zIndex:Z.IQ.modal}})),Ae=()=>{const[e,i]=(0,r.c6)(),{toggleSidebarCartVisible:t,headerCartDropdownVisible:a,setHeaderCartDropdownVisible:o}=(0,G.lK)(),{totalOrders:d,cartViews:l,currentStoreDraftOrderUUID:s,draftOrders:c,draftOrderUUIDs:u,setActiveDraftOrder:h}=(0,X.A)(),{isDelegatedBooking:g}=(0,ce.G)(),{isBundledOrder:m}=(0,le.tC)(),f=(0,p.Ay)(),{startTiming:v}=(0,me.zR)(),y=(0,b.c)(),{toggleIsDropdownOpen:x,dropdownRef:$,isDropdownOpen:k,onCartSelect:w}=(0,J.A)({isDropdownOpen:a,setIsDropdownOpen:o}),A=(0,H.g)(),C=(0,ne.A)({encodedStoreUuid:A?.encodedStoreUuid}),{isEditOrder:_,currentUserItemCount:S}=(0,W.A)(C),{isLiveOrder:I}=(0,pe.G)(),Y=(0,ge.P)(),B=oe(C),M=I||Boolean(s),L=(0,ie.jH)(),O=(0,se.ur)(),{isRepeatOrderCartView:P}=(0,q.A)(),R=(0,V.zy)(),{cartOpen:z}=(0,ue.g$k)(R,["cartOpen"]),T=n.useCallback((()=>{if(M||_)h(s||""),t(),f("eats:cart_cta_click",{isMulticart:"true",...m?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null});else{if(0===d||g)t();else if(1!==d||P(l[0])||(0,de.c)(l[0]))x();else{const e=l[0]?.metadata?.openCheckoutMetadata,i=e?.draftOrderUUID??e?.bundleGroupMetadata?.primaryDraftOrderUUID??u[0];h(i),t()}v(fe.s.CART_LOAD_FROM_HEADER_CLICK,{shouldOverride:!0,metadata:{storeVerticalType:B}}),f("eats:cart_cta_click",{isMulticart:"true"})}}),[M,_,h,s,t,f,m,d,g,P,l,v,B,u,x]),U=m?O:I?Y:S;n.useEffect((()=>{f("eats:multicart_cart_pill",{...m?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})}),[f,m]),n.useEffect((()=>{z&&c.hasLoaded&&("single"===z?t():T())}),[c.hasLoaded]);const F=M||_;return(0,D.Y)(ye,{ref:$,children:(0,D.Y)(be,{$isLoading:!c.hasLoaded,children:c.hasLoaded?(0,D.FD)(D.FK,{children:[(0,D.Y)(he.$n,{"data-test-id":"view-carts-btn","data-test":"items-button","aria-label":F?0===U?y("shared.cartIsEmpty"):y(1===U?"shared.numCartItemsSingular":"shared.numCartItems",{numCartItems:U}):y(1===d?"shared.numCartsSingular":"shared.numCarts",{numCarts:d}),onClick:T,kind:"tertiary",shape:"circle",overrides:{BaseButton:{style:e=>{let{$theme:i}=e;return{position:"relative",top:i.sizing.scale0}}}},children:(0,D.Y)(Q.A,{color:N.o$.positive,content:F?U:d,overrides:{Badge:{props:{"data-testid":"view-carts-badge"}}},children:(0,D.Y)(j.default,{size:20,title:y(F?"shared.cart":"multicart.carts")})})}),k?(0,D.Y)(we,{children:(0,D.Y)(te.A,{onCartSelect:(e,i)=>{w(e,i),t()},isMobile:!1})}):null]}):(0,D.FD)(xe,{children:[(0,D.Y)($e,{$direction:L}),(0,D.Y)(K.lL,{$width:i.sizing.scale1200}),(0,D.Y)(ke,{$direction:L})]})})})};var Ce=t(80672),_e=t(95397);const Se=()=>{const e=(0,E.A)(),i=(0,b.c)(),{serverCart:t}=(0,le.B_)(),{toggleSidebarCartVisible:n}=(0,G.lK)(),a=t.data?.items||[],r=(0,Ce.IF)(a),{isDraftOrderParticipant:o,isBillSplitOrder:d}=(0,W.A)(),l=(0,c.A)(),s=(0,p.Ay)(),u=(0,_e.A)();return e&&(!o||l||u&&d)?(0,D.Y)(he.$n,{"data-test-id":"view-carts-btn","aria-label":"checkout",onClick:()=>{n(),s("eats:cart_cta_click")},kind:"tertiary",shape:"circle",children:(0,D.Y)(Q.A,{color:N.o$.positive,content:r,overrides:{Root:{style:e=>{let{$theme:i}=e;return{top:i.sizing.scale0}}}},children:(0,D.Y)(j.default,{size:20,title:i("shared.cart")})})}):null},Ie=()=>{const e=(0,E.A)(),i=(0,c.A)(),{isDraftOrderParticipant:t,isBillSplitOrder:n}=(0,W.A)(),a=(0,_e.A)();return(e||i)&&(!t||i||a&&n)?i?(0,D.Y)(Ae,{}):(0,D.Y)(Se,{}):null};var Ye=t(81282),De=t(65545),Be=t(10532),Me=t(59056),Le=t(25816),Oe=t(42668),Pe=t(79193);const Re=(0,r.I4)("div",{height:`${S.mQ.height}px`});Re.displayName="HeaderV2DesktopWrapper";const ze=(0,r.I4)("div",(e=>{let{$isSticky:i}=e;return{width:"100%",...i?{position:"fixed",top:"0",left:"0",zIndex:Z.IQ.cover}:{}}}));ze.displayName="HeaderV2StickyContainer";const Te=e=>{let{isSticky:i,children:t}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),[o,d]=(0,a.useState)(!1),[l,s]=(0,a.useState)(!1),[c,u]=(0,a.useState)(0),h=(0,a.useCallback)((()=>{const e=n.current,i=r.current;if(!e||!i)return;const t=e.getBoundingClientRect(),a=i.getBoundingClientRect(),h=t.top<=0;o===h&&c===a.height||(d(h),u(a.height)),t.top<0&&!l?s(!0):t.top>=0&&l&&s(!1)}),[l,o,c]);return(0,a.useEffect)((()=>{if(Pe.A&&i){let e=null;return Pe.A.IntersectionObserver&&(e=new Pe.A.IntersectionObserver(h,{root:null,threshold:1,rootMargin:"-1px 10000px"}),n.current&&e?.observe(n.current)),Pe.A.addEventListener("scroll",h),h(),()=>{e?.disconnect(),Pe.A?.removeEventListener("scroll",h)}}}),[i,h]),(0,D.Y)(Re,{ref:n,"data-testid":"header-v2-wrapper",children:(0,D.Y)(ze,{$isSticky:o,ref:r,children:t(o&&l)})})};var Ue=t(57749),Fe=t(21630),We=t(71104),Ee=t(75187),He=t(71679),Qe=t(33801),Ne=t(71640),Ve=t(74270),Ke=t(5678),Ge=t(45829),je=t(1903),Xe=t(95884),Je=t(73792);const Ze=(0,r.I4)("div",(e=>{let{$theme:i,$hasMinWidth:t}=e;return{maxWidth:`${S.mQ.maxWidth}px`,minWidth:t?`${S.mQ.minWidth}px`:void 0,paddingLeft:`${S.mQ.padding}px`,paddingRight:`${S.mQ.padding}px`,margin:"0 auto",boxSizing:"border-box",height:`${S.mQ.height}px`,color:i.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center"}}));Ze.displayName="HeaderWrapper";const qe=(0,r.I4)("div",(e=>{let{$showDiningMode:i,$showAddress:t,$showSearch:n,$hasDeliveryLocation:a}=e,r=0;return a?(i&&(r+=S.mQ.diningModeMinWidth+S.mQ.componentSpacing),t&&(r+=S.mQ.addressMinWidth+S.mQ.componentSpacing),n&&(r+=S.mQ.searchMinWidth+S.mQ.componentSpacing)):t&&(r=S.mQ.unaddressedMinWidth),{display:"flex",flex:"1 1 auto",alignItems:"center",alignSelf:"flex-start",height:"100%",minWidth:`${r}px`,width:"100%"}})),ei={from:{maxWidth:"100%",opacity:1},to:{maxWidth:"0%",opacity:0}},ii={from:{maxWidth:"0%",opacity:0},to:{maxWidth:"100%",opacity:1}},ti=e=>{const{diningMode:i,diningModeLinks:t,address:y,showCart:b,showLoginSignup:x,search:$,isSticky:k,background:w,navigation:C,customNavigation:_,onClickBack:I,page:Y,isOverlay:B}=function(e){const i=e.type??"default",t=(0,a.useMemo)((()=>{switch(i){case"default":return{type:i,diningMode:e.diningMode??"hidden",address:e.address??"default",showCart:e.showCart??!0,showLoginSignup:e.showLoginSignup??!0,search:e.search??"default",isSticky:e.isSticky??!0,background:e.background??"default",navigation:e.navigation??"default",disableRedirectToHomeFeed:e.disableRedirectToHomeFeed??!1,page:e.page??"default",isOverlay:e.isOverlay??!1};case"full":return{type:i,diningMode:e.diningMode??"default",address:e.address??"default",showCart:e.showCart??!0,showLoginSignup:e.showLoginSignup??!0,search:e.search??"default",isSticky:e.isSticky??!0,background:e.background??"default",navigation:e.navigation??"default",disableRedirectToHomeFeed:e.disableRedirectToHomeFeed??!1,page:e.page??"default",isOverlay:e.isOverlay??!1};case"minimal":return{type:i,diningMode:e.diningMode??"hidden",address:e.address??"hidden",showCart:e.showCart??!1,showLoginSignup:e.showLoginSignup??!1,search:e.search??"hidden",isSticky:e.isSticky??!0,background:e.background??"default",navigation:e.navigation??"default",disableRedirectToHomeFeed:e.disableRedirectToHomeFeed??!1,page:e.page??"default",isOverlay:e.isOverlay??!1}}}),[e.background,e.diningMode,e.disableRedirectToHomeFeed,e.isSticky,e.navigation,e.address,e.showCart,e.showLoginSignup,e.search,i,e.page,e.isOverlay]);return t.diningModeLinks=e.diningModeLinks,t.onClickBack=e.onClickBack,t.customNavigation=e.customNavigation,t}(e),[M,L]=(0,r.c6)(),O=n.useRef(null),{user:P}=(0,o.A)(),W=(0,d.A)(),E=(0,c.A)(),[H,Q]=(0,a.useState)(!1),{feed:N}=(0,h.A)(),V=(0,p.Ay)(),K=(0,v.XU)((e=>e.encodedStoreUuid)),G=(0,ne.A)({encodedStoreUuid:K,shouldEvaluate:Boolean(K)}),{store:j}=(0,ae.Ay)(G),X=(0,je.A)({storeUuid:G}),J=Boolean(G),Z=Boolean(j.data?.scheduledOrderInfo?.isSchedulable),{isPickupCTA:q}=(0,Ve.A)(),ee=(0,f._l)((e=>Boolean(e?.pathname?.startsWith("/search")))),{diningModes:ie}=(0,Me.Ay)(null),te=(0,Le.A)(ie),re=(0,Oe.w)(),{state:{isAddressInputVisible:oe,address:de}}=(0,Fe.x)(),le=de??y,{diningMode:se}=(0,A.A)(),ce=(0,a.useMemo)((()=>{if("hidden"===i||re)return V("eats:header_dining_mode_visibility",{isHidden:!0,label:"explicitly_hidden_or_non_eats_market",diningMode:se}),!0;if("link"===i)return t?.value||V("eats:header_dining_mode_visibility",{isHidden:!0,label:"no_dining_mode_links",diningMode:se}),!t?.value;if(!W&&"PICKUP"!==se)return V("eats:header_dining_mode_visibility",{isHidden:!0,label:"no_delivery_location_delivery_mode",diningMode:se}),!0;const e=!te||te.length<2;return e||V("eats:header_dining_mode_visibility",{isHidden:!1,label:"cached_feed_dining_modes_gte_2",diningMode:se}),e}),[i,re,W,se,te,t?.value,V]),{campaign:ue}=(0,De.s)(J||!1),he=J&&"instore"===$?U.A:Be.A,ge=(0,Ee.l)(),pe=(0,He.A)(),me="PICKUP"===se,fe=me&&q,ve=X.isLoaded&&X.isControl?k:X.isTreatment?Boolean(W)&&k:k,ye=X.isLoaded&&X.isControl?oe:X.isTreatment?Boolean(j.data?.isGr)&&oe:oe,be=(0,Xe.c)({skip:Boolean(j.data?.isGr)}),xe=be&&me,$e="PICKUP"===(0,Je.W)(),ke=be&&$e;return(0,D.Y)(Te,{isSticky:k,children:e=>(0,D.Y)(m.hJ,{$showOverlay:!1,children:(0,D.Y)(m.mO,{ref:O,$isTransparent:!e&&("transparent"===w||B),$hasBorderBottom:J?ve:e,children:(0,D.FD)(Ze,{$hasMinWidth:!ge&&!pe,children:[(0,D.Y)("div",{className:M({flex:"0",marginInlineStart:`-${L.sizing.scale550}`}),children:(0,D.Y)(Ue.A,{navigation:C,customNavigation:_,onClickBack:I})}),(0,D.Y)("div",{className:M({marginInlineStart:L.sizing.scale300,marginInlineEnd:L.sizing.scale850,justifyContent:"flex-start",flex:"0"}),children:(0,D.Y)(s.A,{size:"small"})}),(0,D.FD)(qe,{$showDiningMode:!ce,$showAddress:"hidden"!==le,$showSearch:"hidden"!==$,$hasDeliveryLocation:Boolean(W),children:[(0,D.FD)(We.A,{visibility:!0,entryAnimation:ii,exitAnimation:ei,$style:{flex:"0 1 auto",overflow:"hidden"},children:[ce?null:(0,D.Y)("div",{className:M({marginInlineEnd:`${S.mQ.componentSpacing}px`}),children:"link"===i?(0,D.Y)(T.A,{diningModeToggle:t,size:"mini",hasPillShadow:!0}):(0,D.Y)(z.A,{isDisabled:N.isLoading,size:"mini",hasPillShadow:!0})}),W&&"hidden"!==le&&"unaddressedOnly"!==le||fe||xe?(0,D.Y)("div",{className:M({display:"flex",marginInlineEnd:`${S.mQ.componentSpacing}px`,flex:"0 1 auto",minWidth:"fit-content"}),children:(0,D.Y)(R,{storeUuid:G,isSchedulable:Z,deliveryLocationPickerDisabled:"disabled"===le,showPickupCTAMode:fe||xe})}):null]}),W?"hidden"!==$?(0,D.Y)(he,{wrapperRef:O,expandedState:H,setExpandedState:Q,isSearchFeed:ee,storeUuid:G,size:"mini",isOverlay:B}):(0,D.Y)(m.IJ,{}):"hidden"===le||xe?null:(0,D.Y)(We.A,{visibility:ye,children:(0,D.Y)(F.A,{})})]}),b&&W?(0,D.Y)("div",{className:M({flex:"0",minWidth:L.sizing.scale700})}):null,(0,D.Y)("div",{className:M({justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),children:(0,D.FD)(D.FK,{children:[b&&(W||ke)?(0,D.FD)(D.FK,{children:[(0,D.Y)(Ie,{}),E?(0,D.Y)(g.A,{startShoppingRedirect:!ee&&!J}):(0,D.Y)(Ke.A,{children:(0,D.Y)(u.A,{})})]}):null,(0,D.Y)(Ge.A,{page:Y}),J&&H?null:(0,D.Y)(l.A,{}),P.data?.isLoggedIn?null:(0,D.Y)(D.FK,{children:(0,D.Y)("div",{className:M({display:"flex",marginInlineStart:`${S.mQ.componentSpacing}px`}),children:x?(0,D.Y)(Ye.H,{campaign:ue,hideIcon:!0,signInButtonColor:"transparent"!==w||e?"transparent":"white",signUpButtonColor:"transparent"===w?"black":"default"}):null})})]})})]})})})})},ni=()=>(0,D.Y)(Ze,{$hasMinWidth:!1,$style:{justifyContent:"center"},children:(0,D.Y)(Ne.A,{background:"header"})}),ai=e=>(0,D.Y)(Qe.A,{FallbackComponent:ni,component:"header_v2",children:(0,D.Y)(ti,{...e})}),ri=(0,a.memo)(ai)},__fusion__7c728f7519:(e,i,t)=>{t.r(i),t.d(i,{default:()=>r});var n=t(90417),a=t(40014);const r=n.forwardRef((function(e,i){let{title:t="Chevron down small",titleId:n,size:r="1em",...o}=e;return(0,a.FD)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",ref:i,"aria-labelledby":n,...o,children:[void 0===t?(0,a.Y)("title",{id:n,children:"Chevron down small"}):t?(0,a.Y)("title",{id:n,children:t}):null,(0,a.Y)("path",{d:"M18 8v3.8l-6 4.6-6-4.6V8l6 4.6L18 8Z",fill:"currentColor"})]})}))}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-87751-aa1c9fcade6846e9.js.map