(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[19640],{9146:(e,t,i)=>{"use strict";i.d(t,{a:()=>n,w:()=>r});const n=8e3,r="210px"},11386:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(7139);function r(e){return(0,n.dN)(e)}},11619:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(41967),r=i(50366),l=i(4914),s=i(40014);const E=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",gap:t.sizing.scale100}})),a=e=>{let{priceEstimate:t,currencyCode:i,isPricedByWeight:n}=e;const a=(0,l.c)(),_=a(n?"activeOrder.summaryDetails.estimatedTotal":"component.activeOrderFeedOrderSummaryCard.total");return(0,s.FD)(E,{children:[(0,s.Y)("span",{children:_}),(0,s.Y)(r.A,{value:t,currencyCode:i})]})}},12363:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i("__fusion__95b4ba69e5"),r=i(39027),l=i(37156),s=i(41967),E=i(60331),a=i(89077),_=i(40014);const I=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundTertiary,height:t.sizing.scale300}})),T=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:t.sizing.scale600}})),d=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600,margin:t.sizing.scale600}})),o=(0,s.I4)("div",{display:"flex"}),c=e=>{let{auxiliarySections:t}=e;const[,i]=(0,s.c6)();return t?(0,_.Y)(_.FK,{children:t?.map(((e,t)=>(0,_.FD)(n.Fragment,{children:[(0,_.Y)(I,{}),(0,_.FD)(d,{children:[e?.header?(0,_.Y)(E.Ay,{text:e.header.title}):null,e.elements?.map(((e,t)=>(0,_.FD)(T,{children:[e.badgedLeadingIllustration?(0,_.Y)(a.Ay,{badge:e.badgedLeadingIllustration.itemThumbnailBadge,width:i.sizing.scale1200,height:i.sizing.scale1200,position:"TOP_RIGHT",children:(0,_.Y)(l.Ay,{illustration:e.badgedLeadingIllustration.thumbnailIllustration?.illustration})}):null,e.leadingIllustration?(0,_.Y)(l.Ay,{illustration:e.leadingIllustration.illustration}):null,(0,_.FD)("div",{children:[e?.title?.text?.text?(0,_.Y)(r.w_,{as:"span",children:e.title.text.text}):null,(0,_.Y)(o,{children:e.notes?.map(((e,t)=>(0,_.Y)(E.Ay,{text:e.text},`note-${t}`)))})]})]},`element-${t}`)))]})]},`auxiliary-section-${t}`)))}):null}},16845:(e,t,i)=>{"use strict";i.d(t,{A:()=>L});var n=i("__fusion__95b4ba69e5"),r=i(41967),l=i(60331),s=i(98042),E=i(89077),a=i(39027),_=i(4914),I=i(40014);const T=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",padding:`${t.sizing.scale650} 0`}})),d=(0,r.I4)("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",cursor:"pointer"}),o=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:`${t.sizing.scale600} 0`,gap:t.sizing.scale300}})),c=(0,r.I4)("div",{display:"flex",alignItems:"center"}),u=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"grid",gridTemplateColumns:`${t.sizing.scale550} auto 1fr`,alignItems:"center"}})),N=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",width:"80%",justifyContent:"flex-start",flexDirection:"column",gap:t.sizing.scale100}})),m=(0,r.I4)("img",(e=>{let{$theme:t,$opacity:i}=e;return{height:t.sizing.scale1200,width:t.sizing.scale1200,objectFit:"cover",flexShrink:0,opacity:i}})),O=e=>{let{item:t,sharedData:i,handleActionButtons:O,setSelectedShoppingCartItemUuid:L,isLoading:g}=e;const[,M]=(0,r.c6)(),h=(0,_.c)(),A=t?.cursory?.descriptor?.displayableName?.text?.text??"",U=n.useMemo((()=>t?.cursory?.descriptor?.salientNotes||null),[t]),F=n.useMemo((()=>t?.cursory?.thumbnailImage?.imageUrl?.dayImageUrl||null),[t]),p=t?.cursory?.thumbnailImage?.imageAlpha??1,R=t?.cursory?.actionButtons;return(0,I.FD)(T,{children:[(0,I.FD)(d,{onClick:()=>{if(g)return null;const e=t.cursory?.descriptor?.itemId?.shoppingCartItemUuid;e&&L(e)},children:[(0,I.FD)(N,{children:[A?(0,I.Y)(a.w_,{"data-testid":"summary-details-item-title",children:A}):null,U?.map(((e,t)=>{const i="icon"===e?.text?.richTextElements?.[0]?.type,n=i?`0 ${M.sizing.scale0} 0`:"0";return i?(0,I.Y)(u,{children:(0,I.Y)(l.Ay,{text:e.text,padding:n})},t):(0,I.Y)(c,{children:(0,I.Y)(l.Ay,{text:e.text})},t)}))]}),i?(0,I.Y)(E.Ay,{badge:i?.itemThumbnailBadge,width:M.sizing.scale1200,height:M.sizing.scale1200,position:"TOP_RIGHT",children:F?(0,I.Y)(m,{src:F,$opacity:p,alt:h("activeOrder.summaryDetails.productThumbnail"),"data-testid":"summary-details-product-thumbnail"}):null}):null]}),R?(0,I.Y)(o,{children:R?.map(((e,i)=>e?.button?(0,I.Y)("div",{children:(0,I.Y)(s.A,{viewModel:e.button,onClick:()=>e.action?O(e.action,t):null,isDisabled:g})},`button-${i}`):null))}):null]})},L=n.memo(O)},17070:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(39431),r=i(66764),l=i(41967),s=i(43316),E=i(33651),a=i(40014);const _=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"624px",margin:"auto",padding:t.sizing.scale1200,[t.mediaQuery.medium]:{padding:t.sizing.scale1600}}})),I=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,paddingBottom:t.sizing.scale500,[t.mediaQuery.medium]:{width:t.sizing.scale4800,paddingBottom:t.sizing.scale1400}}})),T=(0,l.I4)(s.A,{width:"100%",height:"100%"}),d=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textAlign:"center",paddingBottom:t.sizing.scale300,[t.mediaQuery.medium]:{...t.typography.HeadingXSmall}}})),o=()=>(0,E.A)()?(0,a.FD)(_,{children:[(0,a.Y)(I,{children:(0,a.Y)(T,{src:(0,n.uq)(i(79703))})}),(0,a.Y)(d,{children:(0,a.Y)(r.H,{id:"crf.substitution_picker_empty_screen.label"})})]}):null},23429:(e,t,i)=>{"use strict";i.d(t,{j:()=>_});var n=i(41967),r=i(5862),l=i(40014);const s=(0,n.I4)("div",(e=>{let{$theme:t,$sticky:i,$isStuck:n}=e;return{paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600,[t.mediaQuery.medium]:{paddingLeft:t.sizing.scale800,paddingRight:t.sizing.scale800,paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale800},...i?{background:t.colors.backgroundPrimary,position:"sticky",bottom:0,boxShadow:n?t.lighting.shallowAbove:void 0}:null}})),E=(0,n.I4)("div",{flexGrow:1}),a=(0,n.I4)("div",{height:"0px"}),_=(0,n.K6)(s,(e=>function(t){const{sticky:i=!0,pushToBottom:n=!0,children:s}=t,{sentinelHidden:_,sentinelRef:I}=(0,r.V)({detectionMode:r.A.below});return(0,l.FD)(l.FK,{children:[n?(0,l.Y)(E,{}):null,i?(0,l.Y)(a,{ref:I}):null,(0,l.Y)(e,{$sticky:i,$isStuck:i&&_,children:s})]})}))},25068:(e,t,i)=>{"use strict";i.d(t,{A:()=>te});var n=i("__fusion__95b4ba69e5"),r=i(59782),l=i(43712),s=i(1335),E=i(89846),a=i(23429),_=i(41967),I=i(60331),T=i(98042),d=i(66764),o=i(43316),c=i(65714),u=i(73569),N=i(84062),m=i(31643),O=i(46252),L=i(9146),g=i(39027),M=i(93081),h=i(11619),A=i(12363),U=i(90622),F=i(11386),p=i(40014);const R=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0`}})),S=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600,margin:t.sizing.scale600}})),D=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),Y=(0,_.I4)("div",{width:"100%",height:L.w,display:"flex",justifyContent:"center",alignItems:"center"}),f=(0,_.I4)("img",{width:"100%",height:"100%",objectFit:"contain",flexShrink:0}),P=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundTertiary,height:t.sizing.scale300}})),y=(0,_.I4)("div",{display:"flex",alignItems:"center",justifyContent:"space-between"}),C=e=>{let{originalItem:t,substituteItem:i,onClose:_,handleConfirm:I,store:T}=e;const o=t?.expanded?.auxiliarySections,{imageUrl:c,title:u,priceTagline:N,formattedPrice:m,description:L,imageURL:C}=i,{defaultQuantity:b,price:x}=(0,U.w)(i),[V,z]=n.useState(b),v=x*V,$=(0,F.A)(i);return(0,p.FD)(r.aF,{size:l.SK.default,children:[(0,p.Y)(s.rQ,{floatingMode:s.fV.floating,leftButton:(0,p.Y)(E.J,{onClick:_})}),(0,p.FD)(R,{children:[i?(0,p.FD)(S,{children:[c||C?(0,p.Y)(Y,{children:(0,p.Y)(f,{src:c||C||""})}):null,(0,p.FD)(D,{children:[u?(0,p.Y)(g.OU,{children:u}):null,N?.text||m?(0,p.Y)(g.en,{as:"span",children:N?.text||m}):null]}),(0,p.FD)(y,{children:[(0,p.Y)(M.A,{item:i,quantity:V,updateQuantity:z}),T?.currencyCode?(0,p.Y)(h.A,{priceEstimate:v,currencyCode:T.currencyCode,isPricedByWeight:$}):null]})]}):null,(0,p.Y)(P,{}),(0,p.Y)(A.A,{auxiliarySections:o}),(0,p.Y)(P,{}),L?(0,p.FD)(S,{children:[(0,p.Y)(g.en,{as:"span",children:(0,p.Y)(d.H,{id:"shared.description"})}),(0,p.Y)(g._I,{children:L})]}):null]}),(0,p.Y)(a.j,{children:(0,p.Y)(O.j,{onClick:()=>I(V),"data-testid":"confirmReplacement",children:(0,p.Y)(d.H,{id:"activeOrder.summaryDetails.confirmReplacement"})})})]})},b=n.memo(C);var x=i(35508),V=i(8700);const z=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale300} ${t.sizing.scale800}`}})),v=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",marginRight:t.sizing.scale300}})),$=(0,_.I4)(o.A,(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600}})),w=e=>{let{orderUUID:t,storeUuid:i,originalItemAction:a,onClose:_,item:T,handleSubstitutionPicking:o,open:O,handleRefund:L}=e;const[g,M]=n.useState(null),h=a?.requestModifications||null,A=h?.originalItemId?.itemID?.catalogItemUUID||"",U=h?.originalItemId?.sourceItemSectionUuid,F=h?.originalItemHeader?.itemThumbnail?.imageUrl?.dayImageUrl,R=h?.originalItemHeader,{store:S}=(0,V.Ay)(i),D=e=>{const t=x.R9.from(e).toE5().toCoefficientDecimal();g&&o(g,t)};return O&&a&&T?g?(0,p.Y)(b,{originalItem:T,substituteItem:g,onClose:()=>M(null),handleConfirm:D,store:S.data}):(0,p.FD)(r.aF,{size:l.SK.auto,isOpen:!0,onClose:_,children:[(0,p.Y)(s.rQ,{leftButton:(0,p.Y)(E.J,{onClick:_}),title:(0,p.Y)(d.H,{id:"activeOrder.summaryDetails.requestAlternate"}),isExpanded:!0,rightButton:(0,p.Y)(c.$n,{kind:c.Nd.secondary,size:u.SK.compact,shape:u.IW.pill,onClick:L,children:(0,p.Y)(d.H,{id:"activeOrder.summaryDetails.refund"})})}),(0,p.Y)(z,{children:(0,p.Y)(I.Ay,{text:R?.sectionHeaderText})}),(0,p.FD)(m.ek,{children:[(0,p.FD)(m.em,{children:[F?(0,p.Y)($,{src:F}):null,(0,p.FD)(v,{children:[(0,p.Y)(I.Ay,{text:R?.itemTitleText}),(0,p.Y)(I.Ay,{text:R?.itemSubtitleText})]})]}),(0,p.Y)(I.Ay,{text:R?.itemPriceText})]}),i&&U?(0,p.Y)(N.A,{orderUUID:t,handleProductSelection:M,sourceItemSectionUUID:U,sourceItemUUID:A,storeUUID:i,onClose:_}):null]}):null};var k=i(49720),W=i(4914),K=i(91156);const j=(0,_.I4)("div",{display:"flex",flexDirection:"column"}),G=e=>{let{onClose:t,onSubmit:i,workflowUuid:_}=e;const I=(0,W.c)(),T=(0,K.Ay)(),o=()=>{T("eats:replacements_refund_bottom_sheet_dismissed",{workflowUuid:_}),t()};return n.useEffect((()=>{T("eats:replacements_refund_bottom_sheet_impression",{workflowUuid:_})}),[T,_]),(0,p.FD)(r.aF,{size:l.SK.default,children:[(0,p.Y)(s.rQ,{leftButton:(0,p.Y)(E.IZ,{onClick:o}),title:I("activeOrder.summaryDetails.refundItemTitle"),isExpanded:!0}),(0,p.Y)(k.c,{children:(0,p.Y)(g.oS,{children:(0,p.Y)(d.H,{id:"activeOrder.summaryDetails.refundItemDescription"})})}),(0,p.Y)(a.j,{children:(0,p.FD)(j,{children:[(0,p.Y)(c.$n,{onClick:()=>{T("eats:replacements_refund_bottom_sheet_refund_tapped",{workflowUuid:_}),i()},"data-testid":"refund-button",overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundNegative}}}},children:(0,p.Y)(d.H,{id:"activeOrder.summaryDetails.refundItem"})}),(0,p.Y)(c.$n,{kind:c.Nd.tertiary,onClick:o,children:(0,p.Y)(d.H,{id:"shared.goBack"})})]})})]})};var B=i(43386);const Q=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0`}})),H=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600,margin:t.sizing.scale600}})),q=(0,_.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),X=(0,_.I4)("div",{display:"flex"}),J=(0,_.I4)("div",{width:"100%",height:L.w,display:"flex",justifyContent:"center",alignItems:"center"}),Z=(0,_.I4)("img",{width:"100%",height:"100%",objectFit:"contain",flexShrink:0}),ee=e=>{let{items:t,shoppingCartItemUuid:i,onClose:_,handleActionButtons:d,storeUuid:o}=e;const c=(0,K.Ay)(),u=t?.find((e=>e?.cursory?.descriptor?.itemId?.shoppingCartItemUuid===i)),N=u?.expanded?.descriptor?.displayableName?.text?.text??"",m=u?.expanded?.longWriteup?.text?.text??"",O=u?.expanded?.descriptor?.salientNotes||null,L=u?.expanded?.auxiliarySections||null,M=n.useMemo((()=>u?.expanded?.actionButtons||null),[u]),h=n.useMemo((()=>u?.cursory?.thumbnailImage?.imageUrl?.dayImageUrl||null),[u]),U=u?.cursory?.descriptor?.itemId?.cartId?.workflowId?.workflowUuid||"",F=u?.cursory?.descriptor?.itemId?.cartId?.cartUuid||"",R=u?.cursory?.descriptor?.itemId?.itemID?.catalogItemUUID||"",[S,D]=n.useState(!1),[Y,f]=n.useState(null),[P,y]=n.useState(!1),[C,b]=n.useState(null),x=(e,t)=>{if(e||t)return"CART_ITEM_ACTION_TYPE_REQUEST_REFUND"!==e?.type||Y?"CART_ITEM_ACTION_TYPE_REQUEST_MODIFICATIONS"===e?.type&&e?.requestModifications?(b(e),c("eats:replacements_item_details_more_options_tapped",{cartUuid:F,isSpecialItemRequest:(0,B.I)(t),itemUuid:R,storeUuid:o,workflowUuid:U}),D(!0),void f(null)):void d(e,t,!0):(f(e),c("eats:replacements_item_details_impression",{cartUuid:F,isSpecialItemRequest:(0,B.I)(t),itemUuid:R,storeUuid:o,workflowUuid:U}),void y(!0))},V=()=>{Y&&u&&x(Y,u),D(!1),y(!1)},z=()=>{f(null),y(!1)};if(n.useEffect((()=>{u&&c("eats:replacements_item_details_impression",{isSpecialItemRequest:(0,B.I)(u),workflowUuid:U})}),[c,u,U]),P)return(0,p.Y)(G,{workflowUuid:U,onClose:z,onSubmit:V});const v=()=>{c("eats:replacements_item_details_close_tapped",{workflowUuid:U}),_()};return(0,p.FD)(r.aF,{size:l.SK.default,onClose:v,"data-testid":"summary-details-desktop-item-expanded-modal",children:[(0,p.Y)(w,{open:S,orderUUID:U,item:u,storeUuid:o,onClose:()=>D(!1),originalItemAction:C,handleSubstitutionPicking:(e,t)=>{d(C,u,!0,e,t)},handleRefund:()=>{const e=M?.find((e=>"CART_ITEM_ACTION_TYPE_REQUEST_REFUND"===e?.action?.type));f(e?.action||null),y(!0)}}),(0,p.Y)(s.rQ,{floatingMode:s.fV.floating,leftButton:(0,p.Y)(E.J,{onClick:v,"data-testid":"summary-details-desktop-item-expanded-close-button"})}),(0,p.FD)(Q,{children:[(0,p.FD)(H,{children:[(0,p.Y)(J,{children:h?(0,p.Y)(Z,{src:h}):null}),(0,p.FD)(q,{children:[N?(0,p.Y)(g.OU,{as:"span",children:N}):null,O?.map(((e,t)=>(0,p.Y)(X,{children:(0,p.Y)(I.Ay,{text:e.text})},`price-${t}`))),m?(0,p.Y)(g.oS,{as:"span",color:"contentSecondary",children:m}):null]})]}),(0,p.Y)(A.A,{auxiliarySections:L})]}),(0,p.Y)(a.j,{children:(0,p.Y)(q,{children:M?.map(((e,t)=>e?.button?(0,p.Y)("div",{children:(0,p.Y)(T.A,{viewModel:e?.button,onClick:()=>x(e?.action,u)})},`button-${t}`):null))})})]})},te=n.memo(ee)},31643:(e,t,i)=>{"use strict";i.d(t,{HD:()=>T,Jn:()=>s,VL:()=>d,Wt:()=>I,Y9:()=>l,_V:()=>_,ek:()=>o,em:()=>c,xW:()=>a,y_:()=>E});var n=i(41967),r=i(97760);const l=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:t.sizing.scale700,position:"relative"}})),s=(0,n._F)(r.A,(e=>{let{$theme:t}=e;return{position:"absolute",height:t.sizing.scale800,width:t.sizing.scale800,top:0,left:t.sizing.scale550}})),E=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:t.sizing.scale600,padding:t.sizing.scale800}})),a=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale1200,width:t.sizing.scale1200,flexShrink:0,borderRadius:"50%",overflow:"hidden",position:"relative"}})),_=(0,n.I4)("img",(e=>{let{$theme:t}=e;return{height:t.sizing.scale1200,width:t.sizing.scale1200,objectFit:"cover",flexShrink:0}})),I=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),T=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale600,paddingLeft:t.sizing.scale850,paddingRight:t.sizing.scale850}})),d=(0,n.I4)("div",{height:"100%",display:"flex",flexDirection:"column"}),o=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${t.sizing.scale800} ${t.sizing.scale600}`}})),c=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",gap:t.sizing.scale600}}))},33651:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(96452),r=i(40304);const l=function(){return(0,r.vm)({...n.h.enable_custom_replacement_flow_by_upt,defaultValue:!1})}},35575:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var n=i(41967),r=i(23599),l=i(23963),s=i(40014);const E=6,a=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...(0,l.A)({height:208,$theme:t}),display:"flex",flexDirection:"column"}})),_=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",boxSizing:"border-box",borderStyle:"solid",borderColor:t.colors.backgroundPrimary,borderWidth:`${t.sizing.scale600} ${t.sizing.scale800} ${t.sizing.scale600} 0px`}})),I=e=>{const{itemCount:t=E}=e;return Array.from(Array(t)).map(((e,t)=>(0,s.FD)(a,{children:[(0,s.Y)(r.HB,{$width:"100%",$height:"152px"}),(0,s.FD)(_,{children:[(0,s.Y)(r.qd,{width:"80%",typography:"ParagraphMedium"}),(0,s.Y)(r.lL,{$height:"8px"}),(0,s.Y)(r.qd,{width:"30%",typography:"ParagraphSmall"})]})]},t)))}},43386:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});Object.freeze({UNKNOWN:"UNKNOWN",CONTACT_EATER:"CONTACT_EATER",REMOVE_ITEM:"REMOVE_ITEM",CANCEL_ORDER:"CANCEL_ORDER",REDUCE_QUANTITY:"REDUCE_QUANTITY",SUBSTITUTE_ITEM:"SUBSTITUTE_ITEM",STORE_REPLACE_ITEM:"STORE_REPLACE_ITEM",RESERVED_7:"RESERVED_7",RESERVED_8:"RESERVED_8",RESERVED_9:"RESERVED_9",RESERVED_10:"RESERVED_10"}),Object.freeze({CREATED:"CREATED",ORDERED:"ORDERED",DISCARDED:"DISCARDED",REOPENED:"REOPENED",CANCELED:"CANCELED",LOCKED:"LOCKED",UNKNOWN:"UNKNOWN",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5"}),Object.freeze({UNKNOWN:"UNKNOWN",OUT_OF_ITEM:"OUT_OF_ITEM",OUT_OF_OPTION:"OUT_OF_OPTION",CANNOT_FULFILL_ITEM_INSTRUCTION:"CANNOT_FULFILL_ITEM_INSTRUCTION",CANNOT_FULFILL_RESTAURANT_INSTRUCTION:"CANNOT_FULFILL_RESTAURANT_INSTRUCTION",CANNOT_FULFILL_ALLERGY_REQUEST:"CANNOT_FULFILL_ALLERGY_REQUEST",PARTIAL_ITEM_AVAILABILITY:"PARTIAL_ITEM_AVAILABILITY",RESET_ITEM:"RESET_ITEM",RESERVED_8:"RESERVED_8"});const n=Object.freeze({ITEM_ID_TYPE_UNKNOWN:"ITEM_ID_TYPE_UNKNOWN",ITEM_ID_TYPE_CATALOG:"ITEM_ID_TYPE_CATALOG",ITEM_ID_TYPE_WRITE_IN:"ITEM_ID_TYPE_WRITE_IN"}),r=(Object.freeze({ITEM_FULFILLMENT_STATE_TYPE_UNKNOWN:"ITEM_FULFILLMENT_STATE_TYPE_UNKNOWN",ITEM_FULFILLMENT_STATE_TYPE_PENDING:"ITEM_FULFILLMENT_STATE_TYPE_PENDING",ITEM_FULFILLMENT_STATE_TYPE_IN_PROGRESS:"ITEM_FULFILLMENT_STATE_TYPE_IN_PROGRESS",ITEM_FULFILLMENT_STATE_TYPE_FULFILLED:"ITEM_FULFILLMENT_STATE_TYPE_FULFILLED",ITEM_FULFILLMENT_STATE_TYPE_UNFULFILLED:"ITEM_FULFILLMENT_STATE_TYPE_UNFULFILLED"}),Object.freeze({ITEM_NEGOTIATION_STATUS_TYPE_UNKNOWN:"ITEM_NEGOTIATION_STATUS_TYPE_UNKNOWN",ITEM_NEGOTIATION_STATUS_TYPE_ALTERNATIVE_SUGGESTED_BY_MERCHANT:"ITEM_NEGOTIATION_STATUS_TYPE_ALTERNATIVE_SUGGESTED_BY_MERCHANT",ITEM_NEGOTIATION_STATUS_TYPE_REJECTED_BY_CONSUMER:"ITEM_NEGOTIATION_STATUS_TYPE_REJECTED_BY_CONSUMER",ITEM_NEGOTIATION_STATUS_TYPE_ALTERNATIVE_REQUESTED_BY_CONSUMER:"ITEM_NEGOTIATION_STATUS_TYPE_ALTERNATIVE_REQUESTED_BY_CONSUMER",ITEM_NEGOTITATION_STATUS_TYPE_FREEFORM_MODIFICATION_SUGGESTED_BY_FULFILLER:"ITEM_NEGOTITATION_STATUS_TYPE_FREEFORM_MODIFICATION_SUGGESTED_BY_FULFILLER"}),Object.freeze({ITEM_MODIFICATION_PROPOSAL_TYPE_UNKNOWN:"ITEM_MODIFICATION_PROPOSAL_TYPE_UNKNOWN",ITEM_MODIFICATION_PROPOSAL_TYPE_STRUCTURED:"ITEM_MODIFICATION_PROPOSAL_TYPE_STRUCTURED",ITEM_MODIFICATION_PROPOSAL_TYPE_FREEFORM:"ITEM_MODIFICATION_PROPOSAL_TYPE_FREEFORM"}),Object.freeze({ITEM_FULFILLMENT_STATE_UNFULFILLED_REASON_TYPE_UNKNOWN:"ITEM_FULFILLMENT_STATE_UNFULFILLED_REASON_TYPE_UNKNOWN"}),Object.freeze({ITEM_FULFILLMENT_STATE_UNFULFILLED_ACTION_TYPE_UNKNOWN:"ITEM_FULFILLMENT_STATE_UNFULFILLED_ACTION_TYPE_UNKNOWN"}),Object.freeze({INVALID:"INVALID",GTIN:"GTIN",PLU:"PLU"}),Object.freeze({ITEM_FULFILLMENT_EVENT_TYPE_UNKNOWN:"ITEM_FULFILLMENT_EVENT_TYPE_UNKNOWN",ITEM_FULFILLMENT_EVENT_TYPE_FOUND_ORIGINAL_ITEM:"ITEM_FULFILLMENT_EVENT_TYPE_FOUND_ORIGINAL_ITEM",ITEM_FULFILLMENT_EVENT_TYPE_PROPOSED_ITEM_MODIFICATIONS:"ITEM_FULFILLMENT_EVENT_TYPE_PROPOSED_ITEM_MODIFICATIONS",ITEM_FULFILLMENT_EVENT_TYPE_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL:"ITEM_FULFILLMENT_EVENT_TYPE_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL",ITEM_FULFILLMENT_EVENT_TYPE_TERMINATED_ITEM_FULFILLMENT_ATTEMPT:"ITEM_FULFILLMENT_EVENT_TYPE_TERMINATED_ITEM_FULFILLMENT_ATTEMPT",ITEM_FULFILLMENT_EVENT_TYPE_APPROVED_ITEM_MODIFICATIONS_PROPOSAL:"ITEM_FULFILLMENT_EVENT_TYPE_APPROVED_ITEM_MODIFICATIONS_PROPOSAL",ITEM_FULFILLMENT_EVENT_TYPE_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION:"ITEM_FULFILLMENT_EVENT_TYPE_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION"}),Object.freeze({ITEM_FULFILLMENT_EVENT_FOUND_ORIGINAL_ITEM_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_FOUND_ORIGINAL_ITEM_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_FOUND_ORIGINAL_ITEM_VERSION_V1:"ITEM_FULFILLMENT_EVENT_FOUND_ORIGINAL_ITEM_VERSION_V1"}),Object.freeze({ITEM_FULFILLMENT_EVENT_PROPOSED_ITEM_MODIFICATIONS_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_PROPOSED_ITEM_MODIFICATIONS_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_PROPOSED_ITEM_MODIFICATIONS_VERSION_V1:"ITEM_FULFILLMENT_EVENT_PROPOSED_ITEM_MODIFICATIONS_VERSION_V1"}),Object.freeze({ITEM_FULFILLMENT_EVENT_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_V1:"ITEM_FULFILLMENT_EVENT_EXECUTED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_V1"}),Object.freeze({ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_FULFILLMENT_ATTEMPT_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_FULFILLMENT_ATTEMPT_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_FULFILLMENT_ATTEMPT_VERSION_V1:"ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_FULFILLMENT_ATTEMPT_VERSION_V1"}),Object.freeze({ITEM_FULFILLMENT_EVENT_APPROVED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_APPROVED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_APPROVED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_V1:"ITEM_FULFILLMENT_EVENT_APPROVED_ITEM_MODIFICATIONS_PROPOSAL_VERSION_V1"}),Object.freeze({ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION_VERSION_UNKNOWN:"ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION_VERSION_UNKNOWN",ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION_VERSION_V1:"ITEM_FULFILLMENT_EVENT_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION_VERSION_V1"}),Object.freeze({ITEM_PARTICIPANT_ROLE_TYPE_UNKNOWN:"ITEM_PARTICIPANT_ROLE_TYPE_UNKNOWN",ITEM_PARTICIPANT_ROLE_TYPE_CONSUMER:"ITEM_PARTICIPANT_ROLE_TYPE_CONSUMER",ITEM_PARTICIPANT_ROLE_TYPE_MERCHANT:"ITEM_PARTICIPANT_ROLE_TYPE_MERCHANT",ITEM_PARTICIPANT_ROLE_TYPE_COURIER:"ITEM_PARTICIPANT_ROLE_TYPE_COURIER"}),e=>e?.cursory?.descriptor?.itemId?.itemID?.type===n.ITEM_ID_TYPE_WRITE_IN)},79703:(e,t,i)=>{e.exports=i.p+"eb39bc3b4a7a9faa.svg"},84062:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var n=i("__fusion__95b4ba69e5"),r=i(41967),l=i(61073),s=i(97452),E=i(47506),a=i(42394),_=i(57489),I=i(98591),T=i(43017),d=i(83241),o=i(3113),c=i(6453),u=i(17070),N=i(33651),m=i(41857),O=i(46846),L=i(90622),g=i(35575),M=i(40014);const h=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:"676px",minWidth:"676px",boxSizing:"border-box",padding:`0 ${t.sizing.scale600} ${t.sizing.scale600}`,gap:`${t.sizing.scale600} ${t.sizing.scale800}`}})),A=(0,r.I4)("div",(e=>{let{$isSubstitutionPickerRedesignEnabled:t}=e;return{width:"100%",display:"flex",justifyContent:"center",...t?{overflowY:"auto",overflowX:"hidden",flex:1}:{}}})),U=(0,r.I4)("div",{width:"100%"}),F=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{padding:`0 ${t.sizing.scale600}`,marginBottom:t.sizing.scale800}})),p=(0,r.I4)(E.A,(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600}})),R=(0,r.I4)("div",(e=>{let{$height:t,$theme:i,$isSubstitutionPickerRedesignEnabled:n}=e;return{height:t?`${t}px`:"auto",width:"100%",...n?{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridAutoRows:"min-content",gap:`${i.sizing.scale600} ${i.sizing.scale800}`}:{}}})),S=e=>{let{orderUUID:t,storeUUID:i,sourceItemUUID:r,handleProductSelection:E,sourceItemSectionUUID:S,onClose:D,isSubstitutionPickerRedesignEnabled:Y}=e;const[f,P]=n.useState(""),y=(0,O.t)(),C=n.useRef(null),b=C.current?.clientHeight,x=Y?b:void 0,V=(0,T.F)({sourceItemSectionUUID:S,userQuery:f,sourceItemUUID:r,storeUUIDs:[i],orderUUID:t},{queryObserverOptions:{enabled:Boolean(f)}}),z=n.useMemo((()=>V?.catalogSections?.flatMap((e=>e.items?.map(L.j)??[]))),[V]),v=(0,a.w)({storeUUID:i,itemUUID:r,orderUUID:t}),$=(0,N.A)(),w=Y?g.A:p,k=()=>{const{isLoading:e,hasResults:t,isError:i,refetch:n,error:r}=V;return f?y&&i&&"eats.product.notFound"===r?.meta?.code?(0,M.Y)(m.A,{onClick:D}):i?(0,M.Y)(d.A,{refetch:n}):e?(0,M.Y)(R,{$height:x,$isSubstitutionPickerRedesignEnabled:Y,children:(0,M.Y)(w,{})}):t?Y?z?.map((e=>(0,M.Y)(c.A,{item:e,onProductSelect:()=>E(e)},e.itemUUID))):(0,M.Y)(U,{children:V?.catalogSections?.map((e=>(0,M.Y)(_.A,{items:e.items,title:e.title,onProductSelect:E},e?.title?.text)))}):(0,M.Y)(o.A,{userQuery:f}):(0,M.Y)(u.A,{})};return(0,M.FD)(M.FK,{children:[(0,M.Y)(F,{children:(0,M.Y)(I.A,{setUserQuery:P})}),(0,M.Y)(A,{ref:C,$isSubstitutionPickerRedesignEnabled:Y,children:(0,M.Y)(h,{children:f?(0,M.Y)(k,{}):(0,M.Y)(l.n,{source:v,loaded:e=>$&&(null===e?.itemSubstitutes||0===e?.itemSubstitutes?.length)?(0,M.Y)(u.A,{}):(0,M.Y)(M.FK,{children:e?.itemSubstitutes?.map((e=>(0,M.Y)(c.A,{item:e,onProductSelect:()=>E(e)},e.itemUUID)))}),error:e=>(0,M.Y)(s.jO,{code:parseInt(e?.code||"500")}),loading:()=>(0,M.Y)(R,{$height:x,$isSubstitutionPickerRedesignEnabled:Y,children:(0,M.Y)(w,{})})})})})]})}},90622:(e,t,i)=>{"use strict";i.d(t,{j:()=>s,w:()=>l});var n=i(34948),r=i(35508);const l=e=>{const t=e?.purchaseInfo?.purchaseOptions?.[0],i=t?.quantityConstraintsV2||t?.quantityConstraints;return{increment:r.R9.from(i?.increment??1),decrement:r.R9.from(i?.increment??1).multiply(-1),minimumQuantity:r.R9.from(i?.minPermitted??1).toFloat(),maximumQuantity:r.R9.from(i?.maxPermitted??n.$).toFloat(),defaultQuantity:r.R9.from(i?.defaultQuantity??1).toFloat(),price:Number(e?.price||0)}},s=e=>({...e,itemUUID:e.uuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,title:e.title,description:e.itemDescription,imageURL:e.imageUrl,price:e.price,formattedPrice:e.priceTagline?.text})},93081:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i("__fusion__95b4ba69e5"),r=i(41967),l=i("__fusion__8672dec7d9"),s=i("__fusion__bbe38d643a"),E=i(4914),a=i(35508);var _=i(11386),I=i(90622),T=i(40014);const d=(0,r.I4)("button",(e=>{let{disabled:t,$theme:i}=e;return{cursor:"pointer",height:i.sizing.scale800,width:i.sizing.scale800,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",color:t?i.colors.contentInverseSecondary:i.colors.contentPrimary,borderRadius:i.borders.radiusFull}})),o=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale800,width:t.sizing.scale800,display:"flex",alignItems:"center",justifyContent:"center"}})),c=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.sizing.scale100,borderRadius:t.sizing.scale950,backgroundColor:t.colors.backgroundTertiary,...t.typography.LabelSmall,width:t.sizing.scale3200}})),u=e=>{let{item:t,quantity:i,updateQuantity:r}=e;const u=a.R9.from(i),N=(0,E.c)(),m=(0,_.A)(t),{maximumQuantity:O,minimumQuantity:L,increment:g,decrement:M}=(0,I.w)(t||{}),h=n.useMemo((()=>(e=>e?.purchaseInfo?.purchaseOptions?.[0]?.itemQuantityAbbreviation??null)(t)),[t]),A=n.useMemo((()=>m?`${u.toFloat()}${h?" "+h:""}`:u.toFloat()),[m,u,h]),U=e=>{const t=a.R9.from(u).add(e).toFloat();r(t)};return(0,T.FD)(c,{children:[(0,T.Y)(d,{"data-testid":"decrement",disabled:i===L,"aria-label":N("shared.decrement"),onClick:()=>U(M),children:(0,T.Y)(o,{children:(0,T.Y)(s.default,{})})}),(0,T.Y)("div",{children:A}),(0,T.Y)(d,{"data-testid":"increment",disabled:i===O,"aria-label":N("shared.increment"),onClick:()=>U(g),children:(0,T.Y)(o,{children:(0,T.Y)(l.default,{})})})]})}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-19640-15a2e69b75276136.js.map