(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[12433],{4236:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var a=i(41967),r=i(31300),o=i(8474),n=i(57716),l=i(39431),s=i(43316),d=i(67537),c=i(86105),u=i(40014);const p=(0,a.I4)("div",{display:"flex",flexDirection:"column",padding:"56px 16px 80px",alignItems:"center",maxWidth:"624px",margin:"0 auto"}),g=(0,a.I4)("div",{width:"226px",paddingBottom:"56px",transition:"transform 50ms ease-in-out",":hover":{transform:"scale(1.05)"}}),h=(0,a.I4)(s.A,{width:"100%",height:"100%"}),m=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:"8px"}})),y=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,textAlign:"center",maxWidth:"410px",paddingBottom:"24px"}})),f=(0,a._F)(r.A,{width:"410px"}),I=e=>{const t=(0,c.zy)(),{getSeoFeed:a}=(0,d.A)(e.pageType||"home");return(0,u.FD)(p,{children:[(0,u.Y)(g,{$as:n.N_,to:(0,o.a0I)(t),children:(0,u.Y)(h,{src:(0,l.uq)(i(88626))})}),(0,u.Y)(m,{children:e.emptyState.title}),(0,u.Y)(y,{children:e.emptyState.subtitle}),(0,u.Y)(f,{onClick:()=>{a()},children:e.emptyState.linkText})]})}},13084:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var a=i(27559),r=i(41967),o=i(2693),n=i(43316),l=i(98207),s=i(16635),d=i(40014);const c=112,u=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",boxSizing:"border-box",padding:"12px",border:`1px solid ${t.colors.borderOpaque}`}})),p=(0,r.I4)("div",(e=>{let{$imageWidth:t}=e;return{height:`${t||c}px`,flex:1,minWidth:0}})),g=(0,r.I4)("div",(e=>{let{$imageWidth:t}=e;const i=t||c;return{height:`${i}px`,width:`${i+8}px`,display:"flex",flexShrink:0}})),h=(0,r.I4)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),m=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,paddingTop:"4px"}})),y=(0,r.I4)(n.A,(e=>{let{$imageWidth:t,$theme:i}=e;const a=t||c;return{height:`${a}px`,width:`${a}px`,objectFit:"cover",outline:`1px solid ${i.colors.contentPrimary}08`,outlineOffset:"-1px"}})),f=e=>{let{dish:t,storeSlug:i,position:r,actionUrl:n,imageWidth:f}=e;return(0,d.Y)(s.A,{dish:t,storeSlug:i,position:r,actionUrl:n,children:(0,d.FD)(u,{children:[(0,d.FD)(p,{$imageWidth:f,children:[(0,d.Y)(h,{children:t.title}),(0,d.Y)(m,{children:t.price})]}),t.imageUrl?(0,d.FD)(g,{$imageWidth:f,children:[(0,d.Y)(o.Ay,{$width:"8px"}),(0,d.Y)(a.Ay,{height:f||c,once:!0,children:(0,d.Y)(l.A,{src:t.imageUrl,children:(0,d.Y)(y,{src:t.imageUrl,alt:t.title,"aria-hidden":!0,$imageWidth:f})})})]}):null]})})}},16719:(e,t,i)=>{"use strict";i.d(t,{A:()=>go});var a=i(90417),r=i(57716),o=i(50371),n=i(86105),l=i(43139),s=i(78130),d=i(4914),c=i(66764),u=i(41967),p=i(5654),g=i(90984),h=i(31300),m=i("__fusion__95b4ba69e5"),y=i(39431),f=i(88770),I=i(88632),b=i(59160),x=i(27559),A=i(38018),v=i(65888),S=i(40014);const Y=(0,u.I4)("div",{display:"inline-flex",flexDirection:"row",width:"100%"}),C=(0,u.I4)("div",(e=>{let{$direction:t}=e;return{left:0,..."ltr"===t?{transform:"scale(1.5)"}:{marginRight:"-40px",transform:"scale(-1.5, 1.5)"},height:"196px",width:"200px"}})),_=(0,u.I4)("div",{margin:"auto",width:"100%",position:"relative"}),w=(0,u.I4)("div",{margin:"auto",textAlign:"center",alignItems:"center"}),L=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,marginBottom:"8px",width:"100%"}})),T=e=>{const{title:t,linkText:a}=e,r=(0,b.jH)(),o=(0,A.W)(),n=(0,v.z)({impressionEventName:"give_get_storefront_view",payload:{}}),l=(0,v.s)({tapEventName:"give_get_storefront",payload:{}});return m.useEffect((()=>{o("eats:give_get_entry_view",{type:"feed"})}),[o]),(0,S.FD)(Y,{ref:n,children:[(0,S.Y)(C,{$direction:r,children:(0,S.Y)(x.Ay,{once:!0,style:{height:"100%"},children:(0,S.Y)(f.A,{loop:1,animationUrl:(0,y.uq)(i(60464))})})}),(0,S.Y)(_,{children:(0,S.FD)(w,{children:[(0,S.Y)(L,{children:t}),(0,S.Y)(I.A,{eventType:"feed",linkText:a,onClick:l})]})})]})};var U=i(12719),E=i(12471),k=i(53985),$=i(79193),P=i(39332),D=i(2693),O=i(54444),F=i(35050),R=i(28077);var M=i(66838),B=i(91156),N=i(41519),z=i(31725),W=i(42668);const H=(0,u.I4)("ul",{display:"flex",alignItems:"flex-start",justifyContent:"center"}),V=(0,u.I4)("nav",(e=>{let{$alignment:t="center"}=e;return{display:"flex",justifyContent:t}})),K=e=>{const t=m.useRef(null),[i,a]=m.useState(e.shortcuts.length),r=(0,B.Ay)(),o=(0,N.A)(),n=(0,W.w)(),l=(0,z.A)("can_enable_cs_entrypoint_xlb"),s=o&&!l,d=s?e.shortcuts.filter((e=>"shortcut.cornershop_grocery"!==e.analyticsLabel)):e.shortcuts,c=m.useCallback((()=>{if(t.current&&d.length){const e=((e,t,i)=>{if(t<=0)throw new Error("Item size must be positive");if(i<0)throw new Error("Spacer must be non-negative");return Math.floor((e+i)/(i+t))})(t.current.clientWidth-24,M.op,16);a(e)}}),[d.length]),u=(0,P.A)(c,50);if(m.useEffect((()=>{if(s){const t=JSON.stringify(JSON.parse(e.shortcutsMeta).filter((e=>"shortcut.cornershop_grocery"!==e.label)));r("eats:shortcuts_view",{shortcutsMeta:t})}else r("eats:shortcuts_view",{shortcutsMeta:e.shortcutsMeta})}),[r,e.shortcutsMeta,s]),m.useLayoutEffect((()=>(c(),$.A&&$.A.addEventListener("resize",u),()=>{$.A&&$.A.removeEventListener("resize",u)})),[c,u]),!d.length||n&&1===d.length)return null;const p=d.slice(0,i);return(0,S.Y)(V,{"data-testid":"shortcut-bar",ref:t,$alignment:e.alignment,children:(0,S.Y)(H,{children:(0,S.Y)(O.A,{separator:()=>(0,S.Y)(D.IW,{$as:"li",$width:"16px"}),children:p.map((e=>e.isExternal&&o?(0,S.Y)(R.A,{shortcut:e,includeSpacer:!0},e.uuid):(0,S.Y)(F.A,{shortcut:e,includeSpacer:!0},e.uuid)))})})})};var j=i(64659),G=i(40304),q=i(76905),Q=i(86457),X=i(43316),J=i(49823),Z=i(21227),ee=i(12304),te=i(14192),ie=i(58350),ae=i(67348),re=i(18297),oe=i(67319),ne=i(35703),le=i(28561),se=i(36228),de=i(43187);const ce=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale800,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}})),ue=(0,u.I4)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),pe=(0,u.I4)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end"}),ge=(0,u._F)(te.mO,{overflowY:"hidden"}),he=(0,u._F)(te.YW,{display:"block"}),me=(0,u.I4)("div",(e=>{let{$backgroundColor:t}=e;return{display:"block",position:"relative",height:"80px",backgroundColor:t,overflow:"hidden",borderRadius:"12px"}})),ye=(0,u.I4)(X.A,(e=>{let{$textDirection:t}=e;return{position:"absolute",top:0,..."rtl"===t?{left:0,transform:"scaleX(-1)"}:{right:0},height:"100%"}})),fe=(0,u.I4)("div",(e=>{let{$color:t,$hasCuisineImage:i,$theme:a}=e;return{boxSizing:"border-box",position:"relative",...a.typography.LabelLarge,color:a.colors[t],padding:"16px",width:i?"60%":"100%",minWidth:"120px"}})),Ie=(0,u._F)(re.Yq,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),be=e=>{const t=(0,n.zy)(),[,i]=(0,q.c6)(),{containerRef:a,getPageChunks:o,getPageProps:l,isPreviousPageDisabled:s,isNextPageDisabled:u,handlePageChange:p,supportsScrollSnapping:g,textDirection:h}=(0,Q.A)(),m=(0,Z.A)(),y=(0,B.Ay)(),f=(0,d.c)(),{show:I}=(0,le.Ay)(),b=I?4:6,x=2*b,A=(0,G.vm)({...se.X.enable_top_eats_landing_page,defaultValue:!1}),v=e.items.map(((a,o)=>{const n=a.backgroundColor!==i.colors.backgroundSecondary?i.colors.backgroundSecondary:a.backgroundColor||"#F6F0EA",l=!/\s/g.test(a.title);return(0,S.Y)(J.fh,{span:J.R1/b,children:(0,S.FD)(me,{$as:r.N_,$direction:h,onClick:()=>{m.set(a.trackingCode||""),y("eats:click_cuisine",{label:a.title||"",trackingCode:a.trackingCode||"",position:String(o),...e.customEventMetadata||{}})},to:(0,ne.M)({url:a.url,type:a.type,title:a.title,keyName:a.keyName,searchSource:de.Cy.HOME_FEED_ITEM},t,{isTopEatsLandingPageEnabled:A}),$backgroundColor:n,children:[a.iconUrl?(0,S.Y)(ye,{src:a.iconUrl,alt:a.title,"aria-hidden":!0,$textDirection:h}):null,(0,S.Y)(fe,{$color:(0,oe.T4)(n)?"black":"white",$hasCuisineImage:Boolean(a.responsiveImagesByFormat||a.iconUrl),children:l?a.title:(0,S.Y)(ie.A,{clamp:2,children:a.title})})]})},o)})),Y=o(v,x),C=Y.length>1;return(0,S.FD)(ee.A,{analyticsLabel:e.analyticsLabel,numItems:v.length,carouselUuid:e.feedItemUuid,children:[(0,S.FD)(ce,{children:[(0,S.Y)(ue,{children:f("cuisine_carousel.title")}),(0,S.FD)(pe,{children:[e.viewAllLocation?(0,S.Y)(Ie,{to:e.viewAllLocation,children:(0,S.Y)(c.H,{id:"carousel.view_all"})}):null,e.viewAllLocation&&C?(0,S.Y)(D.Ay,{$width:"40px"}):null,C?(0,S.Y)(ae.A,{backwardEnabled:!s,forwardEnabled:!u,analyticsLabel:e.analyticsLabel,onPageChange:p,customEventMetadata:e.customEventMetadata}):null]})]}),(0,S.Y)(ge,{ref:a,$supportsScrollSnapping:g,children:Y.map(((e,t,i)=>(0,S.Y)(he,{$pageMargin:24,...l(t,i.length),children:(0,S.Y)(J.xA,{gridGutter:24,wrap:!0,children:e})},t)))})]})};var xe=i(93400),Ae=i(17283);const ve=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"inline-flex",flexDirection:"row",background:"#FFF2D9",color:t.colors.contentPrimary,width:"100%",minHeight:"160px",alignItems:"center"}})),Se=(0,u.I4)("div",{position:"relative",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",padding:"12px"}),Ye=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,color:t.colors.contentOnColorInverse,marginBottom:"16px"}})),Ce=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentOnColorInverse,marginBottom:"16px"}})),_e=(0,u.I4)(X.A,{objectFit:"cover",position:"absolute",top:0,left:0,bottom:0}),we=e=>{let{title:t,subtitle:a,buttonText:r,position:o,pageType:n,feedItem:l}=e;const s=(0,v.z)({impressionEventName:"marketplace_scrolled",payload:(0,Ae.YE)({feedContext:n,feedIndex:o,feedItem:l})});return(0,S.FD)(ve,{ref:s,children:[(0,S.Y)(_e,{src:(0,y.uq)(i(56517)),loading:"lazy",decoding:"async"}),(0,S.FD)(Se,{children:[(0,S.Y)(Ye,{children:t}),a?(0,S.Y)(Ce,{children:a}):null,(0,S.Y)(xe.A,{buttonText:r})]})]})};var Le=i(8474),Te=i(67205),Ue=i(73792),Ee=i(11602),ke=i(20692);const $e=(0,u.I4)("div",{display:"flex",flexDirection:"column",padding:"56px 16px 80px",alignItems:"center",maxWidth:"624px",margin:"0 auto"}),Pe=(0,u.I4)("div",{width:"226px",paddingBottom:"56px",transition:"transform 50ms ease-in-out",":hover":{transform:"scale(1.05)"}}),De=(0,u.I4)(X.A,{width:"100%",height:"100%"}),Oe=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:"8px"}})),Fe=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,textAlign:"center",maxWidth:"410px",paddingBottom:"24px"}})),Re=(0,u._F)(h.A,{width:"410px"}),Me=e=>{const t=(0,B.Ay)(),a=(0,n.zy)(),o=(0,Ue.W)(),l=(0,ke.W6)(),{carouselId:s=""}=(0,Le.g$k)(a,["carouselId"]);m.useEffect((()=>{t("eats:feed_empty_state_view",{carouselId:s})}),[t,s]);const d="PICKUP"===o,c="search_in_all"!==e.emptyState.linkDirection||d?(0,Le.aUB)(a):(0,Le.EfF)(a,{vertical:Te.h0,searchSource:de.Cy.SEARCH_SUGGESTION});return(0,S.FD)($e,{children:[(0,S.Y)(Pe,{$as:r.N_,to:(0,Le.a0I)(a),children:(0,S.Y)(De,{src:(0,y.uq)(i(88626))})}),(0,S.Y)(Oe,{children:e.emptyState.title}),(0,S.Y)(Fe,{children:e.emptyState.subtitle}),[Ee.KW,Ee.ks].includes(e.emptyState.uuid)?(0,S.Y)(Re,{onClick:()=>{const e=(0,Le.jo1)(a,["searchCategoryQuery","sortAndFilters"]);t("eats:home_feed_refresh_not_found_reset"),l.replace(e)},children:e.emptyState.linkText}):(0,S.Y)(Re,{$as:r.N_,to:c,onClick:()=>{t("eats:view_all_restaurants_cta_click_search_null_results")},children:e.emptyState.linkText})]})};var Be=i(51906),Ne=i(14753),ze=i(47719),We=i(12424),He=i(57921),Ve=i(89012),Ke=i(82744),je=i(35360),Ge=i(3132),qe=i(56279);const Qe=(0,u._F)(te.mO,{overflowY:"hidden"}),Xe=(0,u._F)(te.YW,{display:"block"});const Je=e=>{let{carousel:t,feedItemUuid:i,showFavorite:r,trackingSource:o,onViewAllClick:l,analyticsLabel:s,analyticsUuid:d,pageType:c,itemType:u,position:p,feedItem:g}=e;const h=(0,n.zy)(),{vertical:m}=(0,Le.g$k)(h,["vertical"]),{feedItemUuids:y}=(0,ze.A)(),{containerRef:f,getPageChunks:I,getPageProps:b,isPreviousPageDisabled:x,isNextPageDisabled:A,handlePageChange:Y,supportsScrollSnapping:C}=(0,Q.A)({scrollOffset:24}),_=(0,Ue.W)(),w=t.header?.endIcon?"DESKTOP_MINI":"DESKTOP_SMALL",{carouselNumberOfRows:L,chunkPerPage:T,headerTypography:U}=function(e){return 1===e?{chunkPerPage:je.Pq,carouselNumberOfRows:e,headerTypography:"DisplayBold5XSmall"}:{chunkPerPage:je.kO,carouselNumberOfRows:je.ID}}(t.numberOfRows),[E,k]=a.useMemo((()=>{const e=t.stores||[],i=e.map((e=>e?.storeUuid)).filter(Boolean);return[e,i]}),[t.stores]),$=E?.[0],P=a.useMemo((()=>({trackingCodeUuid:d,trackingCodeAnalyticsLabel:s,feed:{feedContext:c||"unknown",feedItemType:u,feedItemUuid:i||"",feedItemPosition:p},store:(0,Be.A)($)})),[d,s,c,u,i,p,$]),D=(0,Ge.A4)(),O=(0,v.z)({impressionEventName:"feed_item_scrolled",payload:{...D((0,Ge.xX)(P)),...(0,Ae.YE)({feedContext:c,feedIndex:p,feedItem:g})}});if(i&&y.includes(i))return(0,S.Y)(ee.A,{analyticsLabel:s,entityUuids:k,carouselLayoutType:"list-store",carouselUuid:i,children:(0,S.Y)("section",{ref:O,children:(0,S.Y)(He.A,{header:t.header,onPageChange:We.A,showPaginationButtons:!0,backwardEnabled:!1,forwardEnabled:!1,onViewAllClick:l,headerTypography:U,children:(0,S.Y)(Ve.vE,{hideHeader:!0,miniStoreItemSize:w})})})});const F=I(E.map(((e,t)=>(0,S.Y)(J.fh,{span:12/(T/L),children:"REGULAR_CIRCLE_IMAGE_LAYOUT"===e.layout?(0,S.Y)(Ne.A,{size:"DESKTOP_CIRCLE",store:e,analyticsLabel:s,analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...D((0,Ge.tm)(P,(0,Be.A)(e))),...(0,Ae.I4)({feedContext:c,feedIndex:p,feedItem:g,feedStore:e,diningMode:_,collectionIndex:t}),numItemsInCarousel:E.length,analyticsLabel:s,selectedVertical:m??Te.h0}}}):(0,S.Y)(Ke.A,{store:e,showFavorite:r,size:w,position:t,trackingSource:o,analyticsLabel:s,feedItem:g,analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...D((0,Ge.tm)(P,(0,Be.A)(e))),...(0,Ae.I4)({feedContext:c,feedIndex:p,feedItem:g,feedStore:e,diningMode:_,collectionIndex:t}),numItemsInCarousel:E.length,analyticsLabel:s,selectedVertical:m??Te.h0}}})},e.storeUuid||""))),T);return(0,S.Y)(ee.A,{analyticsLabel:s,entityUuids:k,carouselLayoutType:"list-store",children:(0,S.Y)(He.A,{header:t.header,showPaginationButtons:E.length>T,backwardEnabled:!x,forwardEnabled:!A,onPageChange:Y,onViewAllClick:l,headerTypography:U,children:(0,S.Y)(Qe,{ref:(0,qe.A)(f,O),$supportsScrollSnapping:C,children:F.map(((e,t,i)=>(0,S.Y)(Xe,{$pageMargin:24,...b(t,i.length),children:(0,S.Y)(J.xA,{$as:"ul",wrap:!0,children:e})},t)))})})})};var Ze=i(14841),et=i(76915);const tt=(0,u.I4)("div",(()=>({position:"relative",overflow:"hidden",height:"280px",backgroundColor:"#FFF8F5"}))),it=(0,u.I4)("div",(()=>({position:"absolute",bottom:"0px",right:"0px",width:"100%"}))),at=(0,u.I4)("ul",(()=>({width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",display:"flex",flexShrink:0,flexGrow:0,flexBasis:"100%",overflow:"hidden",marginTop:"64px"}))),rt=(0,u.I4)("li",(e=>{let{$storesCount:t,$index:i,$animationDuration:a}=e;return{position:"absolute",right:"-50%",animationDuration:t*a/2+"s",animationDelay:i*(a/2)+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationPlayState:"inherit",animationName:{from:{right:"calc(17% - 255px)"},to:{right:100*t/2+"%"}}}})),ot=(0,u.I4)("div",(e=>{let{$storesCount:t,$index:i,$animationDuration:a}=e;const r=t*a/2,o=.3/r*100+"%";return{opacity:0,animationDuration:`${r}s`,animationDelay:`${i*(a/2)}s`,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationPlayState:"inherit",animationName:{"0%":{opacity:0,marginTop:"64px"},[o]:{opacity:1,marginTop:0},"100%":{opacity:1,marginTop:0}}}})),nt=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",backgroundColor:t.colors.backgroundPrimary,color:t.colors.contentPrimary,boxShadow:"0 4px 16px hsla(0, 0%, 0%, 0.16)",border:"3px solid white",minWidth:"255px",maxWidth:"450px",height:"84px",paddingRight:"12px",overflow:"hidden"}})),lt=()=>{const e=(0,B.Ay)();return a.useEffect((()=>{e("eats:orders_near_you_carousel_impression")}),[e]),null},st=e=>{let{title:t,subtitle:a,stores:r,isDaytime:o,backupImageUrl:n,analyticsLabel:l}=e;const s=(0,y.uq)(i(92820)),d=(0,y.uq)(i(42504));return(0,S.FD)("section",{children:[(0,S.Y)(et.A,{$as:"h2",title:t,subtitle:a}),(0,S.Y)(Ze.R,{$ignorePadding:!0,children:(0,S.Y)(tt,{children:(0,S.FD)(x.Ay,{height:280,offset:280,unmountIfInvisible:!0,children:[(0,S.Y)(lt,{}),(0,S.Y)(it,{children:n?(0,S.Y)(X.A,{src:n}):(0,S.Y)(f.A,{animationUrl:o?s:d,preserveAspectRatio:"xMidYMax",loop:!0})}),(0,S.Y)(at,{children:r.map(((e,t)=>(0,S.Y)(rt,{$storesCount:r.length,$index:t,$animationDuration:20,children:(0,S.Y)(ot,{$storesCount:r.length,$index:t,$animationDuration:20,children:(0,S.Y)(nt,{children:(0,S.Y)(Ke.A,{size:"MOBILE",store:e,position:t+1,analyticsLabel:l})})})},(e.storeUuid||"feed-desktop-orders-near-you_store-item-marquee-")+t)))})]})})})]})};var dt=i(69927),ct=i(44580),ut=i(70994),pt=i(11811),gt=i("__fusion__d33d0696fd"),ht=i(87731),mt=i(77692),yt=i(70002),ft=i(13698),It=i(14387),bt=i(91168),xt=i(44877),At=i(386),vt=i(56427),St=i(61281),Yt=i(39182),Ct=i(86471);const _t=(0,u.I4)("div",{width:"325px"}),wt=(0,u.I4)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"24px",width:"calc(75% - 296px - 24px)"}),Lt=(0,u.I4)("div",(e=>{let{$theme:t,$isLastStore:i}=e;return{position:"relative",width:"100%",display:"flex",cursor:"pointer",wordBreak:"break-word",borderBottom:i?"0px":`1px solid ${t.colors.borderOpaque}`,marginBottom:i?"0px":"32px"}})),Tt=(0,u._F)(dt.A,{width:"100%",position:"relative",height:"128px",overflow:"hidden",marginTop:"8px"}),Ut=(0,u.I4)("div",(e=>{let{$theme:t,$shouldHide:i}=e;return{width:"100%",display:i?"none":"flex",alignItems:"center",marginTop:`${yt.Me}px`,lineHeight:t.typography.ParagraphSmall.lineHeight,flexFlow:"row wrap",color:t.colors.contentSecondary}})),Et=(0,u.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography[yt.yQ],color:t.colors.contentPrimary,maxWidth:"100%",lineHeight:"20px",whiteSpace:"nowrap"}})),kt=(0,u.I4)("h3",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],color:t.colors.contentPrimary,width:"100%",marginTop:"8px",lineHeight:"20px"}})),$t=(0,u.I4)("div",(e=>{let{$theme:t,$textDirection:i}=e;const a=t.typography.LabelSmallRegularButton,r=a.lineHeight,o="ltr"===i?{left:"0px"}:{right:"0px"},n=o.left?`0 ${r} ${r} 0 `:`${r} 0 0 ${r}`;return{...a,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,padding:"4px 12px",boxShadow:"inset 0px 0px 1px rgba(0, 0, 0, 0.08)",zIndex:Yt.IQ.surface,top:"12px",...o,borderRadius:n}}));const Pt=function(e){let{store:t,location:i,pageType:r,position:o,maxIndex:n,trackingCode:l,analyticsLabel:s,seoContent:d,heroImageSizes:u,heroImageHeight:p,titleTypography:g,seoSearchEnabled:h}=e;const m=t.storeUrl||(0,Le.NQI)(i,{storeSlug:t.slug,storeUuid:t.uuid}),y=a.useRef(null),[f,I]=a.useState(!1),x=(0,ht.A)(),A=(0,B.Ay)(),v=(0,Ue.W)(),Y=(0,vt.A)(m),C=t.promotion?.promotionUuid,_=t.promotion?.text,w=(0,b.jH)(),L=o===n,T=d?.storeContent?.description?d?.storeContent?.description:Array.isArray(d?.content)&&d?.content[0]?.text,U=a.useMemo((()=>{if(!t)return null;const{fareInfo:e}=t;if(e?.fareBadge?.text)return(0,S.Y)(Et,{children:e.fareBadge.text},"deliveryFee");if(e?.serviceFee){const t=(0,mt.vv)(x,"USD",100*e.serviceFee);return(0,S.Y)(Et,{children:(0,S.Y)(c.H,{id:"feed.component.delivery_fee",data:{fee:t}})},"deliveryFee")}return null}),[x,t]),E=a.useMemo((()=>[t.meta.priceBucket?(0,S.Y)(Et,{children:t.meta.priceBucket},"priceBucket"):null,t.rating?.feedback?.rating&&t.rating?.feedback?.ratingCount?(0,S.FD)(a.Fragment,{children:[(0,S.Y)(gt.default,{size:14}),(0,S.Y)(D.Ay,{$width:"4px"}),(0,S.Y)(Et,{children:(0,S.Y)(c.H,{id:"shared.ratings",data:{rating:t.rating?.feedback?.rating,ratingsCount:t.rating?.feedback?.ratingCount}})})]},"ratings"):null,U,t.etaRange?.text?(0,S.Y)(Et,{children:t.etaRange.text},"etaRange"):null].filter(Boolean)),[U,t.etaRange?.text,t.meta.priceBucket,t.rating?.feedback?.rating,t.rating?.feedback?.ratingCount]),k=a.useMemo((()=>[]),[]);a.useMemo((()=>E.forEach(((e,t)=>{0!==t&&k.push((0,S.Y)(Et,{children:" • "},`bullet-${t}`)),k.push(e)}))),[E,k]);const $=a.useMemo((()=>{let e=0;const i=t=>!(!t||(e+=1,!f))||t&&e<=4;return{ratingElements:i(Array.isArray(E)&&0!==E.length),address:i(t.location?.formattedAddress),modalities:i(Array.isArray(t.modalities)&&0!==t.modalities.length),categories:i(Array.isArray(t.meta.categories)&&0!==t.meta.categories.length),storeDescription:i(T),structuredTags:i(Array.isArray(d?.storeContent?.structuredTags)&&0!==d?.storeContent?.structuredTags.length),reviews:i(Array.isArray(d?.storeContent?.reviews)&&0!==d?.storeContent?.reviews.length),popularDishes:i(d?.storeContent?.dishes?.dishesDescription),numElements:e}}),[f,E,d?.storeContent?.dishes?.dishesDescription,d?.storeContent?.reviews,d?.storeContent?.structuredTags,t.location?.formattedAddress,t.meta.categories,t.modalities,T]),P=Boolean($.numElements>4&&(Array.isArray(E)&&0!==E.length||Array.isArray(d?.content)&&0!==d?.content.length||Array.isArray(d?.storeContent?.structuredTags)&&0!==d?.storeContent?.structuredTags.length||Array.isArray(d?.storeContent?.reviews)&&0!==d?.storeContent?.reviews.length||d?.storeContent?.dishes?.dishesDescription)),O=!(Array.isArray(E)&&0!==E.length||T||d?.storeContent?.structuredTags||d?.storeContent?.reviews||d?.storeContent?.dishes?.dishesDescription),F=!(t.heroImage&&t.title&&t.meta.priceBucket&&t.rating?.feedback?.rating&&t.rating?.feedback?.ratingCount&&t.deliveryFee&&t.etaRange?.text&&t.location?.formattedAddress&&Array.isArray(t.modalities)&&0!==t.modalities.length&&Array.isArray(t.meta.categories)&&0!==t.meta.categories.length);a.useEffect((()=>{F&&A("eats:city_meta_data_availability",{storeUuid:t.uuid,hasImage:Boolean(t.heroImage),hasTitle:Boolean(t.title),hasPriceBucket:Boolean(t.meta.priceBucket),hasRating:Boolean(t.rating?.feedback?.rating),hasRatingCount:Boolean(t.rating?.feedback?.ratingCount),hasDeliveryFee:Boolean(t.deliveryFee),hasEtaRange:Boolean(t.etaRange?.text),hasAddress:Boolean(t.location?.formattedAddress),hasModalities:Array.isArray(t.modalities)&&0!==t.modalities.length,hasCategories:Array.isArray(t.meta.categories)&&0!==t.meta.categories.length})}),[A,F,t.deliveryFee,t.etaRange?.text,t.heroImage,t.location?.formattedAddress,t.meta.categories,t.meta.priceBucket,t.modalities,t.rating?.feedback?.rating,t.rating?.feedback?.ratingCount,t.title,t.uuid]),a.useEffect((()=>{A("eats:city_typewriter_data_availability",{storeUuid:t.uuid,hasStoreDescription:Boolean(T),hasStructuredTags:Array.isArray(d?.storeContent?.structuredTags)&&0!==d?.storeContent?.structuredTags.length,hasReviews:Array.isArray(d?.storeContent?.reviews)&&0!==d?.storeContent?.reviews.length,hasPopularDishes:Boolean(d?.storeContent?.dishes?.dishesDescription)})}),[A,d?.storeContent?.dishes?.dishesDescription,d?.storeContent?.reviews,d?.storeContent?.structuredTags,t.uuid,T]);const[R,M]=(0,St.Ay)({root:null,threshold:.75});return a.useEffect((()=>{M&&M.isIntersecting&&A("eats:city_scroll_depth",{storeUuid:t.uuid,trackingCode:l,trackingCodeLabel:s,position:String(o||0),diningMode:v,originSource:Y,hasSeoContent:Boolean(d)})}),[M,A,t.uuid,l,s,o,v,Y,d]),(0,S.Y)(S.FK,{children:(0,S.FD)(Lt,{onClick:e=>{A("eats:city_click_store",{storeUuid:t.uuid,trackingCode:l,trackingCodeLabel:s,position:String(o||0),diningMode:v,originSource:Y,hasSeoContent:Boolean(d)}),y.current&&y.current.click()},ref:R,"data-test":Ct.E.storeLink,$isLastStore:L,children:[(0,S.Y)(_t,{children:(0,S.Y)(Tt,{storeUuid:t.uuid,image:t.heroImage,sizes:u,children:_&&C?(0,S.Y)($t,{$textDirection:w,children:_}):null})}),(0,S.FD)(wt,{children:[(0,S.Y)(pt.A,{ref:y,storeUuid:t.uuid,storeUrl:m,location:i,trackingCode:l,pageType:r,position:o,partialStore:(0,ut.$p)(t),analyticsLabel:s,hasSeoContent:Boolean(d),children:(0,S.Y)(kt,{$typography:g,children:t.title||""})}),0!==k.length?(0,S.Y)(Ut,{$shouldHide:!$.ratingElements,children:k}):null,(0,S.Y)(yt.Ay,{items:t.location?.formattedAddress,itemType:"address",shouldHide:!$.address,iconSize:14,spacing:"12px",useWiderMarginTop:O}),(0,S.Y)(xt.A,{items:t.modalities,shouldHide:!$.modalities,iconSize:14,spacing:"16px",useWiderMarginTop:O}),(0,S.Y)(At.A,{items:t.meta.categories,itemType:"category",shouldHide:!$.categories,iconSize:14,shouldHaveMarginBottom:!P,useWiderMarginTop:O}),(0,S.Y)(It.A,{items:T,shouldHide:!$.storeDescription,shouldShowDescriptionIcon:!t.meta.categories,itemType:"category",iconSize:14,spacing:"12px"}),(0,S.Y)(At.A,{items:d?.storeContent?.structuredTags,itemType:"structuredTag",shouldHide:!$.structuredTags,iconSize:14}),(0,S.Y)(bt.A,{items:d?.storeContent?.reviews,shouldHide:!$.reviews,shouldShowReviewIcon:!$.structuredTags&&$.reviews,itemType:"reviews",iconSize:14,spacing:"12px"}),(0,S.Y)(yt.Ay,{items:d?.storeContent?.dishes?.dishesDescription,itemType:d?.storeContent?.dishes?.dishIcon,shouldHide:!$.popularDishes,iconSize:14,spacing:"12px"}),P?(0,S.Y)(ft.A,{isExpanded:f,setIsExpanded:I,store:t,trackingCode:l,trackingCodeLabel:s,position:o,diningMode:v,originSource:Y,hasSeoContent:Boolean(d),padding:16}):null,(0,S.Y)(ct.Ay,{$height:16})]})]})})};var Dt=i(14436),Ot=i(69710);const Ft=e=>{const t=(0,B.Ay)(),{orderHistory:i,analyticsLabel:r}=e,o=(0,n.zy)(),{containerRef:l,getPageChunks:s,getPageProps:d,isPreviousPageDisabled:u,isNextPageDisabled:p,handlePageChange:g,supportsScrollSnapping:h,textDirection:m}=(0,Q.A)({scrollOffset:Ot.Rs}),y={width:Yt.W$,height:"120px"},f=s(i.map(((e,t)=>{const i=(0,Le.NQI)(o,{storeSlug:e.store?.slug,storeUuid:e.store?.uuid,newQueryParams:{cartDisplay:1}});return(0,S.Y)(Ot.py,{$textDirection:m,children:(0,S.Y)(Dt.A,{...e,redirectionUrl:i,index:t,heroImageWidth:y.width,heroImageHeight:y.height,clampLines:4,titleTypography:"LabelLarge",subtitleTypography:"ParagraphSmall",footerTypography:"ParagraphSmall"})},t)})).filter(Boolean),Ot.re),I=a.useMemo((()=>i.map((e=>e.store.uuid))),[i]);return(0,S.Y)(ee.A,{carouselUuid:e.uuid,analyticsLabel:r,entityUuids:I,children:(0,S.FD)("section",{children:[(0,S.Y)(et.A,{$as:"h2",title:e.title,paginated:i.length>Ot.re,onPageChange:e=>{g(e),t("eats:feed_reorder_carousel_page_change_click")},backwardEnabled:!u,forwardEnabled:!p}),0===i.length?(0,S.Y)(Ot.U_,{children:(0,S.Y)(c.H,{id:"bandwagon.no_restaurants"})}):(0,S.Y)(Ot.wq,{ref:l,$supportsScrollSnapping:h,children:f.map(((e,t,i)=>(0,S.Y)(Ot.YW,{...d(t,i.length),children:e},t)))})]})})};var Rt=i(62223),Mt=i(31753),Bt=i(42709),Nt=i(55780),zt=i(6463),Wt=i(79911),Ht=i(72673),Vt=i(38616),Kt=i(70811),jt=i(69775),Gt=i(81464);const qt=(0,u._F)(dt.A,(e=>{let{$height:t}=e;return{width:"200px",position:"relative",height:`${t}px`,overflow:"hidden"}})),Qt=(0,u.I4)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"space-between",width:"100%",padding:"12px 0",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),Xt=(0,u.I4)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"16px",width:"calc(100% - 216px)"}),Jt=(0,u.I4)("div",{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}),Zt=(0,u.I4)("div",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),ei=(0,u._F)(Wt.A,(e=>{let{$marginBottom:t}=e;return{display:"flex",overflow:"hidden",...t?{marginBottom:`${t}px`}:{}}}));const ti=function(e){let{store:t,location:i,pageType:r,position:o,linkRef:n,showFavorite:l,titleTypography:s,heroImageHeight:d,heroImageSizes:c,trackingSource:u,analyticsLabel:p,marginBottom:g,useLazyLoadImage:h,seoContent:m}=e;const y=JSON.stringify({metaInfo:{analyticsLabel:p}}),f=(0,Ht.NU)(i,t.actionUrl),I=(0,Ue.W)(),b=(0,Kt.A)(),x=Boolean("PICKUP"!==I&&t.storeStateContext&&t.storeStateContext===Vt.oO.PICKUP&&!b),A=x&&t.imageOverlayCallToAction?t.imageOverlayCallToAction.actionUrl:"",v=x?"PICKUP":I,Y=(0,B.Ay)();a.useEffect((()=>{Y("eats:store_item_state",{storeAction:{storeUuid:t.storeUuid??""},pathname:i.pathname,storeAvailabilityState:t.tracking?.storePayload?.storeAvailablityState})}),[Y,t.tracking,t.storeUuid,i]);const C=t.tracking?.storePayload?.offerMetadata,_=(0,Gt.A)({eventName:"eats:store_card_impression",eventPayload:{storeAction:{storeUuid:t.storeUuid??""},pathname:i.pathname,storeAvailabilityState:t.tracking?.storePayload?.storeAvailablityState,offerMetadata:C??void 0}});return(0,S.FD)(ei,{ref:(0,qe.A)(_,n),storeUuid:t.storeUuid||"",storeUrl:A||f,storeTitle:t.title?.text||"",storeAd:t.storeAd,pageType:r,position:o,trackingSource:u,trackingCode:y,$marginBottom:g,partialStore:(0,ut.Ay)(t),analyticsLabel:p,diningMode:v,isLowCourier:x,hasSeoContent:Boolean(m),offerMetadata:C,children:[(0,S.FD)(qt,{storeUuid:t.storeUuid||"",image:t.image,sizes:c,$height:d,useLazyLoad:h,children:[(0,S.Y)(Qt,{$isInteractive:!t.imageOverlay,children:(t.signposts||[]).length?(0,S.Y)(zt.Ay,{signposts:t.signposts||[]}):(0,S.Y)(D.VX,{})}),t.imageOverlay?(0,S.Y)(Nt.Ay,{imageOverlay:t.imageOverlay,imageOverlayCallToAction:t.imageOverlayCallToAction,shouldUseLowCourierSupply:x}):null]}),(0,S.FD)(Xt,{children:[(0,S.FD)(Jt,{children:[(0,S.Y)(Zt,{$typography:s,children:t.title?.text||""}),t.rating?(0,S.Y)(S.FK,{children:(0,S.Y)(Rt.A,{rating:t.rating})}):null]}),t.meta?(0,S.Y)(Mt.A,{meta:t.meta}):null,Array.isArray(m?.content)&&m?.content[0]?.text?(0,S.FD)(S.FK,{children:[(0,S.Y)(ct.Ay,{$height:8}),(0,S.Y)(Bt.A,{content:m.content[0].text})]}):null,t.meta2?(0,S.FD)(S.FK,{children:[(0,S.Y)(ct.Ay,{$height:8}),(0,S.Y)(Mt.A,{meta:t.meta2,truncateTextWithEllipsis:!0})]}):null,t.endorsements?(0,S.Y)(jt.A,{endorsements:t.endorsements}):null]})]})};var ii=i(62795),ai=i(69902),ri=i(98042),oi=i(15188),ni=i(25219),li=i(91589),si=i(38647),di=i(66717),ci=i(67052),ui=i(56014),pi=i(49684),gi=i(33475),hi=i(88403),mi=i(83033),yi=i(98207),fi=i(32036),Ii=i(67459),bi=i(80482);const xi=(0,u.I4)("div",{display:"flex",flexDirection:"column"}),Ai=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{flex:1,minWidth:0,paddingTop:t.sizing.scale100}})),vi=(0,u.I4)("div",{maxHeight:"146px",maxWidth:"184px",width:"100%",height:"100%",justifyContent:"center",display:"flex",flexShrink:0}),Si=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,whiteSpace:"initial",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"184px"}})),Yi=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,paddingTop:"4px",color:t.colors.contentSecondary}})),Ci=(0,u.I4)(X.A,{height:"146px",width:"184px",outlineOffset:"-1px",objectFit:"contain"}),_i=e=>{let{item:t,actionUrl:o,storeUuid:l,position:s,mvsMeta:d}=e;const c=(0,B.Ay)(),u=(0,B.xL)(),p=(0,n.zy)(),g=t.images&&t.images[0]&&t.images[0].items&&t.images[0].items[0]&&"string"==typeof t.images[0].items[0].url?t.images[0].items[0].url:null,h=g||(0,y.uq)(i(71746)),m=t.title?.text||"",f=t.subtitles&&t.subtitles[0]?t.subtitles[0].text:null,I=(0,vt.A)(o),b="cornershop"===I,A=(0,fi.A)(),v=(0,Le.IcR)((0,Ht.NU)(p,o),A),{userQuery:Y}=(0,Le.g$k)(p,["userQuery"]),C=a.useRef(!1),_={searchTerm:String(Y),storeUuid:l||"",position:s||0,originSource:I,itemUuid:t.uuid||"",itemPrice:f||"",hasImage:Boolean(g)},w=t.tracking?JSON.stringify(t.tracking):"",L=e=>{let{shouldFlush:i}=e;return(i?u:c)("eats:click_dish",{storeUuid:l||"",dishUuid:t.uuid||"",actionUrl:v.pathname,position:String(s||0),searchTerm:String(Y),originSource:I||"native",hasItemImage:Boolean(h),itemMetadata:f||"",mvsMeta:d,trackingCode:w}),!0},{elementRef:T,isElementHidden:U}=(0,Ii.A)({initialHidden:!0,waitTime:0,shouldListen:!C.current});a.useEffect((()=>{U||(C.current=!0,c("eats:search_results_vertical_item_impression",{searchResultItem:_,mvsMeta:d}))}),[c,U,d,_]);const E=(0,S.FD)(xi,{children:[h?(0,S.Y)(vi,{children:(0,S.Y)(x.Ay,{height:146,once:!0,children:(0,S.Y)(yi.A,{src:h,children:(0,S.Y)(Ci,{src:h,"aria-hidden":!0})})})}):null,(0,S.FD)(Ai,{children:[(0,S.Y)(Si,{children:(0,S.Y)(ie.A,{clamp:2,children:m})}),(0,S.Y)(Yi,{children:f})]})]});return(0,S.Y)("div",{ref:T,children:b?(0,S.Y)("a",{href:o,onClick:e=>{L({shouldFlush:!0}),e.preventDefault(),(0,bi.A)(o)},children:E}):(0,S.Y)(r.N_,{to:{...v,state:{referrerPathname:p.pathname}},onClick:()=>L({shouldFlush:!1}),children:E})})};var wi=i(65416);const Li=(0,u.I4)("div",{paddingRight:"16px"}),Ti=(0,u.I4)("div",{paddingLeft:"16px"}),Ui=e=>{let{items:t,storeUuid:i,position:a,originSource:r}=e;const o=(0,n.zy)(),l=(0,wi.d4)((e=>{let{multiVertical:t}=e;return t.verticalList})),{vertical:s}=(0,Le.g$k)(o,["vertical"]),d={verticalList:l.map((e=>e.verticalType)).join(","),selectedVertical:s};if(!t||t.length<1)return null;const c=Boolean(t.find((e=>null!==(e.images||[])[0]?.items))),u=t[0]?.style||"WIDE_FLAT",p="NARROW_TALL"===u?5:3;return(0,S.Y)(hi.A,{slides:t,renderSlide:function(e){let{slide:t,carouselSlideProps:n}=e;switch(u){case"WIDE_FLAT":return(0,S.Y)(mi.A,{item:t,actionUrl:(0,Ht.NU)(o,t.actionUrl),imageWidth:110,noImages:!c,mvsMeta:d,storeUuid:i,position:a,originSource:r});case"NARROW_TALL":return(0,S.Y)(_i,{item:t,actionUrl:t.actionUrl||"",mvsMeta:d,storeUuid:i,position:a});default:return null}},renderPrevButton:(e=>function(t){return(0,S.Y)(Li,{children:(0,S.Y)(gi.A,{direction:"backward",onClick:t,size:e,type:"regular"})})})(36),renderNextButton:(e=>function(t){return(0,S.Y)(Ti,{children:(0,S.Y)(gi.A,{direction:"forward",onClick:t,size:e,type:"regular"})})})(36),pageSize:p,margin:16,isInfinite:!0,shouldStartAlign:!0})};var Ei=i(63919),ki=i(91343),$i=i(32279);const Pi="ParagraphSmall",Di=(0,u.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography[Pi],color:t.colors.contentSecondary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),Oi=(0,u.I4)("div",(e=>({whiteSpace:"nowrap",overflow:"hidden",...e.$isLast?{textOverflow:"ellipsis"}:{flexShrink:0}}))),Fi=(0,u.I4)("div",{width:"100%",flexWrap:"nowrap",display:"flex",alignItems:"center",justifyContent:"flex-start"}),Ri=(0,u.I4)("span",Yt.mT),Mi=()=>(0,S.Y)(Ei.A,{typography:Pi}),Bi=e=>{let{meta:t,baseColor:i,removeServerDrivenColor:a,truncateTextWithEllipsis:r,baseFont:o}=e;return(0,S.Y)(O.A,{separator:Mi,children:(t||[]).map(((e,n)=>{const{accessibilityText:l,textFormat:s,actionUrl:d}=e;return(0,S.FD)(Oi,{$isLast:n===(t||[]).length-1,children:[l?(0,S.Y)(Ri,{children:l}):null,(0,S.Y)(Di,{"aria-hidden":!!l||void 0,children:d?(0,S.Y)($i.A,{textFormat:s,actionUrl:d}):(0,S.Y)(pi.A,{badge:e,baseColor:i,baseFont:o,removeServerDrivenColor:a,truncateTextWithEllipsis:r})})]},`badge-${n}`)}))})},Ni=e=>{let{rating:t,meta:i,meta2:a,baseColor:r="contentTertiary",baseFont:o=Pi,removeServerDrivenColor:n,truncateTextWithEllipsis:l}=e;const s=Boolean(i&&i.length>0);return(0,S.FD)(Fi,{children:[t&&t.text?(0,S.FD)(S.FK,{children:[(0,S.Y)(ki.A,{size:12,color:"contentSecondary"})," ",(0,S.Y)(D.hl,{})," ",(0,S.Y)(Di,{children:t.text}),s?(0,S.Y)(Mi,{}):null]}):null,s?(0,S.Y)(S.FK,{children:(0,S.Y)(Bi,{baseColor:r,baseFont:o,meta:i,removeServerDrivenColor:n,truncateTextWithEllipsis:l})}):null,a&&a.length>0?(0,S.FD)(S.FK,{children:[s?(0,S.Y)(Mi,{}):null,(0,S.Y)(Bi,{baseColor:r,baseFont:o,meta:a,removeServerDrivenColor:n,truncateTextWithEllipsis:l})]}):null]})},zi=(0,u._F)(Wt.A,(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",overflow:"hidden",textDecoration:"underline"}})),Wi=(0,u.I4)("div",{minWidth:0,display:"flex",flexDirection:"column",width:"100%"}),Hi=(0,u.I4)("div",{display:"flex",justifyContent:"space-between"}),Vi=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"12px",padding:"16px",overflow:"hidden"}})),Ki=(0,u.I4)("div",(e=>{let{$theme:t,$hasItems:i}=e;return{position:"relative",display:"flex",alignItems:"center",paddingBottom:i?t.sizing.scale600:0,minWidth:0,overflow:"hidden"}})),ji=(0,u._F)(dt.A,(e=>{let{$width:t,$height:i,$borderRadius:a}=e;return{width:t,height:i,flex:"none",overflow:"hidden",borderRadius:a}})),Gi=(0,u.I4)("div",{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"initial",minWidth:0,wdith:"100%",alignSelf:"flex-end"}),qi=(0,u.I4)("div",{flex:"1 1 0"});const Qi=function(e){let{store:t,trackingSource:a,analyticsLabel:o,position:l,useLazyLoadImage:s,items:c,pageType:u,feedItem:p}=e;const g=(0,n.zy)(),h=(0,d.c)(),m=t?.tracking?JSON.stringify(t.tracking):JSON.stringify({metaInfo:{analyticsLabel:o}}),f=(0,Ue.W)(),I=t?(0,Ae.CE)({feedContext:u,feedIndex:l,feedStore:t,diningMode:f,feedItem:p}):{},b=(0,v.z)({impressionEventName:"marketplace_scrolled",payload:I}),x=(0,v.s)({tapEventName:"marketplace_selected",payload:I});if(!t)return null;const A=(0,Ht.NU)(g,t.actionUrl),Y=f;c.length>1&&"ACTION_BUTTON"===c[c.length-1]?.style&&c.pop();const C=(0,vt.A)(A);return(0,S.FD)(Vi,{ref:b,children:[(0,S.FD)(Ki,{$hasItems:c.length>1,children:["cornershop"===C?(0,S.Y)("a",{href:A,onClick:x,children:(0,S.Y)(ji,{storeUuid:t.storeUuid||"",image:t.image,sizes:"10vw",useLazyLoad:s,defaultHeroImageUrl:(0,y.uq)(i(76421)),$width:"64px",$height:"64px",$borderRadius:"100px"})}):(0,S.Y)(r.N_,{to:A,onClick:x,children:(0,S.Y)(ji,{storeUuid:t.storeUuid||"",image:t.image,sizes:"10vw",useLazyLoad:s,defaultHeroImageUrl:(0,y.uq)(i(76421)),$width:"64px",$height:"64px",$borderRadius:"100px"})}),(0,S.Y)(D.Ay,{$width:"16px"}),(0,S.FD)(Wi,{children:[(0,S.FD)(Hi,{children:[(0,S.Y)(Gi,{children:(0,S.Y)(pi.A,{tag:"span",badge:t.title,baseFont:"LabelLarge"})}),(0,S.Y)(zi,{storeUuid:t.storeUuid||"",storeUrl:A,storeTitle:t.title?.text||"",storeAd:t.storeAd,trackingSource:a,trackingCode:m,position:l,analyticsLabel:o,partialStore:(0,ut.Ay)(t),diningMode:Y,pageType:u,dishCarousel:!1,numDishes:c.length,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:h("multiVerticalSearch.seeStore")})]}),(0,S.Y)(Ni,{rating:t.rating,meta:t.meta,meta2:t.meta2}),t.signposts?(0,S.FD)(S.FK,{children:[(0,S.Y)(qi,{}),(0,S.Y)(zt.Ay,{signposts:t.signposts})]}):null,t.endorsements?(0,S.Y)(jt.A,{endorsements:t.endorsements}):null]})]}),(0,S.Y)(Ui,{items:c,storeUuid:t.storeUuid||"",position:l,originSource:C})]})};var Xi=i(57812),Ji=i(65714),Zi=i(73569),ea=i(17408);const ta=(0,u.I4)("div",{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",height:"80%",gap:"8px"}),ia=(0,u.I4)("div",{justifyContent:"center",width:"100%"}),aa=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"12px",padding:"16px",overflow:"hidden",gap:"16px"}})),ra=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"flex",flexDirection:"row",overflow:"hidden",gap:"24px"}})),oa=(0,u.I4)("div",{maxHeight:"240px",maxWidth:"550px",overflow:"hidden",alignItems:"center",objectFit:"contain",objectPosition:"center",display:"flex",width:"100%"}),na=(0,u.I4)("div",(e=>{let{$direction:t}=e;return{display:"flex",height:"32px",minWidth:"32px",float:"ltr"===t?"right":"left"}})),la=(0,u._F)(dt.A,{display:"flex"}),sa=(0,u.I4)("div",{}),da=(0,u.I4)("div",(e=>{let{$direction:t}=e;return{display:"flex",position:"absolute",top:"8px",..."ltr"===t?{right:0}:{left:0}}})),ca=(0,u._F)(Wt.A,{display:"flex"});const ua=function(e){let{store:t,trackingSource:a,analyticsLabel:r,position:o,items:l,pageType:s}=e;const c=(0,n.zy)(),u=(0,b.jH)(),p=(0,d.c)();if(!t)return null;const g=!t.signposts||0===t.signposts.length,h=(0,Ht.NU)(c,t.actionUrl);l.length>1&&"ACTION_BUTTON"===l[l.length-1]?.style&&l.pop();const m=(0,vt.A)(h);return(0,S.FD)(aa,{children:[(0,S.FD)(ra,{children:[(0,S.Y)(oa,{children:(0,S.Y)(ca,{storeUuid:t.storeUuid||"",storeUrl:h,storeAd:null,trackingSource:a,position:o,analyticsLabel:r,partialStore:null,storeTitle:t.title?.text||"",pageType:s,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:(0,S.Y)(la,{storeUuid:t.storeUuid||"",image:t.image,defaultHeroImageUrl:(0,y.uq)(i(76421)),children:(0,S.FD)(da,{$direction:u,children:[(0,S.Y)(ea.A,{storeUuid:t.storeUuid||"",size:"small",shadow:(0,S.Y)(ea.O,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===u?-8:4})}),(0,S.Y)(D.Wp,{})]})})})}),(0,S.FD)(ia,{children:[t.rating?(0,S.Y)(na,{$direction:u,children:(0,S.Y)(Rt.A,{rating:t.rating})}):null,(0,S.FD)(ta,{children:[(0,S.Y)(sa,{children:(0,S.Y)(pi.A,{tag:"span",badge:t.title,baseFont:"LabelLarge"})}),[t.meta,t.meta2].filter(Boolean).map(((e,t)=>(0,S.Y)(Xi.A,{meta:e,wrapText:g},t))),t.signposts?(0,S.Y)(zt.Ay,{signposts:t.signposts,enforceTextColorOnlyFromServer:!0}):null,t.endorsements?(0,S.Y)(jt.A,{endorsements:t.endorsements}):null,(0,S.Y)(ca,{storeUuid:t.storeUuid||"",storeUrl:h,storeAd:null,trackingSource:a,position:o,analyticsLabel:r,partialStore:null,storeTitle:t.title?.text||"",numDishes:l.length,pageType:s,dishCarousel:!0,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:(0,S.Y)(Ji.$n,{kind:Ji.Nd.secondary,shape:Zi.IW.pill,overrides:{BaseButton:{style:{width:"fit-content"}}},children:p("multiVerticalSearch.seeStore")})})]})]})]}),l&&l.length>0?(0,S.Y)(Ui,{items:l,storeUuid:t.storeUuid||"",position:o,originSource:m}):null]})};var pa=i(40764),ga=i(46532),ha=i(42957);(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}}));const ma=e=>{const{containerRef:t,getPageChunks:i,getPageProps:r,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:s,textDirection:d}=(0,Q.A)({scrollOffset:24}),{feedItemUuid:c}=e,u=(0,B.Ay)(),{windowWidth:p}=(0,ha.A)(),{draftOrders:g}=(0,wi.d4)((e=>{let{draftOrders:t}=e;return t})),{refetch:h}=(0,ga.A)(c);a.useEffect((()=>{g.isLoading||null===g||g.hasLoaded&&h()}),[g,h]);const m="draft-order",y=e.draftOrderCarousel.header,f=e.analyticsLabel,[I,b]=a.useMemo((()=>{const t=e.draftOrderCarousel.cards||[],i=t.map((e=>e.miniStorePayload?.storeUuid)).filter(Boolean);return[t,i]}),[e.draftOrderCarousel.cards]),x=I?1===I.length?1:p<1200||2===I.length?2:3:3,A=i(I.map(((t,i)=>(0,S.Y)(te.q7,{$textDirection:d,$margin:24,$pageSize:x,children:(0,S.Y)(pa.A,{draftOrderCard:t,size:"DESKTOP_CIRCLE",analyticsLabel:e.analyticsLabel,isSingleCard:1===x,isHorizontal:2===I.length,feedItem:e.feedItem})},i))).filter(Boolean),x);return(0,S.Y)(ee.A,{analyticsLabel:f,entityUuids:b,carouselLayoutType:m,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:y,onPageChange:l,showPaginationButtons:I.length>x,backwardEnabled:!o,forwardEnabled:!n,onViewAllClick:()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=f&&u("eats:feed_draft_orders_carousel_cta_click",{label:f,numItems:b?b.length:0,carouselLayoutType:m,entityUuids:b})},children:0===I.length?null:(0,S.Y)(te.mO,{ref:t,$supportsScrollSnapping:s,children:A.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...r(t,i.length),children:e},t)))})})})})};var ya=i(60331),fa=i(71176),Ia=i(91614),ba=i(9764);const xa=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,display:"flex",width:"100%",height:"54px",marginTop:"16px",alignItems:"center"}})),Aa=(0,u.I4)("div",{marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),va=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:o,isNextPageDisabled:l,handlePageChange:s,supportsScrollSnapping:d,textDirection:c}=(0,Q.A)({scrollOffset:24}),u=(0,n.zy)(),p=(0,A.W)(),g=(0,ba.A)(),{windowWidth:h}=(0,ha.A)(),m="item-carousel",y=(()=>{let t=5;return h<1290?t=4:h>1580&&(t=6),e.isLeftNavHidden?t+1:t})(),f=(0,Gt.A)({eventName:"eats:feed_item_carousel_store_footer_impression",intersectionObserverProps:{threshold:.75},shouldEmit:Boolean(e.footer),eventPayload:{feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||"",actionUrl:e.footer?.actionUrl||"",numItems:e.items?.length,label:e.analyticsLabel||"",carouselPosition:e.position,carouselTitle:e.header?.title?.text||""}},A.W),I={...(0,Ae.YE)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:e.feedItem?.type},b=(0,v.z)({impressionEventName:"feed_item_scrolled",payload:I}),x=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:I}),Y=(0,v.s)({tapEventName:"quick_add_items_carousel_footer_tapped",payload:{analyticsLabel:e.feedItem&&"analyticsLabel"in e.feedItem?e.feedItem.analyticsLabel:null,feedItemPosition:e.position,feedItemType:e.feedItem?.type,feedItemUuid:e.feedItem?.uuid,storeUuid:e.storeUuid,actionUrl:e.footer?.actionUrl}});if(!e.items)return null;const C=e.items.map(((t,i)=>(0,S.Y)(te.q7,{$textDirection:c,$margin:24,$pageSize:y,children:(0,S.Y)(fa.A,{item:t,position:i+1,storeUuid:e.storeUuid||"",carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,size:"DESKTOP",hideNoFollow:e.hideNoFollow,feedItem:e.feedItem})},i))).filter(Boolean),_=e?.header?.callToAction,w=_?.actionUrl?_.actionUrl.replace("https://www.ubereats.com",""):"",L={...e.header,endIcon:null,callToAction:{..._,actionUrl:w}},T=i(C,y),U=(0,Ht.NU)(u,e.footer?.actionUrl||"");return(0,S.Y)(ee.A,{analyticsLabel:e.analyticsLabel||"",numItems:C.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:m,carouselUuid:e.feedItemUuid,ref:b,children:(0,S.Y)("section",{children:(0,S.FD)(He.A,{header:L,showPaginationButtons:C.length>5,onPageChange:s,backwardEnabled:!o,forwardEnabled:!l,onViewAllClick:()=>{x(),"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=e.analyticsLabel&&(x(),p("eats:vertical_feed_red_carpet_carousel_cta_click",{label:e.analyticsLabel,numItems:C?C.length:0,carouselLayoutType:m,vertical:g||"",carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType}))},children:[(0,S.Y)(te.mO,{ref:t,$supportsScrollSnapping:d,children:T.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...a(t,i.length),children:e},t)))}),e.footer?(0,S.Y)(r.N_,{rel:"nofollow",to:U,ref:f,onClick:()=>(Y(),p("eats:feed_item_carousel_store_footer_click",{feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||"",vertical:g||"",trackingCodeLabel:e.analyticsLabel||""}),!0),children:(0,S.FD)(xa,{children:[(0,S.Y)(X.A,{src:e.footer.leadingIcon||"",height:"40px",width:"72px"}),(0,S.Y)(D.Ay,{$width:"16px"}),(0,S.Y)(Aa,{children:(0,S.Y)(ya.Ay,{text:e.footer.centerText,whiteSpace:"no-wrap"})}),(0,S.Y)(D.Ay,{$width:"24px"}),(0,S.Y)(Ia.A,{size:12,color:"contentInverseTertiary"})]})}):null]})})})};var Sa=i(76158);const Ya=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",borderRadius:"12px",overflow:"hidden"}})),Ca=(0,u._F)(re.Yq,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),_a=(0,u.I4)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap"}),wa=(0,u.I4)("div",{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"});const La=function(e){let{store:t,position:i,items:a,analyticsLabel:r,feedItemUuid:o,feedItem:l,pageType:s}=e;const d=(0,n.zy)(),u=t?.tracking?JSON.stringify(t.tracking):"",p=(0,B.Ay)(),{windowWidth:g}=(0,ha.A)(),{containerRef:h,getPageChunks:m,getPageProps:y,isPreviousPageDisabled:f,isNextPageDisabled:I,handlePageChange:b,supportsScrollSnapping:x,textDirection:A}=(0,Q.A)({scrollOffset:24});if(!t)return null;const v=(0,Ht.NU)(d,t.actionUrl),Y="mini-store-with-items-carousel",C=g>1440?8:g>1280?7:g>1200?6:g>990?5:4;if(!a)return null;const _=m(a.map(((e,i)=>(0,S.Y)(te.q7,{$textDirection:A,$margin:24,$pageSize:C,children:(0,S.Y)(fa.A,{item:e,position:i+1,storeUuid:t.storeUuid||"",size:"DESKTOP",feedItem:null})},i))).filter(Boolean),C),w=a.length>C,L=(0,S.FD)(_a,{children:[(0,S.Y)(Ca,{onClick:()=>{p("eats:mini_store_with_items_see_all_click",{numItems:a?a.length:0,carouselLayoutType:Y,trackingCode:u,storeUuid:t.storeUuid||""})},to:v,children:(0,S.Y)(c.H,{id:"carousel.see_all"})}),w?(0,S.Y)(D.Ay,{$width:"40px"}):null,w?(0,S.Y)(ae.A,{backwardEnabled:!f,forwardEnabled:!I,onPageChange:b}):null]});return(0,S.Y)(Ya,{children:(0,S.Y)(ee.A,{numItems:a.length,carouselLayoutType:Y,trackingCode:u,analyticsLabel:r,carouselUuid:o,children:(0,S.FD)("section",{children:[(0,S.FD)(wa,{children:[(0,S.Y)(Sa.A,{store:t,size:"DESKTOP_CIRCLE",hideBorder:!0,hideIcon:!0,analyticsLabel:r,feedItem:l,position:i,pageType:s}),L]}),(0,S.Y)(te.mO,{ref:h,$supportsScrollSnapping:x,children:_.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...y(t,i.length),children:e},t)))})]})})})};var Ta=i(72674);const Ua=e=>{const t=(0,n.zy)(),{containerRef:i,getPageChunks:r,getPageProps:o,isPreviousPageDisabled:l,isNextPageDisabled:s,handlePageChange:d,supportsScrollSnapping:c,textDirection:p}=(0,Q.A)({scrollOffset:24}),g=(0,Ue.W)(),[,h]=(0,u.c6)(),{windowWidth:m}=(0,ha.A)(),y=(0,A.W)(),f=(0,Ue.W)(),I=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:(0,Ae.P4)({analyticsLabel:e.analyticsLabel,feedItemUuid:e.feedItemUuid,feedContext:e.pageType,diningMode:g})}),b=(0,v.z)({impressionEventName:"feed_item_scrolled",payload:{...(0,Ae.YE)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:e.feedItem?.type,numItemsInCarousel:e.items?.length}}),{vertical:x}=(0,Le.g$k)(t,["vertical"]),Y="single-catalog-items-carousel",C=e.trackingCode?JSON.stringify(e.trackingCode):"",_=(()=>{let t=4;return m<1290?t=3:m>1580&&(t=5),e.isLeftNavHidden?t+1:t})();a.useEffect((()=>{e.items&&0!==e.items.length||y("eats:empty_item_carousel_payload",{label:e.analyticsLabel||"",carouselLayoutType:Y,carouselPosition:e.position,carouselTitle:e.header?.title?.text||"",pageType:e.pageType,trackingCode:C,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})}));const w=Boolean(e.items?.[0]?.catalogItem?.quickAddConfig?.shouldShow);if(!e.items||0===e.items.length)return null;const L=e.items.map(((t,i)=>{const a="multiSKUFlatPromotion"===t?.catalogItem?.itemLevelPromotion?.type?t?.catalogItem?.itemLevelPromotion.multiSKUFlatPromotion.promotionUuid:"";return(0,S.Y)(te.q7,{$textDirection:p,$margin:24,$pageSize:_,children:(0,S.Y)(Ta.A,{item:t,position:i,carouselPosition:e.position,feedItemUuid:e.feedItemUuid,pageType:e.pageType,analyticsOverride:{impressionEventName:"feed_item_card_scrolled",tapEventName:"feed_item_card_tapped",payload:{...(0,Ae.ec)({diningMode:f,feedIndex:e.position,collectionIndex:i,feedItem:e.feedItem,trackingCode:t.tracking}),feedItemType:e.feedItem?.type,promotionUuid:a||"",selectedVertical:x??Te.h0}}})},i)})).filter(Boolean),T=r(L,_),U={height:96,width:"96px",border:`1px solid ${h.colors.borderOpaque}`,borderRadius:"50%"};return(0,S.Y)(ee.A,{analyticsLabel:e.analyticsLabel||"",numItems:L.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:Y,trackingCode:C,carouselUuid:e.feedItemUuid,storeUuid:e.storeUuid||"",quickAddEnabled:w,ref:b,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:e.header,showPaginationButtons:L.length>4,onPageChange:d,backwardEnabled:!l,forwardEnabled:!s,endIconProps:U,onViewAllClick:()=>{I(),y("eats:catalog_items_carousel_cta_click",{label:e.analyticsLabel||"",numItems:L?L.length:0,carouselLayoutType:Y,carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,trackingCode:C,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})},children:(0,S.Y)(te.mO,{ref:i,$supportsScrollSnapping:c,$disabledVerticalScrolling:!0,children:T.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...o(t,i.length),children:e},t)))})})})})},Ea=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:r,isNextPageDisabled:o,handlePageChange:n,supportsScrollSnapping:l,textDirection:s}=(0,Q.A)({scrollOffset:24}),d=(0,Ue.W)(),[,c]=(0,u.c6)(),p=(0,B.Ay)(),g=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:(0,Ae.P4)({analyticsLabel:e.analyticsLabel,feedItemUuid:e.feedItemUuid,feedContext:e.pageType,diningMode:d})}),h="single-catalog-items-carousel",m=e.trackingCode?JSON.stringify(e.trackingCode):"",y=Boolean(e.items?.[0]?.catalogItem?.quickAddConfig?.shouldShow);if(!e.items||0===e.items.length)return p("eats:empty_item_carousel_payload",{label:e.analyticsLabel||"",carouselLayoutType:h,carouselPosition:e.position,carouselTitle:e.header?.title?.text||"",pageType:e.pageType,trackingCode:m,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""}),null;const f=e.items.map(((t,i)=>(0,S.Y)(te.q7,{$textDirection:s,$margin:24,$pageSize:6,children:(0,S.Y)(Ta.A,{item:t,position:i,carouselPosition:e.position,feedItemUuid:e.feedItemUuid,pageType:e.pageType,clampItemTitle:!0})},i))).filter(Boolean),I=i(f,6),b={height:96,width:"96px",border:`1px solid ${c.colors.borderOpaque}`,borderRadius:"50%"};return(0,S.Y)(ee.A,{analyticsLabel:e.analyticsLabel||"",numItems:f.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:h,trackingCode:m,carouselUuid:e.feedItemUuid,storeUuid:e.storeUuid||"",quickAddEnabled:y,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:e.header,showPaginationButtons:f.length>6,onPageChange:n,backwardEnabled:!r,forwardEnabled:!o,endIconProps:b,onViewAllClick:()=>{g(),p("eats:catalog_items_carousel_cta_click",{label:e.analyticsLabel||"",numItems:f?f.length:0,carouselLayoutType:h,carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,trackingCode:m,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})},children:(0,S.Y)(te.mO,{ref:t,$supportsScrollSnapping:l,$disabledVerticalScrolling:!0,children:I.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...a(t,i.length),children:e},t)))})})})})};var ka=i(1139),$a=i(73092);const Pa=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),Da=e=>{const{containerRef:t,getPageChunks:i,getPageProps:r,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:s,textDirection:u}=(0,Q.A)({scrollOffset:24}),p=(0,B.Ay)(),{windowWidth:g}=(0,ha.A)(),h=(0,d.c)(),m="red-carpet",{sduiCarousel:{header:y}}=e,f=e.analyticsLabel,I=(0,ba.A)(),b=(0,G.Ab)({...ka.z.web_feed_refresh_grocery_carousel_action_url,defaultValue:""}),x={...(0,Ae.YE)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem})},A=(0,v.z)({impressionEventName:"feed_item_scrolled",payload:x}),Y=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:x});b&&!I&&y&&!y?.callToAction?.actionUrl&&(y.callToAction={actionUrl:b,text:h("carousel.see_all")});const[C,_]=a.useMemo((()=>{const t=e.sduiCarousel.items||[],i=t.map((e=>e.storeUuid)).filter(Boolean);return[t,i]}),[e.sduiCarousel.items]),w=C.length<4?C.length:g>1280?4:3,L=i(C.map(((t,i)=>(0,S.Y)(te.q7,{$textDirection:u,$margin:e.pageMargin??24,$pageSize:w,children:(0,S.Y)($a.A,{size:C.length<3?"RED_CARPET_DESKTOP_HORIZONTAL":"RED_CARPET_DESKTOP",store:t,analyticsLabel:e.analyticsLabel,displaySecondaryImage:1===C.length,position:i})},i))).filter(Boolean),w);return(0,S.Y)(ee.A,{analyticsLabel:f,entityUuids:_,carouselLayoutType:m,carouselUuid:e.feedItemUuid,ref:A,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:y,onPageChange:l,showPaginationButtons:C.length>w,backwardEnabled:!o,forwardEnabled:!n,onViewAllClick:()=>{Y(),"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=f&&(Y(),p("eats:vertical_feed_red_carpet_carousel_cta_click",{label:f,numItems:_?_.length:0,carouselLayoutType:m,entityUuids:_}))},children:0===C.length?(0,S.Y)(Pa,{children:(0,S.Y)(c.H,{id:"bandwagon.no_restaurants"})}):(0,S.Y)(te.mO,{ref:t,$supportsScrollSnapping:s,children:L.map(((t,i,a)=>(0,S.Y)(te.YW,{$pageMargin:e.pageMargin??24,...r(i,a.length),children:t},i)))})})})})};var Oa=i(71946),Fa=i(44551),Ra=i(64276),Ma=i(50505),Ba=i(63204),Na=i(41046),za=i(43018),Wa=i(4236),Ha=i(76816);const Va=(0,u.I4)("div",{position:"relative",width:"100%"}),Ka=(0,u._F)(dt.A,(e=>{let{$height:t}=e;return{width:"100%",position:"relative",height:`${t}px`,overflow:"hidden",borderRadius:"12px"}})),ja=(0,u.I4)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"space-between",width:"100%",padding:"12px 0",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),Ga=(0,u.I4)("div",{display:"flex"}),qa=(0,u.I4)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingLeft:"8px",paddingRight:"8px"}),Qa=(0,u._F)(zt.I3,{webkitFilter:"brightness(0) invert(1)",filter:"brightness(0) invert(1)"}),Xa=e=>"LabelMedium"===e?8:12,Ja=(0,u.I4)("div",(e=>{let{$typography:t}=e;return{marginTop:`${Xa(t)}px`,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}})),Za=(0,u.I4)("div",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),er=(0,u._F)(Wt.A,(e=>{let{$marginBottom:t}=e;return{display:"flex",overflow:"hidden",...t?{marginBottom:`${t}px`}:{}}}));const tr=function(e){let{store:t,location:i,pageType:a,position:r,linkRef:o,showFavorite:n,titleTypography:l,heroImageHeight:s,heroImageSizes:d,trackingSource:c,analyticsLabel:u,marginBottom:p,useLazyLoadImage:g,divRef:h,feedItem:m,analyticsOverride:y}=e;const f=(0,b.jH)(),I=JSON.stringify({metaInfo:{analyticsLabel:u}}),x=(0,Ht.NU)(i,t.actionUrl),A=(0,Ue.W)(),{userQuery:Y,vertical:C}=(0,Le.g$k)(i,["userQuery","vertical"]),_=Boolean("PICKUP"!==A&&t.storeStateContext&&t.storeStateContext===Vt.oO.PICKUP),w=_&&t.callToAction?t.callToAction.actionUrl:"",L=_?"PICKUP":A,T=t.meta2?(t.meta||[]).concat(t.meta2):t.meta,U="cornershop"===(0,vt.A)(w||x),[,E]=(0,q.c6)(),k=()=>(0,S.FD)(Ga,{children:[(0,S.Y)(D.Wp,{}),(0,S.Y)(ea.A,{storeUuid:t.storeUuid||"",size:"small",shadow:(0,S.Y)(ea.O,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===f?-8:4})}),(0,S.Y)(D.Wv,{})]}),$=y??{tapEventName:"marketplace_selected",impressionEventName:"marketplace_scrolled",payload:{...(0,Ge.pO)({trackingCodeAnalyticsLabel:u,feed:{feedContext:a},store:(0,Be.A)(t)},r??-1),...(0,Ae.CE)({feedContext:a,feedIndex:r,feedStore:t,diningMode:A,feedItem:m,searchTerm:Y,selectedVertical:C||Te.h0})}},P=(0,v.z)({impressionEventName:$.impressionEventName,payload:$.payload}),O=(0,v.s)({tapEventName:$.tapEventName,payload:$.payload}),F=(0,Ha.S)();return(0,S.Y)(er,{ref:(0,qe.A)(P,o),storeUuid:t.storeUuid||"",storeUrl:w||x,storeTitle:t.title?.text||"",storeAd:t.storeAd,pageType:a,position:r,trackingSource:c,trackingCode:I,$marginBottom:p,partialStore:(0,ut.Ay)(t),analyticsLabel:u,diningMode:L,isLowCourier:_,offerMetadata:t.tracking?.storePayload?.offerMetadata,onClick:O,children:(0,S.FD)(Va,{ref:h,children:[(0,S.FD)(Ka,{storeUuid:t.storeUuid||"",image:t.image,sizes:d,$height:s,useLazyLoad:g,children:[(0,S.FD)(ja,{$isInteractive:!t.imageOverlay,children:[(t.signposts||[]).length?(0,S.Y)(S.FK,{children:(t.signposts||[]).slice(0,1).map(((e,t)=>(0,S.FD)(zt.OB,{$color:F?E.colors.brandContentOnPrimary:"#FFFFFF",$backgroundColor:e.backgroundColor?.color||(F?E.colors.brandBackgroundPrimary:e.textColor?.color)||"#05A357",$direction:f,children:[e.iconUrl?F?(0,S.Y)(zt.I3,{src:e.iconUrl}):(0,S.Y)(Qa,{src:e.iconUrl}):null,e.text]},`signpost-${t}`)))}):(0,S.Y)(D.VX,{}),!n||U||_||t.imageOverlay?(0,S.Y)(D.Wv,{}):k()]}),t.imageOverlay?(0,S.FD)(S.FK,{children:[(0,S.Y)(Nt.Ay,{imageOverlay:t.imageOverlay,imageOverlayCallToAction:t.callToAction,shouldUseLowCourierSupply:_}),!n||U||_?null:(0,S.FD)(ja,{children:[(0,S.Y)(D.VX,{}),k()]})]}):null]}),(0,S.FD)(qa,{children:[(0,S.FD)(Ja,{$typography:l,children:[(0,S.Y)(Za,{$typography:l,children:t.title?.text||""}),t.rating?(0,S.FD)(S.FK,{children:[(0,S.Y)(D.hl,{}),(0,S.Y)(Rt.A,{rating:t.rating})]}):null]}),T?(0,S.Y)(Mt.A,{meta:T}):null,t.endorsements?(0,S.Y)(jt.A,{endorsements:t.endorsements}):null]})]})})};var ir=i(65073),ar=i.n(ir),rr=i(26562),or=i(46153);const nr=(0,y.uq)(i(41989)),lr=(0,u.I4)("div",(()=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"326px"}))),sr=(0,u.I4)(X.A,(()=>({position:"absolute",top:"0",width:"100%",height:"100%"}))),dr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundOverlayArt,position:"absolute",width:"100%",height:"100%",top:0,left:0}})),cr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,color:t.colors.contentOnColorInverse}})),ur=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentOnColorInverse}})),pr=(0,u.I4)("div",{display:"flex",justifyContent:"center"}),gr=(0,u.I4)("button",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:"36px",borderRadius:t.borders.pillButtonBorderRadius,...(0,h.r)({$theme:t}),...t.typography.LabelSmall}})),hr=(0,u.I4)("div",(e=>{let{$direction:t}=e;return{display:"flex",width:"25%",flexDirection:"column",alignItems:"flex-start",..."ltr"===t?{marginLeft:"32px"}:{marginRight:"32px"},position:"relative",zIndex:1}})),mr=(0,u.I4)("div",(e=>{let{$direction:t}=e;return{width:"75%",overflow:"hidden",..."ltr"===t?{marginRight:"40px",marginLeft:"8px"}:{marginLeft:"40px",marginRight:"8px"}}})),yr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{padding:"4px 4px 8px 4px",maxWidth:"326px",background:t.colors.backgroundPrimary,boxShadow:t.shadows.carouselCard}})),fr=(0,u.I4)("div",(e=>{let{$supportsScrollSnapping:t}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},cursor:"pointer",...t?{scrollSnapType:"x mandatory"}:{}}}));function Ir(e){let{stores:t,carouselHeader:i,carouselBackground:r,analyticsLabel:l,position:s,feedItemUuid:d}=e;const c=(0,B.Ay)(),u=(0,b.jH)(),{containerRef:p,getPageChunks:g,getPageProps:h,isPreviousPageDisabled:m,isNextPageDisabled:y,handlePageChange:f,supportsScrollSnapping:I,textDirection:x}=(0,Q.A)({scrollOffset:24}),A=(0,Ue.W)(),Y=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:(0,Ae.P4)({analyticsLabel:l,feedItemUuid:d,diningMode:A})}),{page:C,params:_}=(0,rr.V)(r.callToAction?.actionUrl||""),w=(0,o.W6)(),L=(0,n.zy)(),T=(0,di.A)(),{onScroll:U}=(0,or.k)(),E=(0,a.useMemo)((()=>t.map((e=>e.storeUuid)).filter(Boolean)),[t]),k=t.map(((e,t)=>(0,S.Y)(te.q7,{$textDirection:x,$margin:24,$pageSize:3,children:(0,S.Y)(yr,{children:(0,S.Y)(tr,{store:e,location:L,showFavorite:!0,position:t,titleTypography:"LabelLarge",heroImageHeight:T,heroImageSizes:"25vw",analyticsLabel:l})})},t))).filter(Boolean),$=g(k,3);return(0,S.Y)(ee.A,{analyticsLabel:l,entityUuids:E,position:s,carouselLayoutType:"list-store",carouselUuid:d,children:(0,S.FD)(lr,{children:[(0,S.Y)(sr,{loading:"lazy",decoding:"async",src:ar()(r.imageUrl||nr)}),(0,S.Y)(dr,{}),(0,S.FD)(hr,{$direction:u,children:[(0,S.Y)(ct.Ay,{$height:48}),(0,S.Y)(cr,{children:i.title?.text||""}),(0,S.Y)(ur,{children:i.subtitle?.text||""}),r.callToAction?(0,S.FD)(S.FK,{children:[(0,S.Y)(ct.Ay,{$height:16}),(0,S.Y)(pr,{children:(0,S.Y)(gr,{onClick:()=>{Y(),c("eats:background_image_carousel_cta_button_click"),"feed"===C&&w.push((0,Le.lGi)(L,{..._.diningMode?{diningMode:_.diningMode}:{}}))},children:r.callToAction.text||""})})]}):null]}),(0,S.Y)(mr,{$direction:u,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:i.callToAction?{callToAction:i.callToAction}:null,showPaginationButtons:k.length>3,onPageChange:f,backwardEnabled:!m,forwardEnabled:!y,onViewAllClick:()=>{c("eats:background_image_carousel_cta_text_click")},children:(0,S.Y)(fr,{ref:p,$supportsScrollSnapping:I,onScroll:U,children:$.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...h(t,i.length),children:e},t)))})})})})]})})}var br=i(58824);const xr=(0,u.I4)("div",(e=>{let{$supportsScrollSnapping:t}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},cursor:"pointer",...t?{scrollSnapType:"x mandatory"}:{}}})),Ar=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:r,isNextPageDisabled:o,handlePageChange:n,supportsScrollSnapping:l,textDirection:s}=(0,Q.A)({scrollOffset:24}),d={...(0,Ae.YE)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:"DISH_CAROUSEL"},c=(0,v.z)({impressionEventName:"feed_item_scrolled",payload:d}),u=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:d}),p=e.items.map(((t,i)=>(0,S.Y)(te.q7,{$textDirection:s,$margin:24,$pageSize:6,children:(0,S.Y)(br.A,{item:t,heroImageHeight:e.heroImageHeight,$tagMargin:"14px",feedIndex:e.position,collectionIndex:i,feedItem:e.feedItem,feedItemType:"DISH_CAROUSEL"})},i))).filter(Boolean),g=i(p,6);return(0,S.Y)(ee.A,{analyticsLabel:e.analyticsLabel||"",numItems:p.length,carouselUuid:e.feedItemUuid,ref:c,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:e.header,showPaginationButtons:p.length>6,onPageChange:n,backwardEnabled:!r,forwardEnabled:!o,onViewAllClick:u,children:(0,S.Y)(xr,{ref:t,$supportsScrollSnapping:l,children:g.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...a(t,i.length),children:e},t)))})})})})};var vr=i(13084);const Sr=(0,u.I4)("div",{paddingTop:"8px",paddingBottom:"16px"}),Yr=e=>{let{dishes:t,storeSlug:i}=e;const a=(0,n.zy)();return t.length?(0,S.Y)(Sr,{children:t.map(((e,t)=>{const r=(0,Ht.NU)(a,e.actionUrl);return(0,S.Y)(vr.A,{dish:e,storeSlug:i,position:t+1,actionUrl:r},e.actionUrl?e.actionUrl:e.dishUuid)}))}):null};function Cr(e){let{store:t,...i}=e;const[,a]=(0,u.c6)(),r=(0,Ha.S)(),o=r?a.colors.brandBackgroundPrimary:a.colors.green600,n=r?a.colors.brandContentOnPrimary:a.colors.white,l=m.useMemo((()=>t.signposts?.map((e=>e.backgroundColor&&e.textColor?e:{...e,textColor:{color:n},backgroundColor:{color:o},iconColor:{color:n}}))??null),[t.signposts,o,n]),s=m.useMemo((()=>[...t.meta??[],...t.meta2??[]]),[t.meta,t.meta2]),d=m.useMemo((()=>({...t,signposts:l,meta:s})),[t,l,s]);return(0,S.Y)(li.A,{store:d,...i})}var _r=i(27257);const wr=(0,u._F)(te.YW,{flexWrap:"wrap",gap:"32px 0"}),Lr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),Tr=e=>{const t=(0,n.zy)(),{containerRef:i,getPageChunks:r,getPageProps:o,isPreviousPageDisabled:l,isNextPageDisabled:s,handlePageChange:d,supportsScrollSnapping:u,textDirection:p}=(0,Q.A)({scrollOffset:24}),g=(0,di.A)(),h=(0,Ue.W)(),m=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:(0,Ae.P4)({feedItemUuid:e.feedItemUuid,diningMode:h,feedContext:e.pageType,analyticsLabel:e.analyticsLabel})}),y=(0,B.Ay)(),f=e.carousel.header,I=e.analyticsLabel,[b,x]=a.useMemo((()=>{const t=e.carousel.stores||[],i=t.map((e=>e.storeUuid)).filter(Boolean);return[t,i]}),[e.carousel.stores]),A=r(b.map(((i,a)=>(0,S.Y)(te.q7,{$textDirection:p,$margin:e.pageMargin??24,$ignoreMargin:Boolean(a%2),$pageSize:2,children:(0,S.Y)(ti,{store:i,location:t,showFavorite:e.showFavorite,position:a,titleTypography:"LabelLarge",heroImageHeight:g,heroImageSizes:"25vw",analyticsLabel:e.analyticsLabel,seoContent:e.seoContent&&e.seoContent[i.storeUuid||""]})},a))),6),Y=a.useCallback((()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=I&&(m(),y("eats:carousel_cta_click",{label:I,numItems:x?x.length:0,carouselLayoutType:"regular-store",entityUuids:x,carouselUuid:e.feedItemUuid,carouselPosition:e.position,feedContext:e.pageType,...e.customEventMetadata||{}}))}),[I,y,m,e,x]);return(0,S.Y)(ee.A,{analyticsLabel:I,entityUuids:x,carouselLayoutType:"regular-store",carouselUuid:e.feedItemUuid,onImpression:()=>{},children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:f,onPageChange:d,showPaginationButtons:b.length>4,backwardEnabled:!l,forwardEnabled:!s,analyticsLabel:I,customEventMetadata:e.customEventMetadata,onViewAllClick:Y,seoHeader:!0,children:0===b.length?(0,S.Y)(Lr,{children:(0,S.Y)(c.H,{id:"bandwagon.no_restaurants"})}):(0,S.Y)(te.mO,{ref:i,$supportsScrollSnapping:u,children:A.map(((t,i,a)=>(0,S.Y)(wr,{$pageMargin:e.pageMargin??24,...o(i,a.length),children:t},i)))})})})})};var Ur=i(77383);const Er=e=>{let{feedItemUuid:t,carousel:i,position:r}=e;const o=i.header,{containerRef:n,getPageChunks:l,getPageProps:s,isPreviousPageDisabled:d,isNextPageDisabled:c,handlePageChange:u,supportsScrollSnapping:p,textDirection:g}=(0,Q.A)({scrollOffset:24}),h=(0,B.Ay)(),m=(0,di.A)(),y=(0,Ue.W)(),[f,I]=(0,a.useMemo)((()=>{const e=i.stores||[],t=e.map((e=>e.storeId)).filter(Boolean);return[e,t]}),[i.stores]),b=l(f.map(((e,t)=>(0,S.Y)(te.q7,{$textDirection:g,$margin:24,$pageSize:4,children:(0,S.Y)(Ur.A,{store:e,heroImageHeight:m,titleTypography:"LabelLarge",carouselPosition:r,storePosition:t})},t))).filter(Boolean),4),x=(0,v.s)({tapEventName:"see_all_carousel_tap",payload:(0,Ae.P4)({feedItemUuid:t,diningMode:y})});return(0,S.Y)(ee.A,{analyticsLabel:"cornershop",entityUuids:I,position:r,carouselUuid:t,children:(0,S.Y)("section",{children:(0,S.Y)(He.A,{header:o,onPageChange:u,showPaginationButtons:f.length>4,backwardEnabled:!d,forwardEnabled:!c,onViewAllClick:()=>{x(),h("eats:third_party_view_all_click",{carouselPosition:r,numStores:I.length})},isExternalCTA:!0,children:(0,S.Y)(te.mO,{ref:n,$supportsScrollSnapping:p,children:b.map(((e,t,i)=>(0,S.Y)(te.YW,{$pageMargin:24,...s(t,i.length),children:e},t)))})})})})};var kr=i(54403),$r=i(99113),Pr=i(68692),Dr=i(14775),Or=i(96097),Fr=i(462),Rr=i(8752),Mr=i(97452),Br=i(61073),Nr=i(30729);const zr=(0,u.I4)("div",{scrollMarginTop:"400px"}),Wr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{maxWidth:"410px",width:"100%",marginBottom:t.sizing.scale2400}})),Hr=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{width:"100%",display:"flex",flexDirection:"column"}})),Vr={storeTitleTypography:"LabelLarge",storeItemMetaTopRowPadding:"12px 0 0"},Kr=e=>{const[t,i]=(0,a.useState)(!1),o=(0,n.zy)(),l=(0,di.A)(),u=new URLSearchParams(o.search),p=u.get("page"),g=(0,d.c)(),m=(0,n.g)(),y=m.slugName||"",f=m.secondarySlugName||"",I=(0,Nr.O)(p)??1,b={citySlug:y,category:f,pageNumber:I},x=f?3:2,A=(0,Fr.u)(b,{preparedId:"get-paginated-stores-v1",queryObserverOptions:{enabled:t}}),{refetch:v}=A,Y=(0,a.useRef)(null);(0,a.useEffect)((()=>{t&&Y?.current?.scrollIntoView(!0)}),[p,t,v]);const C=(0,a.useCallback)((e=>{I!==e&&i(!0)}),[I]),_=A.data?.totalPages||e.initialTotalPages||1,{paginationLinks:w,isFirstPage:L,isLastPage:T,firstPage:E,prevPageHref:k,nextPageHref:$,prevPage:P,nextPage:D}=(0,Or.W)({page:Number(p)||1,total:_,maxLinksToShow:5,basePath:o.pathname,searchParams:u}),O=(0,a.useMemo)((()=>({data:A.data||{feedItems:e.initialStores,storesMap:e.initialStoresMap,totalPages:e.initialTotalPages},isLoading:A.isLoading,error:A.isError,hasLoaded:Boolean(A.data)&&!A.isLoading&&!A.isError})),[A.data,A.isLoading,A.isError,e.initialStores,e.initialStoresMap,e.initialTotalPages]);return(0,S.Y)(zr,{ref:Y,children:(0,S.Y)(Br.A,{enableLoadingForRefetch:!0,source:O,error:()=>(0,S.FD)(Wr,{children:[(0,S.Y)(Mr.Mc,{title:g("components.notFound.title"),message:g("components.notFound.message"),code:500}),(0,S.Y)(h.A,{$as:r.N_,to:(0,Le.rJl)(o),children:(0,S.Y)(c.H,{id:"shared.find_food"})})]}),loading:()=>(0,S.Y)(Ve.Ay,{}),loaded:t=>(0,S.FD)(Hr,{children:[(0,S.Y)(U.Ay,{$gridRowGap:40,$gridColumGap:24,$numColumns:x,$gridMediaTemplateColumns:void 0,children:t.feedItems?t.feedItems?.map(((i,r)=>{if("STORE"==i.type&&t.storesMap){const n=t.storesMap[i.uuid];return n?e.seoSearchEnabled?e.shouldDisplayStoreCardRedesign?(0,S.Y)(U.fh,{children:(0,S.Y)(Pt,{store:n,location:o,pageType:e.pageType,position:r,maxIndex:t.feedItems.length-1,titleTypography:"LabelMedium",heroImageHeight:l,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:i.analyticsLabel,trackingCode:i.trackingCode,seoContent:t.seoContent?.[n.uuid]})},i.uuid):(0,S.Y)(a.Fragment,{children:(0,S.Y)(U.fh,{children:(0,S.Y)(ai.A,{store:n,location:o,linkRef:e.linkRef,pageType:e.pageType,position:r,titleTypography:"LabelLarge",heroImageHeight:l,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:i.analyticsLabel,trackingCode:i.trackingCode,seoContent:t.seoContent?.[n.uuid]})})},i.uuid):(0,S.Y)(a.Fragment,{children:(0,S.FD)(U.fh,{children:[(0,S.Y)(s.A,{store:n,heroImageHeight:l,favoriteButtonSize:"small",showFavorite:e.showFavorite,location:o,linkRef:e.linkRef,trackingCode:i.trackingCode,pageType:e.pageType,position:r,styleOverrides:Vr,analyticsLabel:i.analyticsLabel,numDishes:(i.dishes||[]).slice(0,1).length}),(0,S.Y)(Yr,{dishes:(i.dishes||[]).slice(0,1),storeSlug:n.slug})]})},i.uuid):null}})):null}),(0,S.Y)(Rr.M,{firstPage:E,prevPage:P,nextPage:D,totalPages:_,isFirstPage:L,isLastPage:T,prevPageHref:k,nextPageHref:$,paginationLinks:w,onPageChange:C})]})})})};var jr=i(81973),Gr=i(20905),qr=i(96310),Qr=i(8665),Xr=i(63811),Jr=i.n(Xr),Zr=i(40527);const eo=(0,q.I4)("ul",(e=>{let{$theme:t,$supportsScrollSnapping:i,$textDirection:a,$amountOfOffers:r,$amountOfOffersOnPage:o,$disableScrollSnapping:n,$isFirstPage:l,$isLastPage:s}=e;const d=t.sizing.scale300,c=r<=6,u=c?3:Math.ceil(o/2),p=c||3===u,g=32/3/u,h=100*u/3;return{display:"grid",gridAutoFlow:r<5?"row":"column",gridTemplateColumns:`repeat(\n        ${c?3:u},\n        calc(${100/u}% - ${16*(u-1)/u}px)\n      )`,gridTemplateRows:r<4?"1fr":"1fr 1fr",gap:t.sizing.scale600,cursor:"auto",minWidth:p?"100%":`calc(${h}% - ${g}px)`,marginTop:0,marginBottom:0,marginRight:"ltr"!==a||s?0:d,marginLeft:"ltr"!==a||l?0:d,...i?{scrollSnapAlign:n?"none":"start"}:{}}})),to=e=>{let{storeOffers:t,header:i,trackingCode:r,feedItemUuid:o,feedItemPosition:n}=e;const{containerRef:l,getPageChunks:s,getPageProps:d,isPreviousPageDisabled:c,isNextPageDisabled:u,handlePageChange:p,supportsScrollSnapping:g}=(0,Q.A)({thresholdRatio:.7}),{onScroll:h}=(0,Zr.A)(l,o??""),{onScroll:m}=(0,or.k)(),y=Jr()((e=>{h(e),m()}),500),f=(0,B.Ay)(),I=(0,a.useMemo)((()=>{const e=!!t&&t.length%6!=0,i=t&&t.length<=6,a=t&&t.length%2!=0,r=t?6-t.length%6:0,l=t&&!i?t.length-r+(a?2:0):1/0,d=t?.map(((t,a)=>(0,S.Y)(Qr.A,{store:t,storeName:t?.title?.text||"",offerDetail:t?.subTitle?.text||"",logoSrc:t.storeLogoURL?.items?.slice(-1)?.[0]?.url||"",actionUrl:t?.actionURL||"",disableScrollSnapping:i||e&&a>=l,analyticsInfo:{impressionEventName:"eats:store_offers_carousel_item_impression",clickEventName:"eats:store_offers_carousel_tap",eventPayload:{feedItemUuid:o,feedItemPosition:n,pageAtCarousel:Math.floor(a/6),indexInOffers:a,trackingCode:JSON.stringify(t?.trackingCode)??""}}},a)))??[];return s(d,6)}),[s,t,o,n]);return(0,S.Y)(He.A,{header:i,onPageChange:p,showPaginationButtons:(t?.length??0)>6,backwardEnabled:!c,forwardEnabled:!u,analyticsLabel:r?.metaInfo?.analyticsLabel??"",onViewAllClick:()=>{f("eats:store_offers_carousel_see_all_tap",{feedItemUuid:o,feedItemPosition:n})},children:(0,S.Y)(Ot.wq,{ref:l,$supportsScrollSnapping:g,onScroll:y,"data-testid":Ct.E.storeOffersDesktopCarousel,children:I.map(((e,i,a)=>{const r=e.length<6,o=i===I.length-1,n=1===I.length;return(0,S.Y)(eo,{$amountOfOffers:t?.length??0,$amountOfOffersOnPage:e.length,$disableScrollSnapping:!n&&r&&o,$isLastPage:o,$isFirstPage:0===i,...d(i,a.length),children:e},i)}))})})};var io=i(36874);const ao=(0,u._F)(h.A,{width:"auto",margin:"40px auto"}),ro=(0,u._F)(k.A,{margin:"40px auto"}),oo=(0,u.I4)("div",(()=>({display:"flex",justifyContent:"space-between",alignItems:"center"}))),no=(0,u.I4)("div",(e=>{let{$isFeedRefresh:t}=e;return{...t?{paddingBottom:"20px"}:{}}})),lo=(0,u.I4)("div",(()=>({display:"inline-flex",flex:"0 0 auto",marginTop:"8px"}))),so=(0,u.I4)("h2",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,marginTop:"8px",display:"inline-block"}})),co=(0,u.I4)("div",(e=>{let{$isHomeFeed:t}=e;return{gridColumn:t?"2 / 4":"1 / 4"}})),uo=(0,u.I4)("div",{marginBottom:"-16px"}),po=e=>{const t=(0,o.W6)(),i=(0,n.zy)(),u=(0,B.Ay)(),h=(0,ba.A)(),{shouldShowBanner:m}=(0,ui.A)("feed"),y=(0,d.c)()("loading"),{setA11yStatusMessage:f}=(0,g.DP)(),I=(0,Ba.Mj)();(0,a.useEffect)((()=>{I.remove("uev2.viewed-stores")}),[I]),(0,a.useEffect)((()=>{e.loadingNextPage&&f(y)}),[f,e.loadingNextPage,y]);const b=(0,p.A)(e.feedItems),x=(0,a.useRef)(null);(0,a.useEffect)((()=>{e.loadingNextPage||x.current&&x.current.focus()}),[e.loadingNextPage]);const A={storeTitleTypography:"LabelLarge",storeItemMetaTopRowPadding:"12px 0 0"},{showEuDisclaimer:v}=(0,Ra.A)();(0,a.useEffect)((()=>{v&&u("eats:eu_disclaimer_feed_impression",{hasBottomSheet:Boolean(e.bottomSheet)})}),[v,e.bottomSheet,u]),(0,Ma.A)();const{shouldShowSwitchToPickup:Y,showSwitchToPickup:C}=(0,Fa.A)();(0,a.useEffect)((()=>{Y&&e.serviceBottomSheet&&(C(e.serviceBottomSheet),u("eats:feed_low_courier_supply_bottom_sheet_inclusion"))}),[Y,C,e.serviceBottomSheet,u]);const _=e.feedItems.some((e=>"EATER_MESSAGE_FEED"===e.type&&"INFEED_BANNER"===(0,ni.KN)(e.eaterMessage))),w=(0,di.A)(),L=(0,N.A)(),k=(0,z.A)("can_enable_cs_other_entrypoint_xlb"),{aisleCategory:$}=(0,Oa.A)(),P=L&&!k;(0,a.useEffect)((()=>{e.storesMap&&!(0,Na.A)(e.storesMap)&&u("eats:legacy_feed_stores_map_payload")}),[u,e.storesMap]);const D=(0,a.useMemo)((()=>{for(const t of e.feedItems)if("CANONICAL_PRODUCT"===t.type)return!0;return!1}),[e.feedItems]),O=(0,a.useMemo)((()=>e.customNumberOfColumns?e.customNumberOfColumns:e.shouldDisplayStoreCardRedesign&&e.seoSearchEnabled||e.seoPaginatedStoresEnabled?1:e.seoCardNewDesignEnabled||e.seoSearchEnabled?2:D?5:3),[e.customNumberOfColumns,e.shouldDisplayStoreCardRedesign,e.seoSearchEnabled,e.seoPaginatedStoresEnabled,e.seoCardNewDesignEnabled,D]),F=(0,a.useMemo)((()=>e.feedItems.some((e=>"EMPTY_STATE"===e.type&&i.pathname.includes("/search")))),[e.feedItems,i.pathname]),R=(0,z.A)("refresh_feed_store_cards"),M=(0,si.A)(),W=(0,qr.A)();return(0,S.FD)(jr.tn,{children:[v?(0,S.FD)(S.FK,{children:[(0,S.Y)(ii.A,{title:e.title,subtitle:e.subtitle,bottomSheet:e.bottomSheet,titleTypography:"DisplayBoldXSmall"}),(0,S.Y)(ct.Ay,{$height:24})]}):(0,S.Y)($r.A,{title:e.title,subtitle:(0,za.x)(e.subtitle),titleTypography:e.titleTypography??"DisplayBoldXSmall"}),m?(0,S.Y)(ci.A,{pageType:"feed"}):null,(0,S.Y)(U.Ay,{$gridRowGap:_||e.shouldDisplayStoreCardRedesign&&e.seoSearchEnabled?0:e.useFeedRefreshGap?Ee.ii:e.gridRowGap,$gridColumGap:e.useFeedRefreshGap?Ee.a6:24,$numColumns:O,$gridMediaTemplateColumns:e.gridMediaTemplateColumns,"data-test":"feed-desktop","data-testid":"feed-desktop",children:e.feedItems.map(((o,n)=>{const d=e.feedItems[n-1]?.type,c=d&&"STORE"===d,u=e.feedItems.length-1===n,p=n===b?.length;switch(o.type){case"SHORTCUTS":{const e=""!==h;return(0,S.FD)(U.O4,{children:[0===n?(0,S.Y)(ct.Ay,{$height:24}):(0,S.Y)(uo,{}),(0,S.Y)(K,{"data-testid":"desktop-shortcut",shortcuts:o.shortcuts,shortcutsMeta:o.analyticsLabel,alignment:e?"flex-start":"center"}),e||o.hideLineSeparator?null:(0,S.Y)(E.A,{$margin:"24px 0 0"})]},o.uuid)}case"REORDER_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(Ft,{...o})},o.uuid);case"ANNOUNCEMENT":return(0,S.Y)(U.O4,{children:(0,S.Y)(j.A,{item:o,feedIndex:n,pageType:e.pageType??"unknown"})},o.uuid);case"CANONICAL_PRODUCT":return(0,S.Y)(kr.A,{item:o.payload.canonicalProductPayload,pageType:e.pageType,location:i},o.uuid);case"SINGLE_CATALOG_ITEM":return(0,S.Y)(Ta.A,{item:o.payload,position:n,feedItemUuid:o.uuid,pageType:e.pageType},o.uuid);case"CATALOG_ITEMS_CAROUSEL_PAYLOAD":return M?(0,S.Y)(U.O4,{children:(0,S.Y)(Ea,{items:o.payload.items,header:o.payload.header,storeUuid:o.payload.storeUuid,position:n,trackingCode:o.payload.trackingCode,feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,pageType:e.pageType})},o.uuid):(0,S.Y)(U.O4,{children:(0,S.Y)(Ua,{items:o.payload.items,header:o.payload.header,storeUuid:o.payload.storeUuid,position:n,trackingCode:o.payload.trackingCode,feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,pageType:e.pageType,feedItem:o})},o.uuid);case"REGULAR_STORE":{const t="actionUrl"in o.store&&"string"==typeof o.store.actionUrl&&"cornershop"===(0,vt.A)(o.store.actionUrl);if(P&&t)return null;if("LARGE_LAYOUT"===o.store.layoutType)return(0,S.Y)(U.O4,{children:(0,S.Y)(ua,{store:o.store,position:n,analyticsLabel:o.analyticsLabel,items:[],pageType:e.pageType})},o.uuid);const r=R?li.A:l.A;return(0,S.Y)(a.Fragment,{children:(0,S.Y)(U.fh,{"data-testid":"store-card",children:e.seoCardNewDesignEnabled?(0,S.Y)(ti,{store:o.store,location:i,linkRef:p?x:void 0,showFavorite:e.showFavorite,pageType:e.pageType,position:n,titleTypography:"LabelLarge",heroImageHeight:w,heroImageSizes:"25vw",analyticsLabel:o.analyticsLabel,seoContent:e.seoContent&&e.seoContent[o.store.storeUuid||""]}):(0,S.Y)(no,{$isFeedRefresh:M,children:(0,S.Y)(r,{store:o.store,location:i,linkRef:p?x:void 0,showFavorite:e.showFavorite,pageType:e.pageType??"unknown",position:n,titleTypography:"LabelLarge",heroImageHeight:w,heroImageSizes:"25vw",analyticsLabel:o.analyticsLabel})})})},o.uuid)}case"FEATURED_STORES":return(0,S.Y)(U.O4,{children:(0,S.Y)(Dr.A,{featuredStores:o.payload,feedItemUuid:o.uuid,customEventMetadata:{isEmptySearchState:F,position:String(n)},position:n,feedItem:o})},o.uuid);case"STORE_OFFERS_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(to,{trackingCode:o.payload?.trackingCode,header:o.payload?.header,storeOffers:o.payload?.storeOffers,feedItemUuid:o.uuid,feedItemPosition:n})},o.uuid);case"REGULAR_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(S.FK,{children:e.seoCardNewDesignEnabled?(0,S.FD)(S.FK,{children:[(0,S.Y)(Tr,{carousel:o.carousel,showFavorite:e.showFavorite,feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,seoContent:e.seoContent,customEventMetadata:{isEmptySearchState:F},pageMargin:Ee.yO,position:n,pageType:e.pageType}),u?null:(0,S.Y)(E.A,{$margin:"32px 0 0"})]}):(0,S.Y)(S.FK,{children:(0,S.Y)(_r.Ay,{carousel:o.carousel,carouselUuid:o.uuid,showFavorite:e.showFavorite,feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,customEventMetadata:{isEmptySearchState:F},pageMargin:Ee.yO,position:n,itemType:o.type,pageType:e.pageType,analyticsUuid:o.uuid,feedItem:o})})})},o.uuid);case"SDUI_STORE_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(Da,{feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,sduiCarousel:o.payload,pageMargin:Ee.yO,position:n,feedItem:o,pageType:e.pageType})},o.uuid);case"MINI_STORE_WITH_PREVIEW_CAROUSEL":return o?.payload?.cards?.length?(0,S.Y)(U.O4,{children:(0,S.Y)(ma,{feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,draftOrderCarousel:o.payload,feedItem:o})},o.uuid):null;case"QUICK_ADD_ITEMS_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(va,{items:o.payload.items,header:o.payload.header,footer:o.payload.footer,analyticsLabel:o.analyticsLabel,storeUuid:o.payload.storeUuid,isLeftNavHidden:e.isLeftNavHidden,position:n,pageType:e.pageType,feedItemUuid:o.uuid,hideNoFollow:o.hideNoFollow,feedItem:o})},o.uuid);case"THIRD_PARTY_STORE_CAROUSEL":return P?null:(0,S.Y)(U.O4,{children:(0,S.Y)(Er,{carousel:o.carousel,feedItemUuid:o.uuid,position:n})},o.uuid);case"LIST_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(Je,{carousel:o.carousel,showFavorite:e.showFavorite,feedItemUuid:o.uuid,analyticsLabel:o.analyticsLabel,position:n,itemType:o.type,pageType:e.pageType,analyticsUuid:o.uuid,feedItem:o})},o.uuid);case"STORE":{const t=e.storesMap[o.uuid];return t?e.seoSearchEnabled?e.shouldDisplayStoreCardRedesign?(0,S.Y)(U.fh,{children:(0,S.Y)(Pt,{store:t,location:i,pageType:e.pageType,position:n,maxIndex:e.feedItems.length-1,titleTypography:"LabelMedium",heroImageHeight:w,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:o.analyticsLabel,trackingCode:o.trackingCode,seoContent:e.seoContent&&e.seoContent[o.uuid||""]})},o.uuid):(0,S.Y)(a.Fragment,{children:(0,S.Y)(U.fh,{children:(0,S.Y)(ai.A,{store:t,location:i,linkRef:p?x:void 0,pageType:e.pageType,position:n,titleTypography:"LabelLarge",heroImageHeight:w,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:o.analyticsLabel,trackingCode:o.trackingCode,seoContent:e.seoContent&&e.seoContent[o.uuid||""]})})},o.uuid):(0,S.Y)(a.Fragment,{children:(0,S.Y)(U.fh,{children:(0,S.FD)(S.FK,{children:[(0,S.Y)(s.A,{store:t,heroImageHeight:w,favoriteButtonSize:"small",showFavorite:e.showFavorite,location:i,linkRef:p?x:void 0,trackingCode:o.trackingCode,pageType:e.pageType,position:n,styleOverrides:A,analyticsLabel:o.analyticsLabel,numDishes:(o.dishes||[]).slice(0,1).length}),(0,S.Y)(Yr,{dishes:(o.dishes||[]).slice(0,1),storeSlug:t.slug})]})})},o.uuid):null}case"STORES":return(0,S.Y)(Kr,{pageType:e.pageType,linkRef:p?x:void 0,shouldDisplayStoreCardRedesign:e.shouldDisplayStoreCardRedesign,seoSearchEnabled:e.seoSearchEnabled,showFavorite:e.showFavorite,initialStores:o.stores,initialStoresMap:e.storesMap,initialTotalPages:e.seoPaginatedTotalPages});case"MINI_STORE":{const t="actionUrl"in o.store&&"string"==typeof o.store.actionUrl&&"cornershop"===(0,vt.A)(o.store.actionUrl);if(P&&t)return null;const r=R?Cr:tr;return(0,S.Y)(a.Fragment,{children:"SIMPLIFIED_LAYOUT"===o.store.layout?(0,S.Y)(U.fh,{children:(0,S.Y)(Sa.A,{size:"DESKTOP_CIRCLE",store:o.store,analyticsLabel:o.analyticsLabel,showFavorite:e.showFavorite,pageType:e.pageType,position:n,feedItem:o})}):"REGULAR_CIRCLE_IMAGE_LAYOUT"===o.store.layout?(0,S.Y)(U.fh,{children:(0,S.Y)(Ne.A,{size:"DESKTOP_CIRCLE",store:o.store,analyticsLabel:o.analyticsLabel,pageType:e.pageType,feedItem:o})},o.uuid):(0,S.Y)(U.fh,{children:(0,S.Y)(r,{store:o.store,location:i,linkRef:p?x:void 0,showFavorite:e.showFavorite,pageType:e.pageType,position:n,titleTypography:"LabelLarge",heroImageHeight:w,heroImageSizes:"25vw",analyticsLabel:o.analyticsLabel,feedItem:o})},o.uuid)},o.uuid)}case"MINI_STORE_WITH_ITEMS":return o.miniStoreWithItems?.standardItemsPayload&&o.miniStoreWithItems?.store?(0,S.Y)(U.O4,{children:(0,S.Y)(Pr.A,{store:o.miniStoreWithItems.store,standardItemsPayload:o.miniStoreWithItems.standardItemsPayload,analyticsLabel:o.analyticsLabel,feedItemUuid:o.uuid,index:n,feedItem:o,pageType:e.pageType})},o.uuid):""!==$?(0,S.Y)(U.O4,{children:(0,S.Y)(La,{store:o.miniStoreWithItems.store,items:o.miniStoreWithItems.items||[],analyticsLabel:o.analyticsLabel,feedItemUuid:o.uuid,feedItem:o,pageType:e.pageType,position:n})},o.uuid):(0,S.Y)(U.O4,{children:(0,S.Y)(Qi,{store:o.miniStoreWithItems.store,analyticsLabel:o.analyticsLabel,position:n,items:o.miniStoreWithItems.items||[],pageType:e.pageType})},o.uuid);case"REGULAR_STORE_WITH_ITEMS":return(0,S.Y)(U.O4,{children:(0,S.Y)(ua,{store:o.store,analyticsLabel:o.analyticsLabel,position:n,items:o.itemsV2||[],pageType:e.pageType})},o.uuid);case"STORE_CAROUSEL":return(0,S.FD)(U.O4,{children:[c?(0,S.Y)(E.A,{$color:"backgroundPrimary",$margin:"0 0 16px"}):null,(0,S.Y)(Ot.Ay,{title:o.title,subtitle:o.subtitle,stores:o.stores,storesMap:e.storesMap,carouselId:o.carouselId,heroImageHeight:je._h,feedItemUuid:o.uuid,showFavorite:e.showFavorite,analyticsLabel:o.analyticsLabel,styleOverrides:A}),u?null:(0,S.Y)(E.A,{$color:"backgroundPrimary",$margin:"16px 0 0"})]},o.uuid);case"CUISINE_CAROUSEL":return(0,S.FD)(U.O4,{children:[c||0===n&&1!==e.feedItems.length?(0,S.Y)(E.A,{$color:"backgroundPrimary",$margin:"0 0 16px"}):null,(0,S.Y)(be,{items:o.items,viewAllLocation:o.url,analyticsLabel:o.analyticsLabel,feedItemUuid:o.uuid,customEventMetadata:{isEmptySearchState:F}}),u?null:(0,S.Y)(E.A,{$color:"backgroundPrimary",$margin:"16px 0 0"})]},o.uuid);case"ACTIONABLE_MESSAGE":return(0,S.Y)(U.O4,{children:(0,S.Y)(we,{title:o.title,subtitle:o.subtitle,buttonText:o.buttonText,position:n,pageType:e.pageType,feedItem:o})},o.uuid);case"GIVEGET_CTA":return(0,S.Y)(U.O4,{children:(0,S.Y)(T,{title:o.title,linkText:o.linkText})},o.uuid);case"SECTION":return(0,S.Y)(U.O4,{children:(0,S.Y)(so,{children:"string"==typeof o.title?o.title:o.title?.text})},o.uuid);case"SECTION_HEADER":{const a=()=>{o.trailingButtonAction?.openLinkPayload?.webUrl&&t.push(o.trailingButtonAction?.openLinkPayload?.webUrl),"RESET_FILTERS"===o.trailingButtonAction?.type&&t.replace((0,Le.jo1)(i,["sortAndFilters"]))};return(0,S.Y)(U.O4,{children:(0,S.FD)(oo,{children:[(0,S.Y)(so,{children:o.richTextSectionTitle?"RESET_FILTERS"===o.trailingButtonAction?.type?(0,S.Y)(ya.Ay,{text:o.richTextSectionTitle}):(0,io.Tl)(o.richTextSectionTitle):"string"==typeof o.title?o.title:o.title?.text}),e.shouldShowInlineSeeAllStoresButton&&o.trailingButton?(0,S.Y)(lo,{children:(0,S.Y)(ri.A,{viewModel:o.trailingButton,onClick:a})}):null]})},o.uuid)}case"EMPTY_STATE":return o.seoPageType?(0,S.Y)(co,{children:(0,S.Y)(Wa.A,{emptyState:o,pageType:o.seoPageType})},o.uuid):(0,S.Y)(co,{$isHomeFeed:[Ee.KW,Ee.ks].includes(o.uuid)||e.useFeedRefreshGap,children:(0,S.Y)(Me,{emptyState:o})},o.uuid);case"ORDERS_NEAR_YOU_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(st,{title:o.title,subtitle:o.subtitle,stores:o.stores,isDaytime:o.isDaytime,backupImageUrl:o.backupImageUrl,analyticsLabel:o.analyticsLabel})},o.uuid);case"ITEM_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(Ar,{header:o.header,items:o.items,analyticsLabel:o.analyticsLabel,heroImageHeight:w,feedItemUuid:o.uuid,position:n,feedItem:o,pageType:e.pageType})},o.uuid);case"LINE_SEPARATOR":return(0,S.Y)(U.O4,{children:(0,S.Y)(E.A,{$margin:o.margin})},o.uuid);case"BACKGROUND_IMAGE_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(Ir,{stores:o.stores,carouselHeader:o.carouselHeader,carouselBackground:o.carouselBackground,analyticsLabel:o.analyticsLabel,position:n,feedItemUuid:o.uuid})},o.uuid);case"EATER_MESSAGE_FEED":switch((0,ni.KN)(o.eaterMessage)){case"BILLBOARD":return $?null:(0,S.Y)(U.O4,{children:(0,S.Y)(oi.A,{eaterMessage:o.eaterMessage,feedIndex:n})},o.uuid);case"INFEED_BANNER":return(0,S.Y)(U.O4,{children:(0,S.Y)(Ze.R,{$ignorePadding:!0,children:(0,S.Y)(oi.A,{eaterMessage:o.eaterMessage,feedIndex:n})})},o.uuid);case"COLLECTION_CARD":case"AISLE_FEED_BILLBOARD":case"AISLE_LEGO_FEED_BILLBOARD":case"HOME_FEED_GR_PROMO":case"MANUAL_CAROUSEL":return(0,S.Y)(U.O4,{children:(0,S.Y)(oi.A,{eaterMessage:o.eaterMessage,feedIndex:n})},o.uuid)}return null;case"DIVIDER":return(0,S.Y)(U.O4,{children:(0,S.Y)(E.A,{$margin:"4px 0 8px"})},o.uuid+n+"_divider");case"MARKUP_TEXT":return"lego"===e.pageType?(0,S.Y)(U.O4,{children:(0,S.Y)(r.N_,{to:o.actionUrl,onClick:e=>{if("adsInfo"===new URLSearchParams(o.actionUrl).get("mod"))return e.preventDefault(),e.stopPropagation(),void t.push((0,Le.Zyy)(i,"adsInfo"))},children:(0,S.Y)(pi.A,{badge:{textFormat:o.text}})})},o.uuid):null;default:return null}}))}),e.shouldShowInlineSeeAllStoresButton?null:(0,S.FD)(S.FK,{children:[e.loadingNextPage?(0,S.Y)(ro,{}):null,!e.loadingNextPage&&e.fetchNextPage?(0,S.Y)(ao,{onClick:e.fetchNextPage,children:(0,S.Y)(c.H,{id:"feed.showMore"})}):null]}),W?(0,S.Y)(Gr.A,{}):null]})};po.displayName="FeedDesktop";const go=po},20905:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var a=i("__fusion__95b4ba69e5"),r=i(40920),o=i(81973),n=i(40014);const l=()=>{const e=(0,o.t5)().item;return e?(0,n.Y)(s,{item:e}):null},s=a.memo((function(e){let{item:t}=e;return(0,r.A)({shouldNavigateBackToStoreOnItemAdd:!1,itemParams:t}),null})),d=a.memo(l)},23983:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>_});var a=i(90417),r=i(41967),o=i(72673),n=i(86105),l=i(81464),s=i(43316),d=i(79911),c=i(57812),u=i(98207),p=i(57866),g=i(38018),h=i(65888),m=i(56279),y=i(8474),f=i(67205),I=i(40014);const b=(0,r.I4)("div",(e=>{let{$width:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:`${t}px`}})),x=(0,r.I4)(s.A,(e=>{let{$theme:t,$diameter:i}=e;return{width:`${i}px`,height:`${i}px`,borderRadius:"100%",outline:`2px solid ${t.colors.borderTransparent}`,outlineOffset:"-2px"}})),A=(0,r.I4)("span",(e=>{let{$theme:t,$isDesktop:i}=e;return{...t.typography.LabelMedium,width:"100%",textAlign:"center",marginTop:i?t.sizing.scale500:t.sizing.scale300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),v=(0,r.I4)(s.A,(e=>{let{$theme:t}=e;return{height:t.sizing.scale550,width:t.sizing.scale550,objectFit:"contain",verticalAlign:"top"}})),S=(0,r.I4)("div",(e=>{let{$theme:t,$color:i,$backgroundColor:a,$isDesktop:r}=e;return{...r?{...t.typography.LabelSmall}:{...t.typography.LabelXSmall},color:i??t.colors.signpost,marginTop:`-${t.sizing.scale600}`,marginBottom:`-${t.sizing.scale300}`,backgroundColor:a||t.colors.backgroundPrimary,borderRadius:"4px",display:"flex",boxSizing:"border-box",maxWidth:"100%",whiteSpace:"nowrap",boxShadow:"0px 4px 16px 0px rgba(0, 0, 0, 0.12)",textOverflow:"ellipsis",overflow:"hidden",padding:"0 4px",height:"24px",lineHeight:"24px",alignItems:"center",gap:"4px"}})),Y={DEFAULT:"",HOME_FEED:"home",VERTICAL_FEED:"vertical"},C={width:"100%",display:"inline-block"},_=e=>{let{store:t,analyticsInfo:i,imageSettings:r,metadata:s}=e;const _=(0,n.zy)(),w=(0,o.NU)(_,t.actionUrl),L=(0,g.W)(),T=Y[t?.trackingCode?.metaInfo?.surfaceAreaV2??"DEFAULT"]??"",{vertical:U}=(0,y.g$k)(_,["vertical"]),E=(0,a.useMemo)((()=>({analyticsLabel:t?.trackingCode?.metaInfo?.analyticsLabel??"",verticalType:t?.trackingCode?.metaInfo?.verticalType??"",feedItemType:i?.feedItemType??"",feedContext:T??"",feedItemUuid:i?.feedItemUuid??"",storeTitle:t.title??"",storeUuid:t.storeUuid??"",displayItemUuid:t.storeUuid??"",displayItemType:t?.trackingCode?.metaInfo?.displayItemType??"",trackingCode:JSON.stringify(t?.trackingCode??""),horizontalPosition:String(i?.customEventMetadata?.position??""),carouselPosition:String(i?.positionOnCarousel??""),carouselSize:String(i?.carouselSize??""),isEmptySearchState:String(i?.customEventMetadata?.isEmptySearchState??"false"),flush_time_ms:Date.now()})),[i,t,T]),k=(0,l.A)({eventName:"eats:featured_stores_carousel_item_impression",eventPayload:E,intersectionObserverProps:{threshold:.75}},g.W),$={analyticsLabel:t?.trackingCode?.metaInfo?.analyticsLabel,verticalType:t?.trackingCode?.metaInfo?.verticalType,feedItemType:i?.feedItemType,feedContext:T,feedItemUuid:i?.feedItemUuid??"",storeTitle:t.title??"",storeUuid:t.storeUuid??"",trackingCode:JSON.stringify(t?.trackingCode??""),horizontalPosition:parseInt(i?.customEventMetadata?.position??"0"),carouselPosition:i?.positionOnCarousel,carouselSize:i?.carouselSize,selectedVertical:U??f.h0},P=(0,h.z)({impressionEventName:"feed_item_card_scrolled",payload:$}),D=(0,h.s)({tapEventName:"feed_item_card_tapped",payload:$}),O=t.title??"",F=t.meta?.find((e=>{let{badgeType:t}=e;return"ETD"===t})),R=t.signposts?.find((e=>{let{badgeType:t}=e;return"SIGNPOSTS"===t})),M=t.image?.items?.[0]?.url||"";return(0,I.Y)(d.A,{ref:(0,m.A)(k,P),storeUuid:t.storeUuid||"",storeUrl:w,storeTitle:O,analyticsLabel:i?.customEventMetadata?.analyticsLabel??"",trackingCode:i?.trackingCode,position:i?.positionOnCarousel,meta:i?.customEventMetadata,onClick:()=>{D(),L("eats:featured_stores_carousel_item_tap",E)},children:(0,I.FD)(b,{$width:r.diameter,children:[(0,I.Y)(p.A,{condition:r.useWebP??!1,wrapper:e=>(0,I.Y)(u.A,{src:M,height:200,width:200,children:e}),children:(0,I.Y)(x,{$diameter:r.diameter,loading:r?.useLazyLoad?"lazy":"eager",decoding:r?.useLazyLoad?"async":"sync",alt:`${O} logo`,src:M})}),R?(0,I.FD)(S,{$backgroundColor:String(R.backgroundColor?.color??""),$color:String(R.textColor?.color??""),$isDesktop:s?.isDesktop,children:[R.iconUrl?(0,I.Y)(v,{src:R.iconUrl}):null,R.text]}):null,O?(0,I.Y)(A,{$isDesktop:s?.isDesktop,"aria-label":O,children:O}):null,F?(0,I.Y)(c.A,{meta:[F],wrapText:!0,customStyleObject:C}):null]})})}},25219:(e,t,i)=>{"use strict";i.d(t,{KN:()=>o,xL:()=>n});var a=i(92671);const r={cardCarousel:"BILLBOARD",cardItemPayload:"INFEED_BANNER"},o=e=>{let{payload:t,surfaceId:i}=e;if(!t||!i)return"";switch(i){case a.Og.HOME_FEED_COLLECTION_CARD:return"COLLECTION_CARD";case a.Og.VERTICAL_FEED_BILLBOARD:case a.Og.HOME_FEED_ITEM:return r[t.type]||"";case a.Og.AISLE_FEED_BILLBOARD:return"AISLE_FEED_BILLBOARD";case a.Og.AISLE_LEGO_FEED_BILLBOARD:return"AISLE_LEGO_FEED_BILLBOARD";case a.Og.AISLE_FEED_MANUAL_CAROUSEL:return"MANUAL_CAROUSEL";case a.Og.HOME_FEED_GR_PROMO:return"HOME_FEED_GR_PROMO"}return""},n=e=>e.toUpperCase()===a.XO.CCC?a.XO.CCC:null},27257:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>O,re:()=>P});var a=i(90417),r=i(63811),o=i.n(r),n=i(40304),l=i(66764),s=i(89012),d=i(1139),c=i(46153),u=i(51906),p=i(86105),g=i(41967),h=i(14192),m=i(66717),y=i(57921),f=i(12304),I=i(91589),b=i(43139),x=i(47719),A=i(86083),v=i(86457),S=i(40527),Y=i(12424),C=i(3132),_=i(17283),w=i(38018),L=i(65888),T=i(73792),U=i(31725),E=i(8474),k=i(67205),$=i(40014);const P=4,D=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),O=e=>{const{feedItemUuids:t}=(0,x.A)(),i=(0,p.zy)(),{vertical:r}=(0,E.g$k)(i,["vertical"]),g=(0,m.A)(),P=(0,T.W)(),{containerRef:O,getPageChunks:F,getPageProps:R,isPreviousPageDisabled:M,isNextPageDisabled:B,handlePageChange:N,supportsScrollSnapping:z,textDirection:W}=(0,v.A)({scrollOffset:24}),{onScroll:H}=(0,S.A)(O,e.carouselUuid),V=(0,A.A)({feedItemUuid:e.feedItemUuid||""}),K=(0,w.W)(),j=(0,n.vm)({...d.z.web_feed_carousel_icon_removal,defaultValue:!1}),G="regular-store",q=e.carousel.header,Q=e.analyticsLabel,X=j||!e.carousel.header?.endIcon&&!V?4:3,[J,Z]=a.useMemo((()=>{const t=e.carousel.stores||[],i=t.map((e=>e?.storeUuid)).filter(Boolean);return[t,i]}),[e.carousel.stores]),{onScroll:ee}=(0,c.k)(),te=(0,T.W)(),ie=(0,L.s)({tapEventName:"see_all_carousel_tap",payload:(0,_.P4)({feedItemUuid:e.feedItemUuid,diningMode:te,feedContext:e.pageType,analyticsLabel:e.analyticsLabel})}),ae=a.useCallback((()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=Q&&(ie(),K("eats:carousel_cta_click",{label:Q,numItems:Z?Z.length:0,carouselLayoutType:G,entityUuids:Z,carouselUuid:e.feedItemUuid,carouselPosition:e.position,feedContext:e.pageType,...e.customEventMetadata||{}}))}),[Q,K,ie,e,Z]),re=(0,U.A)("refresh_feed_store_cards"),oe=e.carousel.stores?.[0],ne=a.useMemo((()=>({trackingCodeUuid:e.analyticsUuid,trackingCodeAnalyticsLabel:Q,feed:{feedContext:e.pageType||"unknown",feedItemType:e.itemType,feedItemUuid:e.feedItemUuid||"",feedItemPosition:e.position},store:(0,u.A)(oe)})),[e.analyticsUuid,Q,e.pageType,e.itemType,e.feedItemUuid,e.position,oe]),le=(0,C.A4)(),se=(0,L.z)({impressionEventName:"feed_item_scrolled",payload:{...le((0,C.xX)(ne)),...(0,_.YE)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem})}}),de=o()((e=>{H(e),ee()}),500);if(e.feedItemUuid&&t.includes(e.feedItemUuid))return(0,$.Y)(f.A,{analyticsLabel:Q,entityUuids:Z,carouselLayoutType:G,carouselUuid:e.feedItemUuid,ref:se,children:(0,$.Y)("section",{children:(0,$.Y)(y.A,{header:q,onPageChange:Y.A,showPaginationButtons:!0,backwardEnabled:!1,forwardEnabled:!1,analyticsLabel:Q,customEventMetadata:e.customEventMetadata,onViewAllClick:()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=Q&&K("eats:carousel_cta_click",{label:Q,numItems:Z?Z.length:0,carouselLayoutType:G,entityUuids:Z,carouselUuid:e.feedItemUuid,carouselPosition:e.position,feedContext:e.pageType})},children:(0,$.Y)(s.DE,{hideHeader:!0,colCount:X,heroImageHeight:g})})})});const ce=re?I.A:b.A,ue=F(J.map(((t,a)=>(0,$.Y)(h.q7,{"data-testid":"carousel-slide",$textDirection:W,$margin:e.pageMargin??24,$pageSize:X,children:(0,$.Y)(ce,{store:t,location:i,showFavorite:e.showFavorite,position:a,titleTypography:"LabelLarge",heroImageHeight:g,heroImageSizes:"25vw",analyticsLabel:e.analyticsLabel,meta:e.customEventMetadata??{},analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...le((0,C.tm)(ne,(0,u.A)(t))),...(0,_.I4)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem,feedStore:t,diningMode:P,collectionIndex:a}),numItemsInCarousel:J.length,analyticsLabel:e.analyticsLabel,selectedVertical:r??k.h0}}})},a))).filter(Boolean),X);return(0,$.Y)(f.A,{analyticsLabel:Q,entityUuids:Z,carouselLayoutType:G,carouselUuid:e.feedItemUuid,ref:se,children:(0,$.Y)("section",{children:(0,$.Y)(y.A,{header:q,analyticsLabel:Q,customEventMetadata:e.customEventMetadata,onPageChange:N,showPaginationButtons:J.length>X,backwardEnabled:!M,forwardEnabled:!B,onViewAllClick:ae,hideEndIcon:j,feedItemUuid:e.feedItemUuid,children:0===J.length?(0,$.Y)(D,{children:(0,$.Y)(l.H,{id:"bandwagon.no_restaurants"})}):(0,$.Y)(h.mO,{ref:O,$supportsScrollSnapping:z,onScroll:de,children:ue.map(((t,i,a)=>(0,$.Y)(h.YW,{$pageMargin:e.pageMargin??24,...R(i,a.length),children:t},i)))})})})})}},28077:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var a=i(35050),r=i(40014);const o=e=>{let{shortcut:t,...i}=e;const o={...t};return o.webUrl="category-feed/Grocery",o.isExternal=!1,(0,r.Y)(a.A,{shortcut:o,isXLB:!0,...i})}},28561:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>m,DP:()=>h,cZ:()=>g});var a=i(90417),r=i(65416),o=i(50371),n=i(48594),l=i(85746),s=i(8474),d=i(25816),c=i(4914),u=i(40951),p=i(86105);const g=e=>{let{options:t,type:i,label:a,selected:r=!1}=e;const o=(0,c.c)();if(r&&t)switch(i){case"priceRangeFilter":case"dietaryFilter":case"topEatsFilter":return(0,u.lk)(t);case"bookingFeeFilter":return o("shared.sortandfilters.maximum",{price:(0,u.FH)(t)});default:return a}return a},h=e=>{let{options:t,label:i,type:o}=e;const[n,l]=(0,a.useState)(),[s,d]=(0,a.useState)(),c=(0,a.useRef)(),u=(0,r.d4)((e=>{let{device:t}=e;return t.isAndroid})),p=t.some((e=>e.active)),h=g({options:t,type:o,label:i,selected:p});return(0,a.useEffect)((()=>{u||n&&s&&(c.current||(c.current=n.offsetWidth-s.offsetWidth),n.style.width=s.offsetWidth+c.current+"px")}),[s,t,n,u]),{setPillElement:l,setLabelElement:d,text:h,hasActive:p}},m=()=>{const e=(0,p.zy)(),t=(0,o.W6)(),{cacheKey:i,feedArgs:{sortAndFilters:c=[]}}=(0,n.A)(),g=(0,r.d4)((e=>{let{feed:t}=e;return(0,l.RA)(t,i)})),h=(0,d.A)(g)?.sortAndFilters||[],[m,y]=(0,a.useState)(c);(0,a.useEffect)((()=>{y(c)}),[c]);const f=(0,u.cW)(h,m,c),I=Boolean(c.length),b=c.reduce(((e,t)=>e+t.options.length),0),x=Boolean(m.length);let A=!1;return(g.isLoading||0===h.length)&&(A=!0),{filters:f,isLoading:g.isLoading,hasActiveFilters:I,activeFiltersCount:b,hasStagedFilters:x,handleChange:function(i){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=m.filter((e=>e.uuid!==i.uuid)).concat([i]);y(r),a&&t.replace((0,s.M_7)(e,r))},clearAll:function(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y([]),i&&t.replace((0,s.M_7)(e,[]))},clearFilter:function(i){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=m.filter((e=>e.uuid!==i));y(r),a&&t.replace((0,s.M_7)(e,r))},goToLocationWithSortAndFilters:i=>{t.replace((0,s.M_7)(i||e,m))},show:!A}}},35050:(e,t,i)=>{"use strict";i.d(t,{A:()=>k});var a=i("__fusion__95b4ba69e5"),r=i(90417),o=i(58350),n=i(41967),l=i(43316),s=i(57716),d=i(86105),c=i(8474),u=i(91156),p=i(44580),g=i(4507),h=i(66838),m=i(21227),y=i(37451),f=i(25067),I=i(65416),b=i(80482),x=i(43187),A=i(4914),v=i(20075),S=i(40014);const Y=(0,n.I4)("div",{position:"relative",width:"60px",height:"60px"}),C=(0,n.I4)(l.A,(e=>{let t,{$theme:i,$isHovering:a,$alwaysShowBackground:r}=e;return r?t=a?i.colors.buttonSecondaryHover:i.colors.buttonSecondaryFill:a&&(t=i.colors.buttonSecondaryHover),{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:t}})),_=(0,n.I4)("div",(e=>{let{$hasSpacing:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",bottom:""+(t?"-4px":"4px"),height:"24px",flexDirection:"column"}})),w=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,backgroundColor:t.colors.positive,color:t.colors.onPositive,borderRadius:"20px",height:"100%",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${t.colors.white}`}})),L=(0,n.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,width:"100%",textAlign:"center"}})),T={display:"flex",flexDirection:"column",alignItems:"center",minWidth:`${h.op}px`,maxWidth:"fit-content",position:"relative"},U=(0,n.I4)(s.N_,T),E=(0,n.I4)("a",T),k=a.forwardRef(((e,t)=>{const i=(0,u.xL)(),l=(0,A.c)(),{userQuery:s,carouselId:h}=(0,c.aGs)(e.shortcut.webUrl,["userQuery","carouselId"]),T="eyJwbHVnaW4iOiJyZWNvbW1lbmRhdGlvbkZlZWRQbHVnaW4iLCJyZWNvbW1UeXBlIjoicHJvbW90ZWRfcmVzdGF1cmFudHMifQ=="===h||"/deals"===e.shortcut.webUrl,k="/top-eats"===e.shortcut.webUrl,$=a.useRef(null),P=(0,g.A)($),D=(0,m.A)(),O=(0,m.l)(e.shortcut.analyticsLabel),F=(0,y.Ay)(),R=(0,d.zy)(),M=Boolean(e.shortcut.isExternal),B=Boolean(e.shortcut.webUrl.startsWith("/alcohol")),N=(0,v.A)(),z=M&&!e.isXLB?F(e.shortcut.webUrl):e.shortcut.webUrl,[W,H]=M?[E,"href"]:[U,"to"],V=N&&!M?`${z}${z.includes("?")?"&":"?"}isMatchbox=true`:z,K={APP_DEEPLINK_FALLBACK_REDIRECT:V},j=(0,r.useCallback)((()=>k?"TOP_EATS_SHORTCUT":T?"DEALS_SHORTCUT":s?"QUERY_SHORTCUT":h?"CAROUSEL_SHORTCUT":"UNKNOWN"),[k,T,s,h]),G=(0,r.useCallback)((()=>{const e=[];return s?e.push({QUERY_SLUG:s}):h&&e.push({CAROUSEL_ID:h}),[...e,K]}),[s,h,K]),{onLinkClick:q}=(0,f.P)({universalLinkKey:j(),xpKey:"universal_link_feed_page",urlsMapKey:"universal_link_feed_page_url_map",urlProps:G()}),Q=(0,I.d4)((e=>{let{device:t}=e;return t.isIOS})),[,X]=(0,n.c6)(),J=e.shortcut.tracking?JSON.stringify(e.shortcut.tracking):"",Z=l("shared.filterBy",{filterValue:e.shortcut.label});return(0,S.Y)("li",{ref:t,style:{position:"relative",maxWidth:"95px"},children:(0,S.FD)(W,{"data-testid":"shortcut-button","aria-label":Z,ref:$,onClick:async t=>{if(t.preventDefault(),D.set(O),await i("eats:shortcut_click",{shortcutMeta:{label:e.shortcut.analyticsLabel,horizontalPosition:e.shortcut.horizontalPosition},trackingCode:J}),M)(0,b.A)(V);else if(B)await q({fallbackUrl:V,isRolledOut:Q});else{const e={},t=(0,c.eAM)(R.search,["place"]);e[c.Q71.searchSource]=x.Cy.SHORTCUTS,t?.place&&(e[c.Q71.place]=t.place),await q({fallbackUrl:V,isRolledOut:Q,additionalQueryParams:e})}},[H]:V,children:[(0,S.FD)(Y,{children:[(0,S.Y)(C,{loading:"eager",decoding:"sync",src:e.shortcut.imageUrl,$isHovering:P,$alwaysShowBackground:X.miscellaneous.alwaysShowShortcutBackground}),e.shortcut.pillText?(0,S.Y)(_,{$hasSpacing:e.includeSpacer,children:(0,S.Y)(w,{children:e.shortcut.pillText})}):null]}),e.includeSpacer?(0,S.Y)(p.Ay,{$height:e.isMobile?4:8}):null,(0,S.Y)(L,{children:(0,S.Y)(o.A,{clamp:2,children:e.shortcut.label})})]})})}))},39575:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var a=i(90417),r=i(39431),o=i(27559),n=i(41967),l=i(43316),s=i(98207),d=i(91156),c=i(40014);const u=(0,n.I4)("figure",(e=>{let{$theme:t,$height:i,$isCircle:a}=e;return{background:t.colors.backgroundSecondary,position:"relative",height:`${i}px`,margin:0,overflow:"hidden",...a?{borderRadius:t.borders.radiusFull,width:`${i}px`}:{}}})),p=(0,n.I4)(l.A,{width:"100%",height:"100%",objectFit:"cover",border:"none"}),g=(0,n.I4)("div",{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}),h=e=>{const t=(0,d.Ay)(),{useLazyLoad:n=!0}=e;let l;return a.useEffect((()=>{e.heroImageUrl||t("eats:feed_store_image_missing",{storeUuid:e.storeUuid})}),[t,e.heroImageUrl,e.storeUuid]),l=e.heroImageUrl?(0,c.Y)(s.A,{src:e.heroImageUrl,children:(0,c.Y)(p,{src:e.heroImageUrl,alt:e.title,"aria-hidden":!0})}):(0,c.Y)(p,{src:(0,r.uq)(i(20933)),alt:e.title,"aria-hidden":!0}),n&&(l=(0,c.Y)(o.Ay,{height:e.height,offset:300,style:{height:e.height},once:!0,children:l})),(0,c.FD)(u,{$height:e.height,$isCircle:e.isCircle,children:[l?(0,c.Y)(g,{children:l}):null,e.children?e.children:null]})}},41989:(e,t,i)=>{e.exports=i.p+"feac636e6ad3305d.svg"},42504:(e,t,i)=>{e.exports=i.p+"2bb9bf351a4914b4.json"},56517:(e,t,i)=>{e.exports=i.p+"004b44ece8a808e7.svg"},62795:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var a=i(41967),r=i(60845),o=i(53287),n=i(49684),l=i(39182),s=i(40014);const d=(0,a.I4)("h1",(e=>{let{$theme:t,$titleTypography:i}=e;return{...t.typography[i],margin:"16px 0px 0px 0px"}})),c=(0,a.I4)("h2",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),u=(0,a.I4)("div",{display:"flex",flexDirection:"row",margin:"8px 0px 0px 0px",alignItems:"center"}),p=(0,a.I4)("div",{left:"168px",position:"absolute"}),g=(0,a._F)(r.ej,{maxWidth:`calc(${.25*(l.tT-2*l._o)}px)`}),h=e=>{let{title:t,subtitle:i,bottomSheet:a,titleTypography:l}=e;return!t&&!i||"string"==typeof i?null:(0,s.FD)(s.FK,{children:[t?(0,s.Y)(d,{$titleTypography:l,children:t}):null,i?(0,s.Y)(u,{children:(0,s.Y)(r.Ay,{id:"eu-disclaimer",children:e=>{let{isHovering:t}=e;return(0,s.FD)(s.FK,{children:[(0,s.Y)(c,{children:(0,s.Y)(n.A,{badge:i})}),a?(0,s.Y)(p,{children:(0,s.Y)(g,{$isVisible:t,children:(0,s.Y)(o.Q,{bottomSheet:a})})}):null]})}})}):null]})}},64659:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var a=i(41967),r=i(8474),o=i(86105),n=i(43316),l=i(18297),s=i(287),d=i(5812),c=i(65888),u=i(17283),p=i(30184),g=i(98408),h=i(40014);const m=(0,a.I4)(n.A,(e=>{let{$theme:t}=e;return{width:"90px",height:"83px",marginRight:t.sizing.scale800}})),y=(0,a.I4)(n.A,(e=>{let{$theme:t}=e;return{width:t.sizing.scale600,height:t.sizing.scale600,marginLeft:t.sizing.scale100}})),f=(0,a.I4)("div",{display:"flex",flexDirection:"row",alignItems:"center"}),I=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,marginBottom:t.sizing.scale300,color:t.colors.contentPrimary}})),b=(0,a._F)(l.Yq,(e=>{let{$theme:t,$color:i,$typography:a,$removeUnderline:r}=e;return{...a?t.typography[a]:t.typography.LabelMedium,...i?{color:t.colors[i]}:{},...r?{textDecoration:"none"}:{}}})),x=(0,a._F)(l.JV,(e=>{let{$theme:t,$color:i,$typography:a,$removeUnderline:r}=e;return{...a?t.typography[a]:t.typography.LabelMedium,...i?{color:t.colors[i]}:{},...r?{textDecoration:"none"}:{}}})),A=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),v=(0,a.I4)("span",(e=>{let{$theme:t}=e;return{textDecoration:"underline",whiteSpace:"nowrap",marginLeft:t.sizing.scale0}})),S=e=>{let{item:t,feedIndex:i,pageType:n,overwriteColor:l}=e;const S=(0,o.zy)(),[Y,C]=(0,a.c6)(),_=t.uuid,w=t.title&&t.message?t.title:t.message,L=t.title&&t.message?t.message:null,T=t.messageCTA,U=t.url,E=(0,c.z)({impressionEventName:"marketplace_scrolled",payload:(0,u.YE)({feedContext:n,feedIndex:i,feedItem:t})}),k=(0,p.$)();if(k&&!w&&!L&&!T)return null;if(t?.style===d.dp.CENTER_STACK_BOTTOM_IMAGE&&t.bottomImageUrl)return(0,h.Y)("div",{ref:E,children:(0,h.Y)(s.A,{bottomImageUrl:t.bottomImageUrl,title:w,message:L})});const $=Boolean(t.bottomSheet),P=Boolean(U)&&!U.startsWith("http"),D=Boolean(U)&&U.startsWith("http"),O=(0,h.FD)("div",{className:Y({display:"flex",alignItems:"center"}),children:[t.iconUrl&&t.title?(0,h.Y)(m,{src:t.iconUrl}):null,(0,h.FD)("div",{children:[t.title?(0,h.Y)(I,{children:t.title}):null,(0,h.FD)("div",{className:Y({color:l?C.colors[l]:C.colors.contentTertiary,display:"flex",alignItems:"center"}),children:[t.message,T?(0,h.Y)(v,{children:T}):null,k&&(0,g.jq)(t)&&t.iconUrl&&!t.title?(0,h.Y)(y,{src:t.iconUrl}):null]})]})]});return(0,h.Y)(f,{ref:E,children:$?(0,h.Y)(b,{to:(0,r.Zyy)(S,"feedAnnouncement",{feedItemUuid:_}),$color:l||"contentTertiary",$typography:"ParagraphSmall",$removeUnderline:!0,children:O}):P?(0,h.Y)(b,{to:U,$color:l||"contentTertiary",$typography:"ParagraphSmall",$removeUnderline:!0,children:O}):D?(0,h.Y)(x,{href:U,target:"_blank",$color:l||"contentTertiary",$typography:"ParagraphSmall",$removeUnderline:!0,children:O}):(0,h.Y)(A,{children:O})})}},66717:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var a=i(40304),r=i(1139),o=i(35360),n=i(38647);function l(){let e=o.$4;const t=(0,a.W4)({...r.z.web_feed_refresh_desktop_store_hero_image_height,defaultValue:0});return(0,n.A)()&&t&&(e=t),e}},67537:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var a=i(90417),r=i(50371),o=i(86105),n=i(65416),l=i(27335),s=i(91156),d=i(12615);const c=(e,t)=>{const{slugName:i,secondarySlugName:c}=(0,r.g)(),{pathname:u}=(0,o.zy)(),p=(0,s.Ay)(),g=(0,d.A)(),h=(0,a.useRef)(g),m={data:null,error:null,hasLoaded:!1,isLoading:!1},y=(0,n.d4)((e=>e.seoFeed[u]||m)),f=!y.isLoading&&!y.hasLoaded&&!y.error||h.current!==g,I=(0,l.A)("getSeoFeedV1"),b=(0,a.useCallback)((function(){let{sortAndFilters:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I({pathname:u,contextOverride:t,sortAndFilters:e})}),[I,u,t]);return(0,a.useEffect)((()=>{p("eats:seo_feed",{seoFeed:{slugName:i,secondarySlugName:c,type:e,overrideElementLayoutType:t?.elementLayoutType,overrideCacheType:t?.cacheType}})}),[i,c,p,e,t]),(0,a.useEffect)((()=>{h.current=g})),{getSeoFeed:b,shouldGetSeoFeed:f,seoFeed:y}}},68692:(e,t,i)=>{"use strict";i.d(t,{A:()=>U});var a=i(90417),r=i(66764),o=i(41967),n=i(86105),l=i(86457),s=i(12304),d=i(67348),c=i(18297),u=i(42957),p=i(96132),g=i(35360),h=i(8474),m=i(72673),y=i(98177),f=i(76366);var I=i(98934),b=i(6198),x=i(65416),A=i(37959),v=i(14192),S=i(40014);const Y=function(e){let{storeUuid:t,standardItemsPayload:i,itemsPerPage:r,trackingCode:o,scrollableCarousel:l,shouldLazyLoadItemImages:s=!0,parentOrderUuid:d}=e;const[c,u]=a.useState(!0),p=(0,n.zy)(),[m,Y]=a.useState(!0),{cartCountSummary:C,cart:_,hasCartToLoad:w}=(0,b.BP)(t),{syncItems:L,quantities:T}=(0,x.d4)((e=>e.quickAdd));a.useEffect((()=>{(!_.isLoading&&_.hasLoaded||!w)&&(Y(!1),u(!1))}),[c,u,_.hasLoaded,_.isLoading,w]),a.useEffect((()=>{_.error&&u(!0)}),[_.error]);const{containerRef:U,getPageChunks:E,getPageProps:k,supportsScrollSnapping:$,textDirection:P}=l,D=i.catalogItems||[],O=i.itemStyleMetadata,F=D.map(((e,i)=>{const a=e?.uuid||"",n=C[a]??0,l=T[a]??(0,A._j)(),u=Boolean(c||L[a]),b=function(e,t){if(!e||!t)return e;return(0,h.Nel)({location:e,newQueryParams:{poid:t},persistentQueryParams:h.iaX})}(((e,t,i,a,r)=>e?(0,h.qO8)(e,{storeUuid:t,sectionUuid:i,subsectionUuid:a,itemUuid:r,showSeeDetailsCTA:!0},(0,y.z)(f.g.GLOBAL_SEARCH)):"")(p,t,e?.sectionUuid||"",e?.subsectionUuid||"",a),d);return(0,S.Y)(v.q7,{$textDirection:P,$margin:g.YK,$pageSize:r,children:(0,S.Y)(I.A,{storeUuid:t,sectionUuid:e.sectionUuid||"",subsectionUuid:e?.subsectionUuid||"",item:e,catalogSectionType:"HORIZONTAL_GRID",itemStyle:O,surface:f.g.GLOBAL_SEARCH,isGrocery:!0,cartItemCount:n,showQuickViewEntryPoint:!1,isOpen:!0,quickAddCount:l,syncItemQuantity:u,quickAddDisabled:m,itemUrl:b,trackingCode:o,position:i,isQuickView:!0,lazyLoad:s})},i)})).filter(Boolean),R=E(F,r);return(0,S.Y)(v.mO,{ref:U,$supportsScrollSnapping:$,children:R.map(((e,t,i)=>(0,S.Y)(v.YW,{$pageMargin:g.YK,...k(t,i.length),children:e},t)))})};var C=i(32036);const _=(0,o.I4)("div",{display:"flex",flexDirection:"column",overflow:"hidden"}),w=(0,o._F)(c.Yq,(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textDecoration:"none",paddingRight:t.sizing.scale600}})),L=(0,o.I4)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap"}),T=(0,o.I4)("div",(e=>{let{$theme:t,$index:i}=e;return{...0!==i?{borderTop:`1px solid ${t.colors.borderOpaque}`,paddingTop:t.sizing.scale600}:{},display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",marginBottom:t.sizing.scale600}})),U=a.forwardRef((function(e,t){let{store:i,analyticsLabel:a,feedItemUuid:o,standardItemsPayload:c,index:y,useLazyLoadImage:f,feedItem:I,pageType:b,shouldLazyLoadItemImages:x=!0,parentOrderUuid:A,onClick:v}=e;const U=(0,n.zy)(),{windowWidth:k}=(0,u.A)(),$=(0,h.jo1)(U,["entryPoint"]),{userQuery:P}=(0,h.g$k)(U,["userQuery"]),D=(0,C.A)(),O=i?.storeUuid||"",F=i.tracking?JSON.stringify(i.tracking):"",R=c.ctaMetadata,M=(0,l.A)({scrollOffset:g.YK}),{isPreviousPageDisabled:B,isNextPageDisabled:N,handlePageChange:z}=M,W=k>1200?6:k>990?5:4,H=c.catalogItems||[],V=H.length>W||!1,K=H[0]?.sectionUuid||"",j=E((0,m.DN)($,i.actionUrl||"",O,K,P),D,A),G=E((0,m.NU)(U,i.actionUrl),D,A),q=j||G;return(0,S.Y)(_,{ref:t,onClick:v,children:(0,S.Y)(s.A,{numItems:H.length,carouselLayoutType:"mini-store-with-catalog-items-carousel",trackingCode:F,analyticsLabel:a,carouselUuid:o,children:(0,S.FD)("section",{children:[(0,S.FD)(T,{$index:y,children:[(0,S.Y)(p.A,{store:i,useLazyLoadImage:f,customUrl:j,storeUrl:G,feedItem:I,position:y,pageType:b}),(0,S.FD)(L,{children:[(0,S.Y)(w,{to:q,children:R?R.ctaLabel:(0,S.Y)(r.H,{id:"shared.viewstore"})}),H.length>0?(0,S.Y)(d.A,{backwardEnabled:!B&&V,forwardEnabled:!N&&V,onPageChange:z}):null]})]}),(0,S.Y)(Y,{standardItemsPayload:c,storeUuid:O,itemsPerPage:W,trackingCode:F,scrollableCarousel:M,shouldLazyLoadItemImages:x,parentOrderUuid:A})]})})})}));function E(e,t,i){"string"==typeof e&&(e=(0,h.IcR)(e,t));const a=(0,h.Nel)({location:e,path:e.pathname,newQueryParams:{poid:i}});return(0,h.GF3)(a)}},78130:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var a=i(90417),r=i(39575),o=i(26840),n=i(17408),l=i(41967),s=i(13422),d=i(39182),c=i(8474),u=i(91156),p=i(59160),g=i(67459),h=i(70994),m=i(56279),y=i(79911),f=i(56427),I=i(67205),b=i(72893),x=i(12989),A=i(40014);const v=(0,l._F)(y.A,{display:"flex",overflow:"hidden"}),S=(0,l.I4)("div",{position:"relative",zIndex:d.IQ.base,width:"100%"}),Y=(0,l.I4)("div",(e=>{let{$theme:t,$textDirection:i}=e;const a=t.typography.LabelSmallRegularButton,r=a.lineHeight,o="ltr"===i?{left:"0px"}:{right:"0px"},n=o.left?`0 ${r} ${r} 0 `:`${r} 0 0 ${r}`;return{...a,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,padding:"4px 12px",boxShadow:"inset 0px 0px 1px rgba(0, 0, 0, 0.08)",zIndex:d.IQ.surface,top:"12px",...o,borderRadius:n}})),C=(0,l.I4)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"flex-end",width:"100%",padding:"12px",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),_=(0,l.K6)(S,(e=>function(t){let{store:i,heroImageHeight:l,showFavorite:d,favoriteButtonSize:y,location:S,trackingCode:_,storeAd:w,trackingSource:L,pageType:T,position:U,styleOverrides:E,linkRef:k,divRef:$,useLazyLoadImage:P,analyticsLabel:D,numDishes:O}=t;const F=i.promotion?.promotionUuid,R=i.promotion?.text,M=i.storeUrl||(0,c.NQI)(S,{storeSlug:i.slug,storeUuid:i.uuid}),B=w?.adBadge,N=(0,u.Ay)(),z=(0,f.A)(M),{vertical:W,userQuery:H,searchEntered:V,eventSource:K}=(0,c.g$k)(S,["searchEntered","vertical","userQuery","eventSource"]),j=a.useRef(!1),{elementRef:G,isElementHidden:q}=(0,g.A)({initialHidden:!0,waitTime:0,shouldListen:("search"===T||Boolean(w))&&!j.current}),Q=(0,x.h)({dropPastOrders:!0}),{adsViewableImpressionRef:X}=(0,b.A)({storeAd:w,adAttributes:{rank:U},shouldLogImpression:!0,storeUuid:i.uuid});a.useEffect((()=>{q||(j.current=!0,"search"===T&&N("eats:search_result_impression",{searchResult:{searchTerm:String(H),eventSource:K,searchEntered:V,storeUuid:i.uuid,position:U||0,originSource:z},surface:H?.trim()?"SEARCH_SUGGESTIONS":"ZERO_STATE",mvsMeta:{verticalList:Q.data?.verticalSuggestionLists?.map((e=>e.verticalType)).join(",")||"",selectedVertical:W||I.h0},numDishes:"item",dishCarousel:!1}))}),[N,q,U,i.uuid,H,z,W,T,O,V,K,Q.data?.verticalSuggestionLists]);const J=(0,p.jH)(),Z="rtl"===J?-8:8;return(0,A.Y)(v,{ref:k,storeUuid:i.uuid||"",storeUrl:M,storeTitle:i.title||"",storeAd:w,pageType:T,position:U,trackingSource:L,trackingCode:_,partialStore:(0,h.$p)(i),analyticsLabel:D,numDishes:O,children:(0,A.FD)(e,{ref:(0,m.A)(G,$,X),children:[(0,A.FD)(r.A,{storeUuid:i.uuid,heroImageUrl:i.heroImageUrl,title:i.title,height:l,useLazyLoad:P,children:[d?(0,A.Y)(C,{$isInteractive:i.isOpen,children:(0,A.Y)(n.A,{storeUuid:i.uuid,size:y,shadow:(0,A.Y)(n.O,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:Z})})}):null,i.isOpen&&R&&F?(0,A.Y)(Y,{$textDirection:J,children:R}):null,(0,A.Y)(o.A,{isOpen:i.isOpen,closedMessage:i.closedMessage})]}),(0,A.Y)(s.A,{title:i.title,storeUrl:M,deliveryFee:i.meta.deliveryFee,pickupDistance:i.meta.pickupDistance,etaRange:i.etaRange,priceBucket:i.meta.priceBucket,rating:i.rating,categories:i.meta.categories,endorsement:i.endorsement,storeAdBadge:B,styleOverrides:E,attributeBadgeList:i.attributeBadgeList})]})})}))},92820:(e,t,i)=>{e.exports=i.p+"2bb9bf351a4914b4.json"}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-12433-55606ece308c9bb3.js.map