"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[13894],{2643:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(90417),a=r(39155),i=r(40014);function o(e,t){return(0,i.Y)(a.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,i.Y)("path",{d:"M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1zm1.5 18h-3v-8h3v8zM12 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})})}const l=n.forwardRef(o)},36093:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(64276),a=r(74225),i=r(24727),o=r(12741);var l=r(4914);const d=function(){const{showEuDisclaimer:e,showFrenchDisclaimer:t}=(0,n.A)(),r=(0,l.c)(),d=function(e,t){const r=(0,o.A)("getFeedEuDisclaimerV1"),n=(0,i.n)("getFeedEuDisclaimerV1",e);return(0,a.useQuery)({queryKey:n,queryFn:e=>{let{queryKey:t}=e;return r.request("getFeedEuDisclaimerV1",t[1])},...t?.queryObserverOptions})}(void 0,{queryObserverOptions:{enabled:e}}),s={title:{text:r("euDisclaimer.HeaderTitle")},body:{textFormat:`<span>${r("euDisclaimer.Body")}, <span style="text-decoration: underline;text-decoration-color:#545454;text-underline-offset:4;"><a href=https://www.uber.com/legal/document/?name=rankings-on-uber-eats>${r("euDisclaimer.clickHereText")}</a></span></span>`},buttonText:r("euDisclaimer.dismissText"),paragraphs:null};return{ratingLink:"https://www.uber.com/legal/document/?name=ratings-and-reviews-on-uber-eats",rankingDisclaimer:d.data?.markup,rankingBottomSheet:t?d.data?.bottomSheet:s}}},36648:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(90417),a=r(4914),i=r(89831),o=r(65416),l=r(86513),d=r(59542),s=r(47719),c=r(48594),u=r(41911),h=r(85746),m=r(76388),f=r(86083),p=r(41908);function g(e,t){const r=(0,i.wA)(),g=(0,a.c)(),{cacheKey:y}=(0,c.A)(),{feedItemsUpdate:I,getFeedItemsUpdate:x}=(0,s.A)(),v=(0,o.d4)((e=>{let{countdowns:t}=e;return t})),A=(0,o.d4)((e=>{let{feed:t}=e;return(0,h.RA)(t,y)})),{serverCart:$}=(0,p.B_)(),U=(0,f.A)({storeUuid:$.data?.storeUuid}),k=(0,u.Q8)({countdowns:v&&v.data||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),Y=(0,u.Q8)({countdowns:A&&A.data&&A.data.countdowns||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),D=Y?.timestamp.end||k?.timestamp.end,[F,S]=(0,n.useState)(w(D)),[T,C]=(0,n.useState)(Math.floor(F/60));(0,n.useEffect)((()=>{let e;return t.createTimer&&(e=setTimeout((()=>{const e=w(D);e!==F&&S(e)}),1e3)),()=>clearTimeout(e)}),[D,t.createTimer,F]),(0,n.useEffect)((()=>{if(0===F&&!I.isLoading&&!I.hasLoaded){const e=t.feedItemUuid||t.storeUuid;r((0,l.ml)(e)),r((0,d.gp)()),r((0,h.xw)({cacheKey:y,feedItemOrStoreUuid:e})),r((0,m.eW)("ASAP"))}}),[y,r,I.hasLoaded,I.isLoading,t.feedItemUuid,t.storeUuid,F]),(0,n.useEffect)((()=>{0===F&&!I.isLoading&&!I.hasLoaded&&t.feedItemUuid&&k&&Y&&k.timestamp.end===Y.timestamp.end&&x([t.feedItemUuid])}),[k,Y,I.hasLoaded,I.isLoading,x,t.feedItemUuid,F]),(0,n.useEffect)((()=>{F>0&&!I.isLoading&&I.hasLoaded&&(r((0,h.fT)({cacheKey:y})),U&&r((0,m.eW)("BANDWAGON")))}),[y,r,I.hasLoaded,I.isLoading,U,F]);const L=Math.floor(F/60),E=[0,1].includes(F%60)&&L>0;E&&T!==L&&C(L);const M=T>1?g("bandwagon.x_minutes_left",{time:T}):g("bandwagon.one_minute_left"),_=Y?.totalDurationInSeconds||k?.totalDurationInSeconds;return{countdown:k,formattedTimeLeft:b(F),percentTimeLeft:F/(_||F),minuteMessage:M,shouldPulse:F<=61,shouldShowMinuteMessage:E,timeLeft:F}}const b=e=>{const t=Math.floor(e/60);let r=String(e%60);return 1===r.length&&(r=`0${r}`),`${t}:${r}`},w=e=>{if(null==e)return-1;const t=Date.now(),r=parseInt(""+(e-t)/1e3);return r>0?r:0}},47719:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(90417),a=r(65416),i=r(27335),o=r(85746),l=r(48594);const d=()=>{const{cacheKey:e}=(0,l.A)(),t=(0,a.d4)((t=>{let{feed:r}=t;return(0,o.RA)(r,e)})),r=(0,i.A)("getFeedItemsUpdateV1"),d=(0,n.useCallback)((t=>r({cacheKey:e,feedItemUuids:t})),[e,r]);return{feedItemsUpdate:t.data?.feedItemsUpdate||{...o.fh},feedItemUuids:t.data?.feedItemsUpdate?.feedItemUuids||[],getFeedItemsUpdate:d}}},67348:(e,t,r)=>{r.d(t,{A:()=>w});var n=r(4914),a=r(41967),i=r(59160),o=r(2693),l=r(61750),d=r(49502),s=r(84868),c=r(5204),u=r(91156),h=r(40014);const m=(0,a.I4)("div",{display:"flex"}),f={width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},p=(0,a._F)(l.G,f),g=(0,a.I4)(p,(e=>{let{$isTransparent:t,$theme:r}=e;return{...t?{backgroundColor:r.colors.borderTransparent,color:r.colors.contentInversePrimary,":hover":{background:`${r.colors.backgroundOverlay}`},":active":{background:r.colors.backgroundOverlayArt},":disabled":{color:r.colors.contentStateDisabled,backgroundColor:r.colors.borderTransparent,cursor:"not-allowed"}}:{}}})),b=(0,a.I4)("button",(e=>{let{disabled:t,$theme:r}=e;return{...f,cursor:t?"not-allowed":"pointer",color:t?r.colors.contentStateDisabled:r.colors.contentPrimary}})),w=e=>{let{backwardEnabled:t,forwardEnabled:r,analyticsLabel:a,customEventMetadata:l,transparent:f,onPageChange:p}=e;const w=(0,i.jH)(),y=(0,n.c)(),I="postmates"===(0,c.A)(),x=(0,u.Ay)(),v=I?b:g,A=I?s.A:d.A;return(0,h.FD)(m,{children:[(0,h.Y)(v,{"data-testid":"previous-arrow-carousel",onClick:()=>{p("back"),x("eats:carousel_arrow_click",{param_value:"back",label:a,...l||{}})},disabled:!t,"aria-label":y("shared.previous"),$isTransparent:f,children:(0,h.Y)(A,{size:16,rotate:"ltr"===w?0:180})}),(0,h.Y)(o.Ay,{$width:"4px"}),(0,h.Y)(v,{"data-testid":"next-arrow-carousel",onClick:()=>{p("forward"),x("eats:carousel_arrow_click",{param_value:"forward",label:a,...l||{}})},disabled:!r,"aria-label":y("shared.next"),$isTransparent:f,children:(0,h.Y)(A,{size:16,rotate:"ltr"===w?180:0})})]})}},76915:(e,t,r)=>{r.d(t,{A:()=>q});var n=r(41967),a=r(59160),i=r(4914),o=r(66764),l=r(2693),d=r(49502),s=r(84868),c=r(61750),u=r(86083),h=r(90417),m=r(57716),f=r(36648),p=r(8474),g=r(41911),b=r(86105),w=r(40014);const y=(0,n.I4)("div",(e=>{let{$height:t,$shouldPulse:r,$theme:n}=e;return{...n.typography.LabelMedium,borderRadius:"40px",...(0,g.pY)({height:t,shouldPulse:r,theme:n})}})),I=(0,n.I4)("div",(e=>{let{$shouldShowHiddenMessage:t}=e;return{position:"relative",top:"-50%",transition:"transform 0.4s ease",transform:t?"translate(0, 50%)":"none",width:"100%"}})),x=(0,n.I4)("div",(e=>{let{$height:t}=e;return{alignItems:"center",display:"flex",height:t?t-16+"px":"auto",justifyContent:"center",padding:"8px 16px",textAlign:"center"}})),v=(0,n.I4)("div",(e=>({display:"flex",justifyContent:"center",padding:"8px 16px",textAlign:"center",transition:"font-size 0.2s linear",...e.$shouldShrinkText?{fontSize:"10px"}:null}))),A=e=>{const t=(0,b.zy)(),{countdown:r,formattedTimeLeft:n,minuteMessage:a,shouldPulse:i,shouldShowMinuteMessage:o}=(0,f.A)("BANDWAGON",{createTimer:!0,feedItemUuid:e.feedItemUuid||""}),[l,d]=h.useState(void 0),s=h.useRef(null);if(h.useEffect((()=>{const e=s?.current;e&&!l&&d(e.clientHeight)}),[l,s]),!r)return null;const c=r.storefrontTimerMessage.replace("%1$s",n);return(0,w.Y)(m.N_,{to:(0,p.GvY)({location:t,feedItemUuid:e.feedItemUuid}),children:(0,w.Y)(y,{$height:l,$shouldPulse:i,children:(0,w.FD)(I,{$shouldShowHiddenMessage:o,children:[(0,w.Y)(x,{$height:l,children:a}),(0,w.Y)(v,{$shouldShrinkText:o,ref:s,children:c})]})})})};var $=r(5204),U=r(2643),k=r(36093),Y=r(64276),D=r(53287),F=r(60845);const S=(0,n._F)(F.ej,{marginTop:0}),T=()=>{const{rankingBottomSheet:e}=(0,k.A)(),{showEuDisclaimer:t}=(0,Y.A)();return t?(0,w.FD)(w.FK,{children:[(0,w.Y)(l.VX,{}),(0,w.Y)(F.Ay,{id:"carousel-eu-disclaimer",children:t=>{let{isHovering:r}=t;return(0,w.FD)(w.FK,{children:[(0,w.Y)(U.A,{color:"contentTertiary",size:14}),e?(0,w.Y)(S,{$isVisible:r,children:(0,w.Y)(D.Q,{bottomSheet:e})}):null]})}})]}):null};var C=r(18297),L=r(38647);const E=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,marginTop:"4px"}})),M=(0,n.I4)("div",(e=>{let{$cuisineFilterEnabled:t}=e;return{...t?{marginBottom:"16px"}:{marginBottom:"24px"},display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}})),_=(0,n.I4)("div",{alignItems:"start",display:"flex",flexDirection:"row",flex:"2 1 0%"}),P=(0,n.I4)("div",{display:"flex",justifyContent:"center",flex:"1 1 0%",padding:"0 24px"}),z=(0,n.I4)("div",(e=>({display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"2 1 0%",..."ltr"===e.$direction?{right:0}:{left:0}}))),j=(0,n.I4)("div",{display:"flex",alignItems:"center"}),B={width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},H=(0,n._F)(c.G,B),K=(0,n.I4)("button",(e=>{let{disabled:t,$theme:r}=e;return{...B,cursor:t?"not-allowed":"pointer",color:t?r.colors.contentStateDisabled:r.colors.contentPrimary}})),O=(0,n.I4)("div",(e=>{let{$theme:t,$as:r}=e;return{..."h3"===r?t.typography.HeadingSmall:t.typography.DisplayBoldXSmall,display:"flex",flexGrow:0,alignItems:"center"}})),V=(0,n._F)(C.Yq,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),q=e=>{const t=(0,a.jH)(),r=(0,u.A)({feedItemUuid:e.feedItemUuid||""}),n=(0,i.c)(),c="postmates"===(0,$.A)(),h=c?K:H,m=c?s.A:d.A,f=(0,L.A)();return(0,w.FD)(M,{$cuisineFilterEnabled:f,children:[(0,w.Y)(_,{onClick:e.onClickTitle,children:(0,w.FD)("div",{children:[(0,w.FD)(O,{$as:e.$as,children:[e.title,e.title?(0,w.Y)(T,{}):null]}),e.subtitle?(0,w.Y)(E,{children:e.subtitle}):null]})}),r&&e.feedItemUuid?(0,w.Y)(P,{children:(0,w.Y)(A,{feedItemUuid:e.feedItemUuid})}):null,(0,w.FD)(z,{$direction:t,children:[e.viewAllLocation?(0,w.Y)(V,{onClick:t=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(t)},to:e.viewAllLocation,children:e.viewAllTitle?e.viewAllTitle:(0,w.Y)(o.H,{id:"carousel.view_all"})}):null,e.paginated?(0,w.FD)(w.FK,{children:[(0,w.Y)(l.Ay,{$width:"40px"}),(0,w.FD)(j,{children:[(0,w.Y)(h,{onClick:t=>e.onPageChange("back",t),disabled:!e.backwardEnabled,"aria-label":n("shared.previous"),children:(0,w.Y)(m,{size:16,rotate:"ltr"===t?0:180})}),(0,w.Y)(l.Ay,{$width:"2px"}),(0,w.Y)(h,{onClick:t=>e.onPageChange("forward",t),disabled:!e.forwardEnabled,"aria-label":n("shared.next"),children:(0,w.Y)(m,{size:16,rotate:"ltr"===t?180:0})})]})]}):null]})]})}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-13894-62170debc01a1b74.js.map