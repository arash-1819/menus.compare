"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[59911],{165:(e,t,r)=>{r.d(t,{A:()=>v});var i=r(90417),a=r(86105),n=r(65416),o=r(63811),s=r.n(o),l=r(41967),d=r(8474),c=r(67205),u=r(12989),h=r(91156),p=r(39182),g=r(40014);const m=(0,l.I4)("ul",(e=>{let{$theme:t,$width:r}=e;return{display:"flex",textAlign:"center",marginBottom:"8px",width:r?`${r}px`:"100%",height:`${p.s$}px`,background:t.colors.backgroundPrimary}})),y=(0,l.I4)("li",(e=>{let{$theme:t,$isSelected:r}=e;return{...t.typography.LabelSmall,borderBottom:`5px solid ${r?t.colors.black:t.colors.borderOpaque}`,alignSelf:"center",padding:t.sizing.scale600,color:r?t.colors.contentPrimary:t.colors.contentTertiary,cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),f=(0,l.I4)("li",(e=>{let{$theme:t}=e;return{borderBottom:`5px solid ${t.colors.borderOpaque}`,flexGrow:1,padding:"24px",alignSelf:"center"}})),v=e=>{const t=(0,a.zy)(),r=(0,h.Ay)(),o=(0,n.d4)((e=>{let{multiVertical:t}=e;return t.verticalList})),{userQuery:l}=(0,d.g$k)(t,["userQuery"]),[p,v]=(0,i.useState)(!1),b=(0,u.h)({dropPastOrders:!0}),x=(0,i.useCallback)((e=>b?.data?.verticalSearchHomeResults[e]?.length||0),[b]),A=(0,i.useMemo)((()=>({verticalList:JSON.stringify(o.map((e=>e.verticalType))),type:"TAB",surface:e.surface,searchTermText:l,previousSelectedVertical:e.selectedVertical||c.h0,selectedVertical:e.selectedVertical||c.h0})),[o,e.selectedVertical,e.surface,l]),$=(0,i.useCallback)((i=>()=>{e.onSelect&&e.onSelect(i),r("eats:search_vertical_tab_tapped",{mvsMeta:{...A,selectedVertical:i,page:t.pathname}})}),[e,r,A,t.pathname]),S=s()((()=>{r("eats:search_vertical_tab_scrolled",{mvsMeta:A})}),1e3);return(0,i.useEffect)((()=>{b.data&&!p&&e.expandedState&&(v(!0),r("eats:global_search_zero_state_viewed",{numberOfSuggestions:x(A.selectedVertical),mvsMeta:{verticalList:A.verticalList,selectedVertical:A.selectedVertical}}))}),[b,r,x,A.verticalList,A.selectedVertical,p,e.expandedState]),(0,i.useEffect)((()=>{r("eats:search_vertical_tab_view",{mvsMeta:A})}),[]),o.length>1?(0,g.FD)(m,{$width:e.tableWidth,onScroll:S,children:[o.map(((t,r)=>(0,g.Y)(y,{onClick:$(t.verticalType),$isSelected:t.verticalType===(e.selectedVertical||c.h0),children:t.title},r))),(0,g.Y)(f,{})]}):null}},958:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(90417),a=r(41967),n=r(52539),o=r(71715),s=r(91156),l=r(17503),d=r(39182),c=r(89831),u=r(57078),h=r(31725);const p=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{background:t.colors.menuFill,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",right:"8px",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"505px",overflow:"auto",zIndex:d.IQ.foreground}})),g=e=>{let{isDropdownOpen:t,setIsDropdownOpen:r}=e;const{totalOrders:a,draftOrderUUIDs:d,setActiveDraftOrder:g}=(0,o.A)(),m=(0,n.A)(),y=(0,s.Ay)(),f=i.useRef(null),v=(0,c.wA)(),b=(0,h.A)("canonical_product_smart_cart");(0,l.A)(f,(()=>{r(!1)}),t);const x=i.useCallback((()=>{const e=!t;r(e),e&&y("eats:carts_list_view",{multicart:{numTotalCarts:a,draftOrderUuids:d}})}),[t,r,y,a,d]),A=i.useCallback(((e,t)=>{g(e),m(e,t),r(!1),b&&v((0,u.y1)())}),[g,m,b,r,v]);return{toggleIsDropdownOpen:x,dropdownRef:f,isDropdownOpen:t,onCartSelect:A,DropdownWrapperDesktop:p}}},2692:(e,t,r)=>{r.d(t,{s:()=>o});var i=r(70894),a=r(8474),n=r(43187);function o(e,t,r){return e.actionUrl?t?{type:"anchor",href:(0,i.h)(e.actionUrl)}:{type:"anchor",href:e.actionUrl}:{type:"link",to:(0,a.NQI)(r,{storeSlug:e.slug,storeUuid:e.uuid,newQueryParams:{searchSource:n.Cy.SEARCH_SUGGESTION}})}}},4037:(e,t,r)=>{r.d(t,{Ex:()=>n});var i=r(51920),a=r(40014);function n(e){return(0,a.Y)(i.A,{...e})}},10532:(e,t,r)=>{r.d(t,{A:()=>q});var i=r(90417),a=r(4914),n=r(50371),o=r(8474),s=r(43187),l=r(89831),d=r(12615),c=r(12989),u=r(91156),h=r(5330),p=r(17503),g=r(46239),m=r(44580),y=r(58711),f=r(9764),v=r(86105),b=r(8700),x=r(56074),A=r(91248),$=r(67205),S=r(41967),I=r(13376),_=r(76614),C=r(2693),Y=r(41772),w=r(34976),k=r("__fusion__c71080b8f2"),D=r(41746),E=r(40014);const L=(0,S.I4)("div",(e=>{let{$theme:t,$isFocused:r,$maxWidth:i}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",height:t.sizing.scale1200,borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",...r?{maxWidth:"1494px"}:{maxWidth:`${i??1036}px`},transition:`min-width ${t.animation.timing400} ease, max-width ${t.animation.timing400} ease`}})),T=(0,S.I4)("div",(e=>({display:"flex",flexShrink:0,alignSelf:"center",marginLeft:e.$theme.sizing.scale600,marginRight:e.$theme.sizing.scale500}))),F=(0,S.I4)("input",(e=>({flex:1,backgroundColor:e.$theme.colors.inputFill,...e.$width?{width:`${e.$width}px`}:{},appearance:"none",outline:"none","::placeholder":{..."mini"===e.$size?e.$theme.typography.LabelSmall:e.$theme.typography.LabelMedium,color:e.$theme.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden",caretColor:e.$theme.colors.eatsBusiness}))),R=(0,S.I4)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer",display:"flex",alignItems:"center"}})),z=(0,S.I4)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),O=(0,S.I4)(_.A,{cursor:"pointer"}),P=e=>{const[t,r]=i.useState(!1),[a,n]=i.useState(!0),o=i.useRef(null),s=(0,u.Ay)(),{value:l,...d}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),r(!0),0===l?.length&&n(!0)},onChange:t=>{a&&(s("eats:search_type_started",{numberRecentSearchSuggestions:e.numberRecentSearchSuggestions}),n(!1))},onBlur:()=>{r(!1)},onInput:t=>{e.onInput&&e.onInput(t)},ref:o});i.useEffect((()=>{e.expandedState&&o.current&&o.current.focus()}),[e.expandedState]);const c=e.expandedState&&e.query.length>0,h=(0,w.A)(e.size);return(0,E.FD)(L,{$isFocused:e.expandedState||t,$style:h,$maxWidth:e.size?"100%":void 0,children:[(0,E.Y)(T,{children:(0,E.Y)(I.A,{size:16})}),(0,E.Y)(F,{...d,maxLength:D.b,value:l||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===Y.jD&&e.handleEnterClick&&e.query.trim().length>0&&e.handleEnterClick()},$size:e.size,"data-testid":"search-input"}),(0,E.Y)(C.Ay,{$width:"8px"}),c?(0,E.FD)(E.FK,{children:[(0,E.Y)(R,{type:"button",onClick:()=>{e.reset(),o.current&&(o.current.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,E.Y)(k.default,{size:16})}),(0,E.Y)(C.Wp,{})]}):null,e.onClose&&e.query.length>0?(0,E.Y)(z,{}):null,e.onClose?(0,E.Y)(O,{onClick:e.onClose}):null]})};var B=r(37447),M=r(165),H=r(61073),N=r(77801),U=r(97452),V=r(73792),G=r(92332),Q=r(75455),K=r(84711),W=r(21532);const q=e=>{let{storeUuid:t,isSearchFeed:r,wrapperRef:I,expandedState:_,setExpandedState:C,size:Y,isOverlay:w=!1}=e;const[k]=(0,S.c6)(),D=(0,l.wA)(),L=(0,n.W6)(),T=(0,a.c)(),F=(0,v.zy)(),R=(0,d.A)(),{showSearchHome:z,setShowSearchHome:O}=(0,W.A)(),q=(0,c.h)({dropPastOrders:!0}),j=(0,V.W)(),X=Boolean("DELIVERY"===j),J=q.data?.verticalSuggestionLists,{store:Z}=(0,b.Ay)(t),ee=Z?.data?.title||"",{desktopFeatures:te}=(0,Q.A)();(0,i.useEffect)((()=>{J&&D((0,h.GK)(J))}),[D,J]);const re=(0,u.Ay)();(0,i.useEffect)((()=>{re("eats:search_bar_impression")}),[re]);const{userQuery:ie,vertical:ae,storeSearchQuery:ne,entryPoint:oe}=(0,o.g$k)(F,["userQuery","vertical","storeSearchQuery","entryPoint"]),[se,le]=(0,i.useState)(ae||$.h0);(0,i.useEffect)((()=>{le(ae||$.h0)}),[ae]);const de=(0,f.A)(),ce=Boolean(t)?s.PF.STORE_SEARCH:r?s.PF.GLOBAL_SEARCH:""!==de?s.PF.VERTICAL_FEED:s.PF.HOME_FEED,{feed:ue}=(0,y.A)(),he=()=>{re("eats:search_bar_closed"),C(!1)},{query:pe,results:ge,getInputProps:me,reset:ye,placeholder:fe,getLabelProps:ve,getItemProps:be,getMenuProps:xe,getSuggestionAction:Ae}=(0,x.Ay)({..."shoppingList"===oe?{initialQuery:ie}:{initialQuery:ie||ne},initialIsClosed:!0,searchTypeaheadPlaceholder:T("shared.searchBarHintText"),vertical:se||$.h0,onSuggestionSelected:he,isMultiVerticalDesktop:!0}),$e=ge.data||[],Se=()=>{le(ae||$.h0),r||(O(!0),ye()),he()};(0,p.A)(I,(()=>{Se()}),_),(0,g.A)((()=>{he(),document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}));const Ie=Boolean(ee)&&!te.hasNewInStoreSearch?T("shared.searchStoreTitle",{storeTitle:ee}):fe,_e=e=>{he(),re("eats:search_end",{userQuery:e?.title,page:F.pathname,hasDeliveryLocation:Boolean(R),mvsMeta:{verticalList:(J||[]).map((e=>e.verticalType)).join(","),selectedVertical:se||$.h0},searchType:"suggestion"})};return(0,E.FD)(E.FK,{children:[(0,E.Y)(B.Zs,{$showOverlay:_,onClick:Se}),(0,E.FD)(B.UK,{$expanded:_,"data-testid":"global-search-bar-wrapper",children:[(0,E.FD)(B.GR,{role:"search","aria-label":T("shared.searchBarHintText"),$expanded:_,"data-testid":"multi-vertical-desktop-global-search-bar-wrapper",$isOverlay:w,children:[(0,E.Y)(B.fb,{...ve(),children:Ie}),(0,E.Y)(P,{query:pe,getInputProps:me,reset:()=>{ye(),O(!0)},placeholder:fe,setExpandedState:()=>{re("eats:search_multi_vertical_bar_click"),re("eats:search_bar_clicked"),C(!0)},expandedState:_,verticalLists:J,handleEnterClick:()=>(re("eats:search_end",{userQuery:pe,page:F.pathname,hasDeliveryLocation:Boolean(R),searchType:"manual"}),L.push((0,o.EfF)(F,{vertical:se||$.h0,userQuery:pe.trim(),searchSource:s.Cy.SEARCH_BAR,searchType:s.nX.GLOBAL_SEARCH})),void he()),isSearchFeed:r,isCategoryPage:"CATEGORY_PAGE"===ue.data?.searchDisplayConfig,onFocus:()=>{""===pe&&"HOME_FEED"===ce&&re("eats:search_start",{page:F.pathname,hasDeliveryLocation:Boolean(R),mvsMeta:{verticalList:J?.map((e=>e.verticalType)).join(",")||"",selectedVertical:se||$.h0},searchSource:ce,numberRecentSearchSuggestions:(0,A.N)($e)})},onInput:e=>{e.target.value.trim()?O(!1):O(!0)},size:Y,numberRecentSearchSuggestions:(0,A.N)($e)})]}),(0,E.Y)(B.j3,{$showPopover:_,children:(0,E.FD)(B.Ij,{$showPopover:_,$needsPadding:!1,children:[X?(0,E.Y)(M.A,{onSelect:e=>{le(e)},selectedVertical:se||$.h0,expandedState:_,surface:"ZERO_STATE"}):null,(0,E.FD)(B.A$,{$needsLeftMargin:!0,children:[z?null:$e.length>0?(0,E.Y)(K.A,{query:pe,suggestions:$e,getMenuProps:xe,getItemProps:be,onItemClick:_e,getSuggestionAction:Ae}):(0,E.Y)(B.GM,{}),z?(0,E.Y)(H.A,{source:{isLoading:q.isLoading,hasLoaded:q.isFetched,data:q.data,error:q.error},error:()=>(0,E.Y)(U.jO,{code:500}),loaded:e=>(0,E.Y)(G.A,{selectedVertical:se||$.h0,searchHomeResults:(e.verticalSearchHomeResults||{})[se||$.h0]??[],verticalList:e.verticalSuggestionLists||[],onItemClick:_e}),loading:()=>(0,E.Y)(N.A,{itemNumbers:[5,3]})}):null,(0,E.Y)(m.Ay,{$height:69})]})]})})]})]})}},13376:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(90417),a=r(39155),n=r(40014);function o(e,t){return(0,n.Y)(a.A,{viewBox:"0 0 20 20",ref:t,...e,children:(0,n.Y)("path",{d:"M18.834 17l-3.666-3.667c.916-1.333 1.5-2.916 1.5-4.666C16.667 4.333 13.083.75 8.75.75 4.417.75.834 4.333.834 8.667c0 4.333 3.583 7.916 7.917 7.916 1.75 0 3.333-.583 4.666-1.5l3.667 3.667 1.75-1.75zm-15.5-8.25c0-3 2.417-5.417 5.417-5.417s5.416 2.417 5.416 5.417-2.416 5.417-5.416 5.417c-3 0-5.417-2.417-5.417-5.417z"})})}const s=i.forwardRef(o)},16498:(e,t,r)=>{r.d(t,{A:()=>pe});var i=r(90417),a=r(4914),n=r(50371),o=r(65714),s=r(41967),l=r(57887),d=r(8474),c=r(43187),u=r(89831),h=r(12989),p=r(91156),g=r(5330),m=r(17503),y=r(46239),f=r(2693),v=r(4497),b=r(72114),x=r(5204),A=r(9764),$=r(86105),S=r("__fusion__95b4ba69e5"),I=r(56267),_=r(73482),C=r(55441),Y=r(89151),w=r(67459),k=r(40014);const D=()=>null,E=(0,s.I4)("div",{display:"flex"}),L=(0,s.I4)("div",{display:"flex",width:"100%"}),T=(0,s.I4)("div",{display:"flex",width:"inherit",flexDirection:"column"}),F=(0,s.I4)("div",(e=>{let{$numOfColumns:t}=e;return{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,width:"inherit"}})),R=(0,s.I4)("div",{display:"flex",width:"100%"}),z=e=>{let{item:t,index:r,compositionMap:a,virtualListScrollEl:n,isGrocery:o,fallbackErrorComponent:s,emitEvent:l,handleSuggestionSelected:d}=e;const c=s||D,{elementRef:u,isElementHidden:h}=(0,w.A)({initialHidden:!0,waitTime:0,shouldListen:!0}),p=t.type;if(i.useEffect((()=>{!h&&l&&"content"===p&&t?.content?.template.serverDrivenUI&&l(t?.content?.template.serverDrivenUI)}),[l,h,t?.content?.template.serverDrivenUI,p]),"container"===p){const e=t.container;return(0,k.Y)(O,{bloxContainer:e,compositionMapGlobal:a,virtualListScrollEl:n,isGrocery:o,emitEvent:l})}if("content"===p){const e=t?.content?.template.serverDrivenUI;if(!e)return(0,k.FD)(k.FK,{children:[(0,k.Y)(c,{}),";",(0,k.Y)(_.A,{children:(0,k.Y)(i.Fragment,{children:(0,k.Y)(E,{children:"Container serverDrivenUIItem did not load"})},r)})]});const n=e?.compositionKey,o=n&&a?a[n]:{};if(!o?.root?.escapedJsonData||o?.root?.jsonData){const e=JSON.stringify(o?.root);return(0,k.FD)(_.A,{children:[(0,k.Y)(E,{children:"Web client needs escapedJsonData not jsonData"}),e]})}return(0,k.Y)(R,{ref:u,onClick:()=>{d(e,r)},"data-testid":"blox-parser-suggestion-item",children:(0,k.Y)(I.A,{index:r,encodedViewModel:o?.root,data:e?.elements||null,clientViews:e?.clientViews,analytics:e?.analytics})},r)}return(0,k.FD)(k.FK,{children:[(0,k.Y)(c,{}),";",(0,k.FD)(i.Fragment,{children:[(0,k.Y)(_.A,{children:"Container Item did not load"}),";"]},r)]})},O=e=>{let{bloxContainer:t,compositionMapGlobal:r,virtualListScrollEl:a,isGrocery:n,fallbackErrorComponent:o,emitEvent:s,handleSuggestionSelected:l}=e;const d=o||D,c=t.items,u=t.compositionMap||r,h=t.type,p="vertical"===h?.type?Number(h.vertical.columnCount):1,g=i.useMemo((()=>(0,Y.A)(c,p)),[p,c]),m=i.useMemo((()=>c.length<=1&&"content"===c[0]?.type||c.length>1?g:g[0]),[c,g]);return t&&t.type?(0,k.Y)(L,{children:(0,k.Y)(T,{children:n&&p>=2?(0,k.Y)(C.Ay,{calculateHeight:()=>224,scrollEl:a,children:m&&m.map(((e,t)=>(0,k.Y)(F,{$numOfColumns:p,children:e.map(((e,t)=>(0,k.Y)(z,{item:e,index:t,compositionMap:u,virtualListScrollEl:a,isGrocery:n,fallbackErrorComponent:o,emitEvent:s,handleSuggestionSelected:l},`${t}-ivl`)))},`${t}-gc`)))}):(0,k.Y)(k.FK,{children:c.map(((e,t)=>(0,k.Y)(z,{item:e,index:t,compositionMap:u,virtualListScrollEl:a,isGrocery:n,fallbackErrorComponent:o,emitEvent:s,handleSuggestionSelected:l},`${t}-non-ivl`)))})})}):(0,k.FD)(k.FK,{children:[(0,k.Y)(d,{}),";",(0,k.Y)(_.A,{children:(0,k.Y)(E,{children:"Error in Container Component"})})]})},P=i.memo(O);var B=r(49386),M=r(9023),H=r(85964);const N=(0,s.I4)("div",{margin:0,padding:0,width:"100%",height:"100%"}),U=e=>{let{searchSuggestBloxResponse:t,handleSuggestionSelected:r}=e;const i=(0,p.Ay)(),a=S.useRef(!1),{store:n}=(0,B.oX)(),o=(0,M.A)(n.data),s=n.data?(0,H.kS)(n.data,o):void 0;return S.useEffect((()=>{if(t?.bloxContainer?.items&&!a.current){a.current=!0;t.bloxContainer.items.forEach(((e,t)=>{if("content"===e.type&&"serverDrivenUI"===e.content.template?.type){const r=e.content.template.serverDrivenUI.analytics?.data?.maps?.stringMap;i("eats:store_search_suggestion_impression",{displaySurface:r?.displaySurface&&String(r?.displaySurface),searchSuggestion:r?.searchSuggestion&&String(r?.searchSuggestion),searchTerm:r?.searchTerm&&String(r?.searchTerm),storeUuid:r?.storeUuid&&String(r?.storeUuid),suggestionType:r?.suggestionType&&String(r?.suggestionType),itemPosition:t,storeLayout:s})}}))}}),[i,t?.bloxContainer?.items,s]),t&&t?.bloxContainer?null===t?.bloxContainer.items?null:(0,k.Y)(N,{"data-testid":"desktop-in-store-suggestions",children:(0,k.Y)(P,{bloxContainer:t.bloxContainer,compositionMapGlobal:t.bloxContainer?.compositionMap,handleSuggestionSelected:r})}):null};var V=r(8700),G=r(65416),Q=r(79221),K=r(12615),W=r(1160),q=r(31725);const j=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:n,searchTypeaheadPlaceholder:o,vertical:s,store:l}=e;const c=(0,$.zy)(),u=(0,a.c)(),h=(0,K.A)(),p=(0,W.A)("searchSuggestV2"),g=(0,q.A)("clear_search_results_cache_on_location_change"),{xlbHeaderBridge:m}=(0,G.d4)((e=>{let{embeddedFeatures:t}=e;return t})),{userQuery:y}=(0,d.g$k)(c,["userQuery"]),f=i.useCallback((async e=>{r&&r()}),[r]),v=i.useCallback((async e=>{if(!e)return[];return[await p({userQuery:e,storeUuid:l?.data?.uuid||"",storeLocation:l?.data?.location,locationType:l?.data?.location?.locationType,parentChainUuid:l?.data?.parentChain?.uuid||"",webClientType:"DESKTOP"})]}),[p,l?.data?.uuid,l?.data?.location,l?.data?.parentChain?.uuid]),b=i.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?u("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?u("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):u("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:x,results:A,getLabelProps:S,getInputProps:I,getMenuProps:_,getItemProps:C,reset:Y,openMenu:w,isOpen:k,highlightedIndex:D,clearCacheAndRefetchResults:E,selectItem:L}=(0,Q.A)({id:"search-suggestions-typeahead",initialQuery:t||y,fetchResults:v,initialIsClosed:n,onResultSelected:f,getQueryFromResult:e=>"",getA11yStatusMessage:b,fetchResultsTrigger:s,updateInputOnSelectedItemChange:!0,shouldTrimQuery:!0}),T=o||u("shared.searchPlaceholder");return i.useEffect((()=>{g&&E&&E()}),[h]),{query:x,results:A,isOpen:k,getLabelProps:S,getInputProps:I,getMenuProps:_,getItemProps:C,openMenu:w,reset:Y,highlightedIndex:D,placeholder:m?"":T,getSuggestionAction:e=>({type:"unknown"}),handleSuggestionSelected:f,selectItem:L}};var X=r(67205),J=r(66764),Z=r(13376),ee=r(76614),te=r(41772),re=r(34976);const ie=(0,s.I4)("div",(e=>{let{$theme:t,$isFocused:r,$height:i,$maxWidth:a}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:i,borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"1494px",minWidth:"600px"}:{maxWidth:"1036px",minWidth:"180px"},...a?{maxWidth:a}:void 0,transition:"min-width 400ms ease, max-width 400ms ease"}})),ae=(0,s.I4)("div",{display:"flex",flexShrink:0,alignSelf:"center"}),ne=(0,s.I4)("input",(e=>{let{$theme:t,$width:r}=e;return{flex:1,backgroundColor:t.colors.inputFill,...r?{width:`${r}px`}:{},appearance:"none",outline:"none","::placeholder":{...t.typography.LabelMedium,color:t.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}})),oe=(0,s.I4)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),se=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),le=(0,s.I4)(ee.A,{cursor:"pointer"}),de=e=>{const[t,r]=i.useState(!1),a=i.useRef(null),{value:n,...o}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),r(!0)},onBlur:()=>r(!1),ref:a});i.useEffect((()=>{e.expandedState&&a.current&&a?.current?.focus()}),[e.expandedState]);const s=e.expandedState&&e.query.length>0,{height:l}=(0,re.A)(e.size);return(0,k.Y)(k.FK,{children:(0,k.FD)(ie,{$isFocused:e.expandedState||t,$height:l,$maxWidth:"mini"===e.size?"100%":void 0,children:[(0,k.Y)(f.Wp,{}),(0,k.Y)(ae,{children:(0,k.Y)(Z.A,{size:14})}),(0,k.Y)(f.Ay,{$width:"16px"}),(0,k.Y)(ne,{...o,value:n||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===te.jD&&e.handleEnterClick&&(e.handleEnterClick(),r(!1))}}),(0,k.Y)(f.Ay,{$width:"8px"}),s?(0,k.FD)(k.FK,{children:[(0,k.Y)(oe,{type:"button",onClick:()=>{e.reset(),a.current&&(a?.current?.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,k.Y)(J.H,{id:"shared.clear"})}),(0,k.Y)(f.Wp,{})]}):null,e.onClose&&e.query.length>0?(0,k.Y)(se,{}):null,e.onClose?(0,k.Y)(le,{onClick:e.onClose}):null]})})};var ce=r(37447),ue=r(75455),he=r(28123);const pe=e=>{let{storeUuid:t,isSearchFeed:r,wrapperRef:S,expandedState:I,setExpandedState:_,size:C}=e;const[Y,w]=(0,s.c6)(),D=(0,u.wA)(),E=(0,n.W6)(),L=(0,a.c)(),T=(0,$.zy)(),F=(0,h.h)({dropPastOrders:!0}),R=F.data?.verticalSuggestionLists,z=(0,n.g)(),{store:O}=(0,V.Ay)(t),P=O.data&&(0,he.iC)(O.data),B=O?.data?.title||"",M=(0,H.$v)(),{desktopFeatures:N}=(0,ue.A)();(0,i.useEffect)((()=>{R&&D((0,g.GK)(R))}),[D,R]);const G=(0,p.Ay)();(0,i.useEffect)((()=>{G("eats:search_bar_impression")}),[G]);const{userQuery:Q,vertical:K,storeSearchQuery:W,entryPoint:q}=(0,d.g$k)(T,["userQuery","vertical","storeSearchQuery","entryPoint"]),[J,Z]=(0,i.useState)(K||X.h0);(0,i.useEffect)((()=>{K&&Z(K)}),[K]);const ee=(0,A.A)(),te=Boolean(t)?c.PF.STORE_SEARCH:r?c.PF.GLOBAL_SEARCH:""!==ee?c.PF.VERTICAL_FEED:c.PF.HOME_FEED,re=()=>{G("eats:search_bar_closed"),_(!1)},{query:ie,results:ae,getInputProps:ne,reset:oe,placeholder:se,getLabelProps:le,selectItem:pe}=j({..."shoppingList"===q?{initialQuery:Q}:{initialQuery:Q||W},initialIsClosed:!0,searchTypeaheadPlaceholder:L("shared.searchBarHintText"),vertical:J,onSuggestionSelected:re,isMultiVerticalDesktop:!0,store:O}),ge=ae.data||[],me=()=>{Z(K),re()},ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,d.G9G)(z),r=(0,d.jo1)(T,["entryPoint","sortAndFilters","storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),i=(0,d.Xng)({location:r,args:t,storeSearchQuery:(e||ie).trim(),isOfd:!P&&N.hasNewInStoreSearch});E.push(i),re(),W!==ie&&G("eats:store_search_fetch_results_enter_press",{storeUuid:O?.data?.uuid||"",storeSearchQuery:e||ie})};(0,m.A)(S,(()=>{me()}),I),(0,y.A)((()=>{re(),document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}));const fe="postmates"===(0,x.A)(),ve=Boolean(B)&&!N.hasNewInStoreSearch?L("shared.searchStoreTitle",{storeTitle:B}):se;return(0,k.FD)(k.FK,{children:[(0,k.Y)(ce.Fw,{children:(0,k.Y)(ce.mO,{role:"search","aria-label":L("shared.searchBarHintText"),children:(0,k.FD)(l.A,{"data-testid":"multi-vertical-desktop-in-store-search-bar-wrapper",children:[(0,k.Y)(ce.fb,{...le(),children:ve}),(0,k.Y)(de,{query:ie,getInputProps:ne,reset:()=>{oe(),G("eats:store_search_clear",{storeUuid:O?.data?.uuid||""})},placeholder:ve,setExpandedState:()=>{G("eats:search_multi_vertical_bar_click"),G("eats:search_bar_clicked"),_(!0)},expandedState:I,handleEnterClick:()=>ye(),onFocus:()=>{G("eats:store_search_grocery_entrypoint_click",{storeUuid:O?.data?.uuid||""}),ie&&""!==ie||M({searchSource:te,searchDataInfoLayer:"L1",searchDataInfoTab:"SHOP"})},size:C})]})})}),I?(0,k.Y)(k.FK,{children:(0,k.FD)(ce.TO,{$style:{marginLeft:"mini"===C?w.sizing.scale700:w.sizing.scale950},children:[(0,k.Y)(o.$n,{kind:"tertiary",shape:"circle",title:L("close"),onClick:me,children:(0,k.Y)(v.A,{size:18})}),(0,k.Y)(b.A,{})]})}):null,(e=>!!(e&&e.length&&e.length>0)&&Boolean(e[0]?.bloxContainer?.items))(ge)?(0,k.FD)(ce.SR,{$showPopover:I,children:[(0,k.Y)(f.IW,{$width:fe?ce._8:ce.Q4}),(0,k.Y)(ce.Ij,{$showPopover:I,children:(0,k.Y)(ce.A$,{children:(0,k.Y)(U,{searchSuggestBloxResponse:ge[0],handleSuggestionSelected:(e,t)=>{if(e){const r=e?.analytics?.data?.maps?.stringMap,i=r?.searchSuggestion;r&&i&&(G("eats:store_search_suggestion_click",{displaySurface:r?.displaySurface&&String(r?.displaySurface),searchSuggestion:r?.searchSuggestion&&String(r?.searchSuggestion),searchTerm:r?.searchTerm&&String(r?.searchTerm),storeUuid:r?.storeUuid&&String(r?.storeUuid),suggestionType:r?.suggestionType&&String(r?.suggestionType),itemPosition:t}),pe(i),ye(i))}}})})}),(0,k.Y)(f.IW,{$width:ce.Gn})]}):null]})}},17726:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(90417),a=r(39155),n=r(40014);function o(e,t){return(0,n.Y)(a.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.Y)("path",{d:"M22 6.9v3.8l-10 7.7-10-7.7V6.9l10 7.7 10-7.7z"})})}const s=i.forwardRef(o)},18350:(e,t,r)=>{r.d(t,{A:()=>k});var i=r(90417),a=r(57716),n=r(4914),o=r(91156),s=r(75344),l=r(33225),d=r(63919),c=r(2693),u=r(41967),h=r(24530),p=r(88303),g=r(97872),m=r(93570);var y=r(34784),f=r(65493),v=r(76857),b=r(16924),x=r(78615),A=r(84167),$=r(45680),S=r(48052),I=r(40014);const _=e=>{let{$theme:t,$isOnlineOrdering:r,$isDisabled:i}=e;return i?(0,h.A)(t):r?(e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingPrimaryInverseText,background:t.colors.onlineOrderingPrimaryInverse,...r?(0,h.A)(t):{":hover":{background:t.colors.onlineOrderingPrimaryInverseHover},":active":{background:t.colors.onlineOrderingPrimaryInverseActive},...(0,m.A)(t)}}})({$theme:t}):(0,g.b)({$theme:t})},C=(0,u.I4)(a.N_,(e=>{let{$size:t,$drawBorder:r,$theme:i,$isOnlineOrdering:a,$isDisabled:n}=e;return{...i.typography.LabelSmall,borderRadius:i.borders.pillButtonBorderRadius,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",height:"large"===t?"48px":"36px",padding:"8px 12px",boxSizing:"border-box",border:r?`1px solid ${i.colors.onlineOrderingPrimaryInverseActive}`:void 0,minWidth:`${$.mQ.addressMinWidth}px`,flex:"0 1 auto",..._({$theme:i,$isDisabled:n,$isOnlineOrdering:a})}})),Y=(0,u.I4)("div",(e=>{let{$theme:t}=e;return{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:`1 1 ${t.sizing.scale1200}`}})),w=(0,u.I4)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:"0 1 content"}),k=e=>{const{deliveryTime:t,deliveryLocation:r,diningMode:a}=(0,f.A)(),u=(0,i.useContext)(A.nW),h=(0,n.c)(),g=(0,o.Ay)(),m=(0,y.IY)("header-location-button"),$=(0,b.A)(),_=(0,x.FH)()?.customization?.colorInfo?.primary,{shouldOverrideLabel:k,overrideLabel:D}=(0,v.A)(),{storeUuid:E,isSchedulable:L}=e,{redirectUrl:T}=(0,S.y)();return r?(0,I.FD)(C,{"data-testid":"edit-delivery-location-button",ref:m,$size:e.size,$isDisabled:e.deliveryLocationPickerDisabled,to:()=>T({storeUuid:E,isSchedulable:L}),onClick:t=>{e.deliveryLocationPickerDisabled?t.preventDefault():(g("eats:delivery_details_click"),u.set("addressChangeTouched",!0))},$isOnlineOrdering:$,$drawBorder:Boolean($&&_),children:[(0,I.Y)(s.A,{color:"onHeader",type:"Pin",width:"16px",ariaLabel:h("component.location_typeahead_mobile.deliver_to")}),(0,I.Y)(c.Ay,{$width:"8px"}),k?D:(0,I.Y)(Y,{"data-testid":"delivery-address-label",children:r.address.address1}),(0,I.Y)(d.A,{spaces:2}),(0,I.Y)(w,{"data-test":"delivery-time",children:"scheduled"in t?(0,I.Y)(p.A,{date:t.date,startTime:t.startTime,endTime:t.endTime}):(0,I.Y)(l.A,{shortenedTime:!0,diningMode:a})})]}):null}},21532:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(90417),a=r(65416),n=r(86105),o=r(8474),s=r(67205),l=r(91156);const d=()=>{const e=(0,a.d4)((e=>{let{multiVertical:t}=e;return t.verticalList})),t=(0,n.zy)(),{vertical:r,userQuery:d}=(0,o.g$k)(t,["vertical","userQuery"]),[c,u]=i.useState(!d?.trim()),[h,p]=i.useState(!0),g=(0,l.Ay)(),m=i.useCallback((t=>{g("eats:search_end",{userQuery:t,mvsMeta:{verticalList:e.map((e=>e.verticalType)).join(","),selectedVertical:r||s.h0}})}),[g,e,r]);return{trackSearchCategoryClick:m,showSearchHome:c,showPastOrdersSuggestions:h,setShowPastOrdersSuggestions:p,setShowSearchHome:u,trackSearchHomeItemClick:i.useCallback((e=>{g("eats:search_home_item_click",e)}),[g]),trackSearchHomeItemView:i.useCallback((e=>{g("eats:search_home_item_view",e)}),[g])}}},28474:(e,t,r)=>{r.d(t,{D:()=>i,g:()=>a});const i="CATEGORY_FEED",a="HOME_FEED_ITEM"},34976:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(41967);function a(e){const[t,r]=(0,i.c6)();switch(e){case"mini":return{height:r.sizing.scale950,fontSize:r.sizing.scale550};case"small":return{height:r.sizing.scale1000,fontSize:r.sizing.scale600};default:return{height:r.sizing.scale1200,fontSize:r.sizing.scale600}}}},36606:(e,t,r)=>{r.d(t,{JB:()=>S,X8:()=>I,fb:()=>f});var i=r("__fusion__95b4ba69e5"),a=r(41967),n=r(26938),o=r(2693),s=r(61281),l=r(63323),d=r(65073),c=r.n(d),u=r(21532),h=r(16439),p=r(92533),g=r(65888),m=r(56279),y=r(40014);const f={SEARCH:"search",CLOCK:"clock",CATEGORY:"category"},v=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,margin:"12px 0 8px 0"}})),b=(0,a.I4)(l.A,(e=>{let{$theme:t}=e;return{display:"flex",width:"100%",height:"64px",alignItems:"center"}})),x=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center",width:"36px",height:"36px",borderRadius:"50%",color:t.colors.contentTertiary}})),A=(0,a.I4)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:`${t.sizing.scale0} solid ${t.colors.borderOpaque}`}:{}}})),$=(0,a.I4)("div",(e=>({borderRadius:"50%",width:"40px",height:"40px",backgroundImage:`url(${c()(e.$src)})`,backgroundSize:"cover"}))),S=e=>{let{item:t,hasBorder:r,onClick:a,analyticsPayload:l={}}=e;const{iconType:d,title:c,url:v,iconUrl:S}=t,[I,_]=(0,s.AF)({root:null}),{trackSearchHomeItemClick:C,trackSearchHomeItemView:Y}=(0,u.A)(),w=(0,h.A)(),k=(0,p.A)(),D=(w||k)&&"link"===v.type,E=(0,g.z)({impressionEventName:"eats_search_zero_state_item_impression",payload:l});return i.useEffect((()=>{t.eventData&&_&&_.isIntersecting&&Y(t.eventData)}),[_]),(0,y.FD)(b,{"data-testid":`search-home-item-${t.title}`,suggestionAction:v,ref:(0,m.A)(I,E),onClick:()=>{t.eventData&&C(t.eventData),a&&a(c)},shouldReplaceOnNavigate:D,children:[(0,y.Y)(x,{children:d===f.CLOCK?(0,y.Y)(n.A,{name:"ClockOutlined",size:16}):d===f.SEARCH?(0,y.Y)(n.A,{name:"SearchOutlined",size:18}):d===f.CATEGORY&&S?(0,y.Y)($,{$src:S,title:c,"aria-hidden":!0}):null}),(0,y.Y)(o.Wp,{}),(0,y.Y)(A,{$hasBorder:r,children:c})]})},I=e=>{let{title:t,analyticsPayload:r={}}=e;const i=(0,g.z)({impressionEventName:"eats_search_zero_state_item_impression",payload:r});return(0,y.Y)(v,{"data-testid":`search-home-section-title-${t}`,ref:i,children:t})}},37447:(e,t,r)=>{r.d(t,{fb:()=>te,Ij:()=>ne,IJ:()=>X,Zs:()=>Q,GM:()=>W,hJ:()=>G,_8:()=>N,Gn:()=>U,Q4:()=>H,ff:()=>K,j3:()=>ie,UK:()=>Z,TO:()=>J,SR:()=>ae,Fw:()=>ee,GR:()=>re,A$:()=>q,mO:()=>j,Ay:()=>oe});var i=r(41967),a=r(14841),n=r(39182),o=r(53985),s=r(8700),l=r(253),d=r(90417),c=r("__fusion__95b4ba69e5"),u=r(82236),h=r(99940),p=r(44575),g=r(30169),m=r(18350),y=r(72114),f=r(38370),v=r(81282),b=r(89831),x=r(2693),A=r(58711),$=r(12989),S=r(12615),I=r(84183),_=r(16924),C=r(5330),Y=r(86377),w=r(40509),k=r(47502),D=r(67133),E=r(91156),L=r(46239),T=r(50277),F=r(16498),R=r(40014);const z=e=>{let{showDiningMode:t,showCart:r,isSearchFeed:i,showSigninSignup:a,customizedDiningModeToggle:n,logSignInSignUpClick:o,campaign:s,storeUuid:l,isSchedulable:z}=e;const{user:O}=(0,I.A)(),P=(0,b.wA)(),B=(0,_.A)(),M=(0,S.A)(),H=(0,$.h)({dropPastOrders:!0}),N=H.data?.verticalSuggestionLists,U=(0,E.Ay)();(0,d.useEffect)((()=>{N&&P((0,C.GK)(N))}),[P,N]),(0,d.useEffect)((()=>{U("eats:search_bar_impression")}),[U]);const V=(0,w.A)(),[Q,W]=(0,d.useState)(!1),q=Boolean(l),{feed:Z}=(0,A.A)();let ee;ee=V?(0,R.Y)(Y.A,{startShoppingRedirect:!i&&!q}):(0,R.Y)(h.A,{});const te=c.useRef(null);(0,L.A)((()=>{W(!1)}));const{headerHeight:re}=(0,D.A)();return(0,R.Y)(G,{$showOverlay:Q,children:(0,R.Y)(j,{ref:te,children:(0,R.FD)(K,{$headerHeight:re,children:[B?null:(0,R.FD)(R.FK,{children:[(0,R.Y)(g.A,{}),(0,R.Y)(x.Ay,{$width:"32px"}),(0,R.Y)(f.A,{}),(0,R.Y)(x.Ay,{$width:M?"40px":"8px"})]}),M?(0,R.FD)(R.FK,{children:[Q?null:(0,R.FD)(R.FK,{children:[t?(0,R.FD)(R.FK,{children:[n||(0,R.Y)(p.A,{isDisabled:Z.isLoading}),(0,R.Y)(x.Ay,{$width:"16px"})]}):null,(0,R.Y)(m.A,{size:"large",storeUuid:l,isSchedulable:z}),(0,R.Y)(x.Ay,{$width:"48px"})]}),B?null:(0,R.Y)(F.A,{wrapperRef:te,expandedState:Q,setExpandedState:W,isSearchFeed:i,storeUuid:l})]}):(0,R.FD)(R.FK,{children:[(0,R.Y)(T.A,{}),(0,R.Y)(X,{})]}),(0,R.Y)(J,{children:Q?null:(0,R.FD)(R.FK,{children:[M||r?(0,R.Y)(u.A,{}):null,(0,R.Y)(R.FK,{children:ee}),(0,R.Y)(y.A,{}),O.data?.isLoggedIn?null:(0,R.FD)(R.FK,{children:[(0,R.Y)(x.Ay,{$width:"24px"}),a?(0,R.Y)(v.H,{campaign:s}):(0,R.Y)(k.A,{campaign:s,beforeClick:()=>{o&&o("signin","header")}})]})]})})]})})})};var O=r(10532);const P=(0,i.I4)("div",{flex:"1 0 0"}),B=e=>{let{showDiningMode:t,showCart:r,isSearchFeed:i,showSigninSignup:a,customizedDiningModeToggle:n,logSignInSignUpClick:o,campaign:s,storeUuid:l,isSchedulable:b,isOverlay:$=!1}=e;const{user:C}=(0,I.A)(),E=(0,_.A)(),L=(0,S.A)(),F=(0,w.A)(),[z,B]=(0,d.useState)(!1),M=Boolean(l),{feed:H}=(0,A.A)();let N;N=F?(0,R.Y)(Y.A,{startShoppingRedirect:!i&&!M}):(0,R.Y)(h.A,{});const U=c.useRef(null),{headerHeight:V}=(0,D.A)();return(0,R.Y)(G,{$showOverlay:z,children:(0,R.Y)(j,{ref:U,$isTransparent:$,children:(0,R.FD)(K,{$headerHeight:V,children:[E?null:(0,R.FD)(R.FK,{children:[(0,R.Y)(g.A,{}),(0,R.Y)(x.Ay,{$width:"32px"}),(0,R.Y)(f.A,{}),(0,R.Y)(x.Ay,{$width:L?"24px":"8px"})]}),L?(0,R.FD)(R.FK,{children:[z?null:(0,R.FD)(R.FK,{children:[t?(0,R.FD)(R.FK,{children:[n||(0,R.Y)(p.A,{isDisabled:H.isLoading}),(0,R.Y)(x.Ay,{$width:"16px"})]}):null,(0,R.Y)(m.A,{size:"large",storeUuid:l,isSchedulable:b}),E?(0,R.Y)(P,{}):(0,R.Y)(x.Ay,{$width:"16px"})]}),E?null:(0,R.Y)(O.A,{wrapperRef:U,expandedState:z,setExpandedState:B,isSearchFeed:i,storeUuid:l,isOverlay:$})]}):(0,R.FD)(R.FK,{children:[(0,R.Y)(T.A,{}),(0,R.Y)(X,{})]}),z?null:(0,R.FD)(J,{children:[L||r?(0,R.Y)(u.A,{}):null,(0,R.Y)(R.FK,{children:N}),(0,R.Y)(y.A,{}),C.data?.isLoggedIn?null:(0,R.FD)(R.FK,{children:[(0,R.Y)(x.Ay,{$width:"24px"}),a?(0,R.Y)(v.H,{campaign:s}):(0,R.Y)(k.A,{campaign:s,beforeClick:()=>{o&&o("signin","header")}})]})]})]})})})};var M=r(45680);const H="282px",N="260px",U="148px",V="0.5s",G=(0,i.I4)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:n.IQ.modal,overflow:"auto",transition:`all ${V} ease`}:{}}})),Q=(0,i.I4)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,backgroundColor:"rgba(0, 0, 0, 0.08)",position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:n.IQ.modal,overflow:"auto",transition:`all ${V} ${t.animation.easeOutQuinticCurve}`}:{transition:`all ${V} ${t.animation.easeOutQuinticCurve}`}}})),K=(0,i._F)(a.A,(e=>{let{$theme:t,$headerHeight:r}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:`${r}px`}})),W=(0,i._F)(o.A,{margin:"40px auto"}),q=(0,i.I4)("div",(e=>{let{$needsLeftMargin:t}=e;return{minHeight:"472px",marginLeft:t?"16px":"-16px",maxHeight:"calc(100vh - 280px)",overflowY:"auto"}})),j=((0,i.I4)("div",{position:"relative"}),(0,i.I4)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,i.I4)("div",(e=>{let{$theme:t,$isTransparent:r,$hasBorderBottom:i}=e;return{width:"100%",background:r?"transparent":t.colors.backgroundPrimary,borderBottom:`1px solid ${i?t.colors.borderOpaque:"transparent"}`,margin:"0 auto",transition:n.bm.default}}))),X=((0,i.I4)("div",{width:"100%",maxWidth:"722px"}),(0,i.I4)("div",{flex:1})),J=(0,i.I4)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),Z=(0,i.I4)("div",(e=>{let{$theme:t,$expanded:r}=e;const i={display:"flex",minWidth:r?"600px":`${M.mQ.searchMinWidth}px`,transition:`all ${t.animation.timing300} ${t.animation.easeOutQuinticCurve}`,flex:"1"};return r?{...i,alignSelf:"flex-start",flexDirection:"column"}:i})),ee=(0,i.I4)("div",{flex:"1 0",display:"flex",width:"100%",minWidth:`${M.mQ.searchMinWidth}px`}),te=((0,i.I4)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,i.I4)("label",n.mT)),re=(0,i.I4)("div",(e=>{let{$theme:t,$expanded:r,$isOverlay:i}=e;const a={flex:"1",paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500,backgroundColor:i&&!r?"transparent":t.colors.backgroundPrimary,borderTopRightRadius:t.borders.radius500,borderTopLeftRadius:t.borders.radius500};return r?{...a,paddingTop:t.sizing.scale500,zIndex:n.IQ.modal,marginTop:t.sizing.scale0}:a})),ie=(0,i.I4)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",zIndex:n.IQ.modal,background:t.colors.backgroundPrimary,maxWidth:"1920px",borderBottomRightRadius:t.borders.radius500,borderBottomLeftRadius:t.borders.radius500,borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",overflow:"hidden",...r?{opacity:"1",width:"100%",maxHeight:"calc(100vh - 180px)"}:{maxHeight:"0",visibility:"hidden",opacity:"0",width:"0px"},transition:`opacity ${V} ${t.animation.easeOutQuinticCurve}, visibility ${V} ${t.animation.easeOutQuinticCurve}`}})),ae=(0,i.I4)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",flexDirection:"row",zIndex:n.IQ.modal,position:"absolute",background:t.colors.backgroundPrimary,width:"100%",maxWidth:"1920px",top:"100%",right:"0",left:"0",margin:"0 auto",boxShadow:"0 6px 4px -4px rgba(0, 0, 0, 0.1)",borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",overflow:"hidden",...r?{opacity:"1"}:{height:"0",visibility:"hidden",opacity:"0"},transition:`all ${V} ease`}})),ne=(0,i.I4)("div",(e=>{let{$theme:t,$showPopover:r,$needsPadding:i}=e;return{display:"flex",width:"100%",flexDirection:"column",paddingLeft:i?t.sizing.scale1000:"0",paddingRight:i?t.sizing.scale1000:"0",...r?{visibility:"visible"}:{visibility:"hidden"}}})),oe=e=>{const{store:t}=(0,s.Ay)(e.storeUuid),r=t?.data?.title||"",i=(0,l.A)(t?.data?.uuid||""),a=Boolean(r);return(0,R.Y)(R.FK,{children:a&&i?(0,R.Y)(z,{...e}):(0,R.Y)(B,{...e})})}},43428:(e,t,r)=>{r.d(t,{A:()=>b});var i=r(90417),a=r(4914),n=r(66764),o=r(41967),s=r(75344),l=r(76614),d=r(65263),c=r(2693),u=r(34976),h=r(40014);const p=(0,o._F)(d.d,(e=>({display:"flex",padding:"8px 16px",position:"relative",...e.$backgroundColor?{backgroundColor:e.$theme.colors[e.$backgroundColor]}:{},...e.$isFocused?{boxShadow:e.$theme.shadows.focusedInput}:{},...e.$height?{height:`${e.$height}px`}:{},...e.$borderRadius?{borderRadius:e.$borderRadius}:{}}))),g=(0,o.I4)("div",(e=>{let{$shouldAnimatePin:t}=e;return{padding:"8px 0",display:"flex",flexShrink:0,alignItems:"center",...t?{animationDuration:"3s",animationDelay:"2s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotateY(0deg)"},"20%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}}:{}}})),m=(0,o.I4)("input",(e=>({flex:1,backgroundColor:e.$backgroundColor?e.$theme.colors[e.$backgroundColor]:e.$theme.colors.inputFill,...e.$width?{width:`${e.$width}px`}:{},appearance:"none",fontSize:e.$fontSize,outline:"none","::placeholder":{..."mini"===e.$size?e.$theme.typography.LabelSmall:e.$theme.typography.LabelMedium,color:e.$theme.colors.contentTertiary}}))),y=(0,o.I4)("button",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.LabelXSmall:t.typography.LabelSmall,color:t.colors.contentTertiary,cursor:"pointer"}})),f=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),v=(0,o.I4)(l.A,{cursor:"pointer"}),b=e=>{const[t,r]=(0,o.c6)(),l=(0,a.c)(),[d,b]=i.useState(!1),x=i.useRef(null),{value:A,...$}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),b(!0)},onBlur:()=>b(!1),ref:x}),{fontSize:S,height:I}=(0,u.A)(e.size);return(0,h.FD)(p,{$backgroundColor:e.backgroundColor,$isFocused:d&&(e.highlightFocus??!0),$height:e.size?parseInt(I,10):e.height,$borderRadius:"mini"===e.size||"rounded"===e.borderStyle?r.borders.pillButtonBorderRadius:null,children:[(0,h.Y)(g,{$shouldAnimatePin:e.shouldAnimatePin,children:(0,h.Y)(s.A,{type:e.isLoading?"Loading":e.iconType,ariaLabel:e.isLoading?l("loading"):void 0,..."mini"===e.size?{width:20,height:20}:{}})}),(0,h.Y)(c.Ay,{$width:"mini"===e.size?"8px":"16px"}),(0,h.Y)(m,{...$,value:A||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$backgroundColor:e.backgroundColor,$width:e.queryWidth,$fontSize:S,$size:e.size,"data-testid":e.dataTestid}),(0,h.Y)(c.Ay,{$width:"8px"}),e.query.length>0?(0,h.Y)(y,{type:"button",onClick:()=>{e.reset(),x.current&&x.current.focus()},$size:e.size,children:(0,h.Y)(n.H,{id:"shared.clear"})}):null,e.onClose&&e.query.length>0?(0,h.Y)(f,{}):null,e.onClose?(0,h.Y)(v,{onClick:e.onClose}):null]})}},44575:(e,t,r)=>{r.d(t,{A:()=>w});var i=r(90417),a=r(41967),n=r(59056),o=r(91156),s=r(98912),l=r(39182),d=r(46510),c=r(25816),u=r(65493),h=r(16924),p=r(24530),g=r(50371),m=r(8474),y=r(92634),f=r(31725),v=r(86105),b=r(42668),x=r(34976),A=r(40014);const $=(0,a.I4)("div",(e=>{let{$isFullWidth:t}=e;return{display:"flex",position:"relative",width:t?"100%":"auto"}})),S=(0,a._F)(d.A,(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",...t.typography.LabelSmall,textAlign:"center",height:"100%",padding:`0 ${t.sizing.scale550}`,borderRadius:t.borders.pillButtonBorderRadius,transition:l.bm.default}})),I=(0,a.I4)("div",(e=>{let{$theme:t,$background:r,$isDisabled:i}=e;return{background:t.colors[r||"backgroundSecondary"],display:"flex",width:"100%",borderRadius:t.borders.pillButtonBorderRadius,padding:"4px",boxSizing:"border-box",whiteSpace:"nowrap",...i?{...(0,p.A)(t)}:{}}})),_=(0,a.I4)("div",{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",width:"100%"}),C=(0,a.I4)("div",(e=>{let{$isDisabled:t}=e;return{display:"flex",justifyContent:"center",zIndex:l.IQ.surface,...t?{pointerEvents:"none"}:{}}})),Y=(0,a.I4)("div",(e=>{let{$background:t,$position:r,$theme:i,$width:a,$hasShadow:n}=e;return{position:"absolute",transform:`translateX(${r}px)`,height:"calc(100% - 8px)",width:`${a||0}px`,background:i.colors[t],borderRadius:i.borders.pillButtonBorderRadius,zIndex:l.IQ.base,transition:a?l.bm.default:"none",...n?{boxShadow:i.lighting.shadow400}:{}}})),w=e=>{const t=(0,g.W6)(),r=(0,v.zy)(),a=(0,o.Ay)(),l=(0,i.useRef)([]),d=(0,i.useRef)(!1),[p,w]=(0,i.useState)({position:0,width:0}),{diningModes:k,handleDiningModeClick:D}=(0,n.Ay)(null),E=(0,c.A)(k),{modalName:L}=(0,m.g$k)(r,["modalName"]),{diningMode:T}=(0,u.A)();(0,n.E5)({diningModes:E});const F=(0,h.A)(),R=(0,f.A)("apple_maps_checkout_dining_mode_listener"),z=(0,y.A)(),O=(0,b.w)(),P=e.supportedDiningModes?e.supportedDiningModes:E,B=P&&P.length<2||!e.supportedDiningModes&&!E||O;(0,i.useEffect)((()=>{B||!P||d.current||(d.current=!0,a("eats:dining_mode_selector",{diningModes:(0,s.Qg)(P),diningMode:T}))}),[a,P,T,B]),(0,i.useEffect)((()=>{if(!R||!z)return;Boolean(L)||"DELIVERY"===T&&(D("PICKUP"),a("eats:apple_maps_checkout_dining_mode_reset_activated"))}),[L,z,T,D,R,a]),(0,i.useEffect)((()=>{if(P){let e=0;P.forEach(((t,r)=>{const i=l.current[r]?.getBoundingClientRect()||null;T===t.mode&&i&&w({position:e,width:i.width}),e+=i?.width||0}))}}),[P,T]);const M=(0,x.A)(e.size??(e.smallPill?"small":void 0));if(B)return null;let H;return H=e.isDisabled&&e.inverseColors?"contentStateDisabled":F?"primary":e.inverseColors?"backgroundInversePrimary":"backgroundPrimary",(0,A.Y)($,{$isFullWidth:Boolean(e.isFullWidth),"data-testid":"dining-mode-toggle","data-testid-modality":T,children:(0,A.FD)(I,{$isDisabled:e.isDisabled,$style:M,children:[(0,A.Y)(_,{children:(P||[]).map(((i,n)=>{const o=T===i.mode;let s;return s=e.isDisabled?e.inverseColors&&o?"disabled":"contentStateDisabled":F&&o?"buttonPrimaryText":F&&!o?"contentPrimary":e.inverseColors&&o?"contentInversePrimary":"contentPrimary",(0,A.Y)(C,{ref:e=>{l.current[n]=e},$isDisabled:e.isDisabled,children:(0,A.Y)(S,{type:"radio",color:s,label:i.title,value:i.mode,checked:o,hideBackground:!0,dataTestid:`modality-option-${i.mode}`,onChange:()=>{e.isDisabled||(a("eats:dining_mode_click",{diningMode:i.mode}),D(i.mode),z&&"DELIVERY"===i.mode&&t.push((0,m.Zyy)(r,"locationManager","DELIVERY_LOCATION_MANAGER")))}})},i.mode)}))}),(0,A.Y)(Y,{$background:H,$position:p.position,$width:p.width,$hasShadow:e.hasPillShadow})]})})}},46510:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(41967),a=r(41772),n=r(39182),o=r(40014);const s=(0,i.I4)("div",(e=>{let{$color:t,$checked:r,$hideBackground:i,$theme:a,$hasShadow:o}=e;return{...a.typography.LabelSmall,padding:"8px 12px",boxSizing:"border-box",...r?{backgroundColor:a.colors.buttonPrimaryFill,color:a.colors.buttonPrimaryText}:{backgroundColor:a.colors.buttonSecondaryFill,color:a.colors.buttonSecondaryText},...i?{backgroundColor:"initial"}:{},...t?{color:a.colors[t]}:{},cursor:"pointer",userSelect:"none",...o?{boxShadow:a.lighting.shadow400,transition:"box-shadow ease 0ms",transitionDelay:r?n.bm.defaultDuration:"0ms"}:{}}}));function l(e){return"string"==typeof e||"number"==typeof e?String(e):"object"==typeof e&&e&&Symbol.iterator in e?Array.from(e,(e=>l(e))).filter(Boolean).join(" "):void 0}const d=(0,i.K6)(s,(e=>function(t){return(0,o.Y)(e,{$color:t.color,$checked:t.checked,$hideBackground:t.hideBackground,$hasShadow:t.hasShadow,role:t.type,"aria-checked":t.checked,tabIndex:0,"aria-label":t.ariaLabel??l(t.label),onClick:()=>t.onChange(t.value),onKeyDown:e=>e.keyCode===a.zP&&t.onChange(t.value),$as:t.$as,to:t.to,"data-testid":t.dataTestid,children:t.label})}))},50277:(e,t,r)=>{r.d(t,{A:()=>F});var i=r(90417),a=r(66764),n=r("__fusion__0c87421499"),o=r(95981),s=r(41967),l=r(59782),d=r(65926),c=r(73569),u=r(36016),h=r(4914),p=r(65648),g=r("__fusion__91d49e1bad"),m=r("__fusion__c71080b8f2"),y=r(77888),f=r(40761),v=r(25263),b=r(30640),x=r(12615),A=r(91156),$=r(40014);const S={StartEnhancer:{style:e=>{let{$theme:t}=e;return{paddingRight:t.sizing.scale300,paddingLeft:t.sizing.scale300}}},EndEnhancer:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}},Input:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300}}},Root:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale200,paddingRight:t.sizing.scale200,borderRadius:t.sizing.scale1200}}}},I={Root:{style:()=>({cursor:"pointer"})},LabelContent:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentPrimary,...t.typography.LabelMedium}}},LabelDescription:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.ParagraphSmall}}}},_=(0,s.I4)("div",(e=>{let{$expanded:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"flex-start",minHeight:t?"577px":"216px"}})),C=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,display:"flex",justifyContent:"space-between",alignItems:"center",margin:`${t.sizing.scale800} ${t.sizing.scale550} ${t.sizing.scale300} ${t.sizing.scale800}`}})),Y=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:`${t.sizing.scale600} ${t.sizing.scale800}`,flexGrow:1}})),w=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800}})),k=(0,s.I4)("ul",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,marginRight:t.sizing.scale300}})),D=e=>{let{open:t,onClose:r}=e;const[o,D]=(0,i.useState)(""),[,E]=(0,s.c6)(),L=(0,x.A)(),{locationSuggestions:T,handleLocationSelected:F,isLoading:R,hasLoaded:z}=(0,p.A)({query:o}),O=(0,h.c)(),P=(0,A.Ay)(),B=o.length>0,M=T?.length>0;(0,i.useEffect)((()=>{t&&(P("eats:enter_delivery_address_start",{address:L?.address?.address1,latitude:L?.latitude,longitude:L?.longitude}),P("eats:store_ephemeral_address_input_modal_impression"))}),[t,P,L]),(0,i.useEffect)((()=>{R&&P("eats:store_ephemeral_address_input_modal_search")}),[R,P]);const H=()=>{D("")};return(0,$.Y)(l.aF,{isOpen:t,onClose:r,children:(0,$.FD)(_,{$expanded:M,children:[(0,$.FD)(C,{children:[(0,$.Y)(a.H,{id:"shared.enterDeliveryAddress"}),(0,$.Y)(d.A,{kind:c.Nd.tertiary,shape:c.IW.circle,onClick:r,children:(0,$.Y)(v.A,{size:20})})]}),(0,$.Y)(w,{children:(0,$.Y)(u.A,{startEnhancer:e=>(0,$.Y)(g.default,{...e,size:16,onClick:e=>e.stopPropagation()}),placeholder:O("location_manager.search_placeholder"),overrides:S,value:o,onChange:e=>D(e.target.value),endEnhancer:e=>R?(0,$.Y)(b.y,{$size:20}):B?(0,$.Y)(m.default,{...e,size:20,...e,onClick:H}):null})}),(0,$.FD)(k,{children:[T?.map((e=>(0,$.Y)(y.A,{artwork:e=>(0,$.Y)(n.default,{...e,size:20,color:E.colors.gray600}),overrides:I,onClick:()=>{P("eats:store_ephemeral_address_input_modal_select_location"),F(e)},children:(0,$.Y)(f.A,{description:e.addressLine2,children:e.addressLine1})},e.id))),z&&0===T?.length?(0,$.Y)(y.A,{children:(0,$.Y)(f.A,{children:(0,$.Y)(a.H,{id:"components.store_address_input.no_results"})})},"no-results"):null]}),M?(0,$.Y)(Y,{children:(0,$.Y)(d.A,{kind:c.Nd.secondary,onClick:r,children:(0,$.Y)(a.H,{id:"back"})})}):null]})})};var E=r(21630),L=r(39182);const T=(0,s.I4)("div",(e=>{let{$theme:t,$isHighlighted:r}=e;return{...t.typography.LabelSmall,height:t.sizing.scale950,paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"flex",alignItems:"center",alignSelf:"center",gap:t.sizing.scale100,borderRadius:t.sizing.scale950,cursor:"pointer",":hover":{opacity:.8},whiteSpace:"nowrap",transition:L.bm.default,...r?{backgroundColor:t.colors.backgroundInversePrimary,color:t.colors.contentInversePrimary}:{backgroundColor:"transparent",color:t.colors.contentPrimary}}})),F=()=>{const[e,t]=(0,i.useState)(!1),{state:r}=(0,E.x)();return(0,$.FD)($.FK,{children:[(0,$.FD)(T,{onClick:()=>t(!0),$isHighlighted:r.isAddressInputHighlighted,children:[(0,$.Y)(n.default,{size:20}),(0,$.Y)(a.H,{id:"shared.enterDeliveryAddress"}),(0,$.Y)(o.A,{size:16})]}),(0,$.Y)(D,{open:e,onClose:()=>t(!1)})]})}},51125:(e,t,r)=>{r.d(t,{A:()=>c});var i=r(90417),a=r(49728),n=r(64126),o=r(96231),s=r(40014);class l extends i.Component{static defaultProps={getProgressLabel:(e,t,r)=>`${Math.round((e-r)/(t-r)*100)}% Complete`,infinite:!1,overrides:{},showLabel:!1,size:n.S.medium,steps:1,successValue:100,minValue:0,maxValue:100,value:0};componentDidMount(){0}render(){const{overrides:e={},getProgressLabel:t,value:r,size:n,steps:l,successValue:d,minValue:c,maxValue:u,showLabel:h,infinite:p,errorMessage:g,forwardedRef:m,...y}=this.props,f=this.props["aria-label"]||this.props.ariaLabel,v=t(r,u,c),b=function(e,t,r,i){return`Step ${Math.ceil((e-r)/(t-r)*i)} of ${i}`}(r,u,c,l),x=f||this.props.infinite?"Loading":this.props.steps>1?b:v,A=100!==u?u:d,[$,S]=(0,a._O)(e.Root,o.mp),[I,_]=(0,a._O)(e.BarContainer,o.cc),[C,Y]=(0,a._O)(e.Bar,o.fC),[w,k]=(0,a._O)(e.BarProgress,o.w$),[D,E]=(0,a._O)(e.Label,o.Gw),[L,T]=(0,a._O)(e.InfiniteBar,o.vI),F={$infinite:p,$size:n,$steps:l,$successValue:A,$minValue:c,$maxValue:A,$value:r};return(0,s.FD)($,{ref:m,"data-baseweb":"progress-bar",role:"progressbar","aria-label":x,"aria-valuenow":p?null:r,"aria-valuemin":p?null:c,"aria-valuemax":p?null:A,"aria-invalid":!!g||null,"aria-errormessage":g,...y,...F,...S,children:[(0,s.Y)(I,{...F,..._,children:p?(0,s.FD)(i.Fragment,{children:[(0,s.Y)(L,{$isLeft:!0,$size:F.$size,...T}),(0,s.Y)(L,{$size:F.$size,...T})]}):function(){const e=[];for(let t=0;t<l;t++)e.push((0,s.Y)(C,{...F,...Y,children:(0,s.Y)(w,{$index:t,...F,...k})},t));return e}()}),h&&(0,s.Y)(D,{...F,...E,children:t(r,A,c)})]})}}const d=i.forwardRef(((e,t)=>(0,s.Y)(l,{forwardedRef:t,...e})));d.displayName="ProgressBar";const c=d},51920:(e,t,r)=>{r.d(t,{A:()=>l});var i=r(49728),a=r(65025),n=r(57426),o=r(78062),s=r(40014);const l=e=>{let{children:t,content:r,color:l,shape:d=n.IW.rectangle,placement:c=n.El.topRight,hierarchy:u,horizontalOffset:h,verticalOffset:p,hidden:g,overrides:m={}}=e;const[y,f]=(0,i._O)(m.Badge,a.ft),[v,b]=(0,i._O)(m.Root,a.mp),[x,A]=(0,i._O)(m.Positioner,a.oy),$=(0,o.z)(t);n.El.topLeft,n.El.topRight,n.El.bottomRight,n.El.bottomLeft;return $?(0,s.FD)(v,{...b,children:[$,(0,s.Y)(x,{$horizontalOffset:h,$verticalOffset:p,$placement:c,$role:n.z7.badge,...A,children:(0,s.Y)(y,{$hierarchy:u,$shape:d,$color:l,$hidden:g,...f,children:r})})]}):(0,s.Y)(y,{$hierarchy:u,$shape:d,$color:l,$hidden:g,...f,children:r})}},56074:(e,t,r)=>{r.d(t,{Ay:()=>I,YD:()=>S});var i=r(90417),a=r(65416),n=r(50371),o=r(4914),s=r(1160),l=r(79221),d=r(91156),c=r(8474),u=r(12615),h=r(92611),p=r(43187),g=r(41519),m=r(67205),y=r(28474),f=r(31725),v=r(2692),b=r(86105),x=r(16439),A=r(92533),$=r(5654);const S=(e,t,r,i,a,n)=>["text","textV2","searchHistory","searchHistoryV2","popularCategory","topCategory","searchFor","searchText","searchTextV2"].includes(e.type)?{type:"link",to:(0,c.EfF)(t,{vertical:a||m.h0,userQuery:e.searchTerm?e.searchTerm:e.title,searchEntered:n,searchSource:p.Cy.SEARCH_SUGGESTION,eventSource:e.type||"",searchType:p.nX.GLOBAL_SEARCH,...r?{deliveryLocation:r}:{}})}:"store"===e.type&&e.store?(0,v.s)(e.store,i,t):"croStore"===e.type&&e.store?{type:"link",to:(0,c.NQI)(t,{storeSlug:e.store.slug,storeUuid:e.store.uuid})}:{type:"unknown"},I=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:v,searchTypeaheadPlaceholder:I,vertical:_,isMultiVerticalDesktop:C}=e;const Y=(0,b.zy)(),w=(0,n.W6)(),k=(0,o.c)(),D=(0,u.A)(),E=(0,d.Ay)(),L=(0,s.A)("getSearchSuggestionsV1"),T=(0,f.A)("clear_search_results_cache_on_location_change"),F=(0,$.A)(D,!0),R=(0,g.A)(),z=(0,f.A)("can_enable_cs_other_entrypoint_xlb"),O=(0,a.d4)((e=>{let{multiVertical:t}=e;return t.verticalList})),{setLastClickedPartialStore:P}=i.useContext(h.R),{userQuery:B,pageRole:M}=(0,c.g$k)(Y,["userQuery","pageRole"]),H=(0,x.A)(),N=(0,A.A)(),U=i.useCallback((function(e){"replace"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push")?w.replace(e):w.push(e)}),[w]),V=i.useCallback((async e=>{if(E("eats:search_end",{userQuery:e.title,page:Y.pathname,hasDeliveryLocation:Boolean(D),mvsMeta:{verticalList:O.map((e=>e.verticalType)).join(","),selectedVertical:_||m.h0},eventSource:e.type||"",searchType:"searchFor"!==e.type&&"text"!==e.type||!e.title?"suggestion":"manual"}),r&&r(),e.store&&("store"===e.type&&!e.store.actionUrl||"croStore"===e.type)&&P({heroImageUrl:e.store.heroImageUrl,title:e.store.title,storeUuid:e.store.uuid}),"store"===e.type&&e.store){if(e.store.actionUrl)return;U((0,c.NQI)(Y,{storeSlug:e.store.slug,storeUuid:e.store.uuid}),H&&!N?"replace":"push")}else"croStore"===e.type&&e.store?E("eats:search_bar_past_order_store_click",{storeUuid:e.store?.uuid}):"searchFor"!==e.type&&"text"!==e.type||!e.title||U((0,c.EfF)(Y,{userQuery:e.title,searchSource:p.Cy.SEARCH_BAR,eventSource:"text",searchType:p.nX.GLOBAL_SEARCH,searchEntered:e.title}),H||N?"replace":"push")}),[E,Y,D,O,_,r,P,U,H,N]),G=i.useCallback(((e,t)=>{E("eats:search_term_by_keyboard",{searchTerm:e.trim(),vertical:_||m.h0,verticalList:O.map((e=>e.verticalType)).join(",")});const r={title:e.trim(),type:"searchFor"};V(r)}),[V,E,_,O]),Q=i.useCallback((async e=>{if(!e)return[];const{date:t,startTime:r,endTime:i}=(0,c.g$k)(Y,["date","startTime","endTime"]),a=await L({userQuery:e,date:t,startTime:Number(r),endTime:Number(i),vertical:_});return 0===a.length?E("eats:global_search_suggestions_zero_results",{mvsMeta:{verticalList:O.map((e=>e.verticalType)).join(","),selectedVertical:_||m.h0}}):E("eats:global_search_suggestions_viewed",{mvsMeta:{verticalList:O.map((e=>e.verticalType)).join(","),selectedVertical:_||m.h0}}),R&&!z?a.filter((e=>!e.store?.actionUrl)):a}),[Y,L,_,E,O,R,z]),K=i.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?k("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?k("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):k("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:W,results:q,getLabelProps:j,getInputProps:X,getMenuProps:J,getItemProps:Z,reset:ee,openMenu:te,isOpen:re,highlightedIndex:ie,clearCacheAndRefetchResults:ae,selectItem:ne}=(0,l.A)({id:"search-suggestions-typeahead",initialQuery:M===y.D?"":t||B,fetchResults:Q,initialIsClosed:v,onResultSelected:V,getQueryFromResult:e=>e?.title||"",onEnterKeyWithNoSelectedResult:G,getA11yStatusMessage:K,fetchResultsTrigger:_,shouldTrimQuery:!0}),oe=I||k("shared.searchPlaceholder");return i.useEffect((()=>{!N&&T&&ae&&ae()}),[D]),i.useEffect((()=>{N&&T&&ae&&F!==D&&ae()}),[N,D,F,T,ae]),{query:W,results:q,isOpen:re,getLabelProps:j,getInputProps:X,getMenuProps:J,getItemProps:Z,openMenu:te,reset:ee,highlightedIndex:ie,placeholder:oe,getSuggestionAction:e=>S(e,Y,D,R,_||m.h0,W),handleSuggestionSelected:V,selectItem:ne,handleEnterKeyWithNoSelectedSuggestion:G}}},57887:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(41967).I4)("div",{flexDirection:"column",position:"relative",flex:1})},63215:(e,t,r)=>{r.d(t,{A:()=>A});var i=r(65073),a=r.n(i),n=r(41967),o=r(2693),s=r(60331),l=r(72893),d=r(63323),c=r(16439),u=r(92533),h=r(65888),p=r(56279),g=r(40014);const m=(0,n.I4)(d.A,(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",alignItems:"center",opacity:t?.6:void 0}})),y=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale950,display:"flex",justifyContent:"center",alignItems:"center"}})),f=(0,n.I4)("div",(e=>{let{$theme:t,$src:r}=e;return{borderRadius:"50%",width:t.sizing.scale950,height:t.sizing.scale950,backgroundImage:`url(${a()(r)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})),v=(0,n.I4)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{padding:`${t.sizing.scale600} 0`,width:"100%",boxSizing:"border-box",...r?{borderBottom:`${t.sizing.scale0} solid ${t.colors.borderOpaque}`}:{}}})),b=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),x=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),A=e=>{const{url:t,hasBorder:r,onClick:i,store:a,position:n,analyticsPayload:d={}}=e,{categories:A=[],title:$="",heroImageUrl:S="",meta1:I,isOrderable:_,storeAd:C,uuid:Y}=a||{},w=(0,c.A)(),k=(0,u.A)(),D=w&&!k,{adsViewableImpressionRef:E}=(0,l.A)({storeAd:C,adAttributes:{rank:n},shouldLogImpression:!0,storeUuid:Y}),L=(0,h.z)({impressionEventName:"eats_search_zero_state_item_impression",payload:d});return(0,g.FD)(m,{suggestionAction:t,$isGrayedOut:!1===_,onClick:i,shouldReplaceOnNavigate:D,ref:(0,p.A)(E,L),children:[(0,g.Y)(y,{children:S?(0,g.Y)(f,{$src:S,title:$,"aria-hidden":!0}):null}),(0,g.Y)(o.Wp,{}),(0,g.FD)(v,{$hasBorder:r,children:[(0,g.Y)(b,{children:$}),I?(0,g.Y)(s.Ay,{text:I}):(0,g.Y)(x,{children:A.join("  ")})]})]})}},63323:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(90417),a=r(57716),n=r(40014);const o=i.forwardRef((function(e,t){let{suggestionAction:r,shouldReplaceOnNavigate:i,onClick:o,children:s,...l}=e;return"link"===r.type?(0,n.Y)(a.N_,{...l,...i?{replace:!0}:null,to:r.to,onClick:o,ref:t,children:s}):"anchor"===r.type?(0,n.Y)("a",{...l,href:r.href,onClick:o,ref:t,children:s}):(0,n.Y)("a",{...l,onClick:e=>{e.preventDefault(),o&&o(e)},ref:t,children:s})}))},65290:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(90417),a=r(40304),n=r(33010),o=r(12615),s=r(84183),l=r(16439);const d=()=>{const[e,t]=(0,i.useState)(null),r=(0,a.KU)(),d=(0,o.A)(),{user:c}=(0,s.A)(),u=(0,l.A)(),h=c.data?.isLoggedIn;return(0,i.useEffect)((()=>{if(u||h||d||null!==e)return;const i=r.getString({...n.w.eats_web_address_precise_location_xp,defaultValue:""});"modal"!==i&&"location_entry"!==i&&"control"!==i||t(i)}),[r,e,u,h,d]),e}},65648:(e,t,r)=>{r.d(t,{A:()=>u});var i=r(90417),a=r(50371),n=r(86105),o=r(75868),s=r(34375),l=r(65980),d=r(8474),c=r(21251);const u=e=>{let{query:t,delay:r=500}=e;const u=(0,a.W6)(),h=(0,n.zy)(),p=(0,s.A)(),g=(0,l.A)(t,r),[m,y]=(0,i.useState)(!1),[f,v]=(0,i.useState)({}),[b,x]=(0,i.useState)([]),{fetchLocations:A,handleLocationSelected:$,areLocationDetailsLoading:S}=(0,o.A)({onLocationSelected:e=>{x([]),p(e),u.replace((0,d.Nel)({location:h,newQueryParams:{place:(0,c.Yv)((0,c.cz)(e))}}))}}),I=(0,i.useRef)(A);I.current=A;const _=(0,i.useRef)(f);return _.current=f,(0,i.useEffect)((()=>{if(g.length>3){const e=_.current[g];e?x(e):(y(!0),I.current(g).then((e=>{v((t=>({...t,[g]:e}))),x(e)})).finally((()=>{y(!1)})))}else 0===g.length&&x([])}),[g]),{searchResults:f,locationSuggestions:b,handleLocationSelected:$,isLoading:m,hasLoaded:!m&&_.current[g]&&g.length>3,areLocationDetailsLoading:S}}},65980:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(90417);function a(e,t){const[r,a]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const r=setTimeout((()=>{a(e)}),t);return()=>{clearTimeout(r)}}),[t,e]),r}},67133:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(69909),a=r(45680),n=r(92857);function o(){const e=(0,n.A)(),t=(0,i.A)("features_config");return{headerHeight:e?a.mQ.height:t.header.height,isHeaderSticky:Boolean(t?.header?.sticky),headerShadowEnabled:Boolean(t?.header?.shadow)}}},70553:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(41967),a=r(86467),n=r(44580),o=r(40509),s=r(40014);const l=(0,i.I4)("div",(e=>{let{$theme:t,$isInMulticart:r}=e;return{padding:"24px",position:r?"sticky":"absolute",bottom:0,left:0,right:0,...t.overlays.floatingButtonGradient}}));function d(e){const[t,r]=(0,a.A)(),i=(0,o.A)();return(0,s.FD)(s.FK,{children:[i?null:(0,s.Y)(n.Ay,{$height:t?.height||0}),(0,s.Y)(l,{$isInMulticart:i,ref:r,children:e.children})]})}},75013:(e,t,r)=>{r.d(t,{A:()=>u});var i=r(90417),a=r(50371),n=r(42173),o=r(80482),s=r(86105),l=r(8474),d=r(65290),c=r(91156);const u=()=>{const[e,t]=(0,i.useState)(null),[r,u]=(0,i.useState)(!1),{isGeolocationAvailable:h,isGeolocationPermissionsQueryAvailable:p,getGeoLocation:g,queryGeolocationPermissions:m}=(0,n.A)(),y=(0,d.A)(),f=(0,a.W6)(),v=(0,s.zy)(),b=(0,c.Ay)(),x=(0,i.useCallback)(((e,t,r)=>{const i=(0,l.lGi)(v,{coordinates:{latitude:e,longitude:t},accuracy:r,entryPoint:"feed_location_request"});(0,o.A)((0,l.GF3)(i))}),[v]),A=(0,i.useCallback)((async()=>new Promise(((e,t)=>{h||t(new Error("Geolocation not available in this browser")),m((r=>{"prompt"===r&&b("eats:share_location_request_impression"),g(((i,a)=>{if(a)"prompt"===r&&1===a.code&&b("eats:share_location_request_click",{feedLocationSharing:{cta:"deny"}}),t(a);else{const{latitude:a,longitude:n,accuracy:o}=i||{};"prompt"===r&&b("eats:share_location_request_click",{feedLocationSharing:{cta:"allow"}}),"number"!=typeof a||"number"!=typeof n?t(new Error("Invalid latitude or longitude")):(b("eats:share_location_success",{feedLocationSharing:{accuracy:o}}),e({latitude:a,longitude:n,accuracy:o}))}}))}))}))),[m,b,g,h]),$=(0,i.useCallback)((e=>{t(e),f.replace((0,l.LW_)(v,{mode:"ERROR"}))}),[f,v]),S=(0,i.useCallback)((async()=>{b("eats:share_location_inline_click");try{u(!0);const{latitude:e,longitude:t,accuracy:r}=await A();x(e,t,r)}catch(e){u(!1),$(e)}}),[b,A,x,$]);return{loading:r,addressViaPreciseLocationXpTreatment:y,isGeolocationPermissionsQueryAvailable:p,queryGeolocationPermissions:m,onAllowLocation:S,geoLocationError:e}}},75455:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(49386),a=r(12615),n=r(84183);const o=()=>{const{isGrStore:e,store:t}=(0,i.oX)(),{user:r}=(0,n.A)(),o=r.data?.isLoggedIn,s=(0,a.A)(),l=Boolean(!e&&!o),d=Boolean(!e&&o),c=l,u=!e,h=u,p=u,g=l,m=l,y=u,f=l,v=d,b=Boolean(t?.data)&&!e,x=!e,A=d,$=!e,S=d,I=d,_=!e&&"NEW_VERTICALS"===t?.data?.headerBrandingInfo?.headerType&&h,C=Boolean((t?.data?.featuredReviews?.length||0)>=2&&t?.data?.rating),Y=Boolean(t?.data?.nuggets?.length||0);return{desktopFeatures:{hasStickyHorizontalMenuNav:f,hasStickyVerticalMenuNav:v,hasStoreInfoSection:c,hasNewHeader:h,hasNewPageWrapper:u,hasDisclaimerAtBottom:p,hasNewBreadcrumbs:g,hasNewFaqSection:m,hasNewReviewsLayout:y,hasNewInStoreSearch:b,overwriteHorizontalGridColumns:x,moveTopExploreMoreStoresToCatalog:A,horizontalGridColumns:l?5:4,hasNewLoader:$,isLegacyHeaderWithBrandingInfo:_,storeInfoConfig:{infoCardOrientation:C||Y?"portrait":"landscape",showBrandingInfoAndControls:Boolean(!C&&s&&!_),showDescription:Boolean(t?.data?.seoMeta?.content&&!t?.data?.optoutRestaurantExperiments?.optoutMenuExperiments?.optoutAllExperiments),showReviews:C},hasDeliveryRowControls:S,hasStoreBannersInCatalogColumn:I}}}},75511:(e,t,r)=>{r.d(t,{H:()=>a,r:()=>n});var i=r(77692);const a={FLAT_EARNED:"flat.earned",FLAT_UNEARNED:"flat.unearned",PERCENT_EARNED:"percent.earned",PERCENT_UNEARNED:"percent.unearned",FREE_DELIVERY_EARNED:"free_delivery.earned",FREE_DELIVERY_UNEARNED:"free_delivery.unearned",DISCOUNT_DELIVERY_EARNED:"discount_delivery.earned",DISCOUNT_DELIVERY_UNEARNED:"discount_delivery.unearned"};function n(e,t,r,a){const n=e.discountInfo;if(!n||null===n.promoType||null===e.minBasketSizeConstraintInDecimal)return null;const o=e.minBasketSizeConstraintInDecimal||0,s=n.valueInCents||0,l=n.maxValueInCents||0,d=n.promoType,c=(0,i.vv)(a,t,s),u=o-r,h=(0,i.vv)(a,t,u);return u>0?function(e,t,r,a,n){switch(a){case"FLAT":return{key:"FLAT_UNEARNED",data:{x:t,y:r}};case"PERCENT":return{key:"PERCENT_UNEARNED",data:{x:t,y:(0,i.Ee)(n,e/100)}};case"FREE_DELIVERY":return{key:"FREE_DELIVERY_UNEARNED",data:{x:t,y:r}};case"DISCOUNT_DELIVERY":return{key:"DISCOUNT_DELIVERY_UNEARNED",data:{x:t,y:r}};default:return null}}(s,h,c,d,a):function(e,t,r,a,n,o,s){switch(a){case"FLAT":return{key:"FLAT_EARNED",data:{x:t}};case"PERCENT":{const t=n*e/100;if(t>=r)return{key:"FLAT_EARNED",data:{x:(0,i.vv)(o,s,r)}};const a=t/n;return{key:"PERCENT_EARNED",data:{x:(0,i.Ee)(o,a||0)}}}case"FREE_DELIVERY":return{key:"FREE_DELIVERY_EARNED",data:{x:t}};case"DISCOUNT_DELIVERY":return{key:"DISCOUNT_DELIVERY_EARNED",data:{x:t}};default:return null}}(s,c,l,d,r,a,t)}},75868:(e,t,r)=>{r.d(t,{A:()=>h});var i=r(90417),a=r(4914),n=r(1160),o=r(31306),s=r(73792),l=r(71893),d=r(91156),c=r(86105),u=r(48052);const h=e=>{let{onLocationSelected:t,overrideDiningMode:r,onLocationSelectedV2:h}=e;const{isAddressPickerRevampEnabled:p}=(0,u.y)(),[g,m]=(0,i.useState)(!1),y=(0,a.c)(),f=(0,s.W)(),v=r??f;let b;const x=(0,d.Ay)(),A=(0,c.zy)().pathname,$=(0,n.A)("mapsSearchV1");b=v===l.nQ.DINE_IN?y("shared.enterDineInAddress"):v===l.nQ.PICKUP?y("shared.enterPickupAddress"):v===l.nQ.DELIVERY_API?y("shared.enterFullDeliveryAddress"):y("shared.enterDeliveryAddress");const S=(0,n.A)("getDeliveryLocationV1"),I=(0,n.A)("getDeliveryLocationV2");return{fetchLocations:e=>e?$({query:e}):Promise.resolve([]),handleLocationSelected:(0,i.useCallback)((e=>(m(!0),h&&p?I({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{let{deliveryLocation:t}=e;t&&(m(!1),x("eats:location_manager_typeahead_result_click",{originType:"user_autocomplete",page:A,userState:t?.deliveryConfig?.analytics?.user_state}),h(t))})).catch((e=>{e instanceof o.A||m(!1)})):S({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{m(!1),x("eats:location_manager_typeahead_result_click",{originType:e.originType,page:A,userState:e.userState}),t?.(e)})).catch((e=>{e instanceof o.A||m(!1)})))),[x,S,I,p,t,h,A]),areLocationDetailsLoading:g,placeholder:b}}},77467:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(4914),a=r(41967),n=r(94541),o=r(91156),s=r(43428),l=r(57887),d=r(12615),c=r(39182),u=r(90033),h=r(40014);const p=(0,a.I4)("label",c.mT),g=e=>{const t=(0,o.Ay)(),r=(0,d.A)(),a=(0,i.c)(),{query:c,placeholder:g,locations:m,isLoading:y,highlightedIndex:f,isOpen:v,showTryAgainMessage:b,openMenu:x,reset:A,getItemProps:$,getMenuProps:S,getInputProps:I,getLabelProps:_}=(0,u.A)({onLocationSelected:e.onLocationSelected,initialQuery:e.initialQuery,id:e.id,initialIsClosed:!0});return(0,h.Y)(l.A,{"data-testid":"location-typeahead-wrapper",children:(0,h.FD)("div",{ref:e.registerRef,children:[(0,h.Y)(p,{..._(),children:a("shared.combobox.a11y_instructions")}),(0,h.Y)(s.A,{query:c,getInputProps:I,reset:A,placeholder:g,isLoading:y,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{x(),t("eats:enter_delivery_address_start",{address:r?.address.address1,latitude:r?.latitude,longitude:r?.longitude})},size:e.size,highlightFocus:e.highlightFocus}),(0,h.Y)(n.A,{locations:m.data||[],getMenuProps:S,getItemProps:$,highlightedIndex:f,showTryAgainMessage:b,isOpen:v,size:e.size})]})})}},77801:(e,t,r)=>{r.d(t,{A:()=>f});var i=r(90417),a=r(41967),n=r(23599),o=r(23963),s=r(39182),l=r(40014);const d=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...(0,o.A)({$theme:t}),backgroundSize:"100vw 100%",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:s.IQ.background}})),c=(0,a.I4)("div",{display:"flex",flex:1}),u=(0,a.I4)("div",{position:"relative",display:"flex"}),h=(0,a.I4)("div",{flex:"none",display:"flex",flexDirection:"column",justifySectionWrapper:"center",alignItems:"center"}),p=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{width:"40px",height:"40px",background:`radial-gradient(transparent 20px, ${t.colors.backgroundPrimary} 20px)`}})),g=(0,a.I4)("div",{display:"flex",flexDirection:"column",flex:1}),m=e=>{let{titleWidth:t}=e;return(0,l.FD)(c,{children:[(0,l.FD)(h,{children:[(0,l.Y)(n.lL,{$height:"10px",$width:"40px"}),(0,l.Y)(p,{}),(0,l.Y)(n.lL,{$height:"10px",$width:"40px"})]}),(0,l.Y)(n.lL,{$width:"12px"}),(0,l.FD)(g,{children:[(0,l.Y)(n.lL,{$width:"100%",$grow:!0}),(0,l.Y)(n.qd,{width:`${t}%`,height:"24px"}),(0,l.Y)(n.lL,{$width:"100%",$grow:!0})]})]})},y=e=>{let{itemWidths:t}=e;return(0,l.FD)(g,{children:[(0,l.FD)(g,{children:[(0,l.Y)(n.lL,{$width:"100%",$height:"16px"}),(0,l.Y)(n.qd,{width:"40%",height:"30px"}),(0,l.Y)(n.lL,{$width:"100%",$height:"12px"})]}),(0,l.Y)(g,{children:t.map(((e,t)=>(0,l.Y)(m,{titleWidth:e},t)))})]})},f=e=>{const[t]=(0,i.useState)(e.itemNumbers.map((e=>(e=>[...Array(e)].map((()=>Math.floor(50*Math.random())+30)))(e))));return(0,l.FD)(u,{children:[(0,l.Y)(d,{}),(0,l.Y)(g,{children:t.map(((e,t)=>(0,l.Y)(y,{itemWidths:e},t)))})]})}},78838:(e,t,r)=>{r.d(t,{Y:()=>m});var i=r("__fusion__95b4ba69e5"),a=r(90417),n=r(41967),o=r(39182),s=r(76614),l=r(40014);const d=(0,n.I4)("div",{padding:"16px 24px"}),c=(0,n.I4)("div",(e=>({position:"absolute",width:"100%",top:"0",left:"0",backgroundColor:e.$theme.colors[e.$bgColor],zIndex:o.IQ.modal}))),u=(0,n.I4)(s.A,{width:"24px",height:"24px",display:"flex",position:"relative",cursor:"pointer",right:"6px"}),h=(0,n.I4)("div",{position:"relative",marginTop:"8px"}),p=((0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.onNegative}})),(0,n.I4)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium}))),g=e=>{const[t,r]=i.useState(!1);(0,a.useEffect)((()=>{r(!1)}),[]);return(0,l.Y)(l.FK,{children:t?null:(0,l.Y)(c,{$bgColor:e.$bgColor,children:(0,l.FD)(d,{children:[(0,l.Y)(u,{onClick:()=>{r(!0)},iconColor:e.$iconFill}),(0,l.Y)(h,{children:e.children})]})})})},m=e=>(0,l.Y)(g,{$bgColor:"warning",$iconFill:"onWarning",children:(0,l.Y)(p,{children:e.children})})},82235:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(90417),a=r(66371),n=r(91156);const o=(e,t)=>{const{stopTiming:r}=(0,a.zR)(),o=i.useRef(!1),s=(0,n.Ay)();i.useEffect((()=>{if(!o.current){o.current=!0;const i=r(e);i&&s("eats:timing",{label:t??e,timeElapsed:i})}}),[r,s,e,t])}},82236:(e,t,r)=>{r.d(t,{A:()=>ve});var i=r(17649),a=r(31010),n=r("__fusion__95b4ba69e5"),o=r(90417),s=r(66764),l=r(4914),d=r(39431),c=r(50371),u=r(86105),h=r(2693),p=r(23599),g=r(41967),m=r(89864),y=r(63577),f=r(17726),v=r(31300),b=r(71715),x=r(91156),A=r(958),$=r(39182),S=r(42120),I=r(23963),_=r(59160),C=r(83007),Y=r(71085),w=r(93640),k=r(4507),D=r(41908),E=r(62707),L=r(56554),T=r(8474),F=r(84183),R=r(80672),z=r(34976),O=r(24530),P=r(93570);const B=e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingSecondaryInverseText,background:t.colors.onlineOrderingSecondaryInverse,...r?(0,O.A)(t):{":hover":{background:t.colors.onlineOrderingSecondaryInverseHover},":active":{background:t.colors.onlineOrderingSecondaryInverseActive},...(0,P.A)(t)}}};var M=r(16924),H=r(40014);const N=Math.round(555.5),U=(0,d.uq)(r(47800)),V=(0,g.I4)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,position:"relative"}))),G=(0,g.I4)("div",(e=>{let{$theme:t,$isOverlapping:r,$isLoading:i}=e;return{...i?{...(0,I.A)({$theme:t}),backgroundSize:"100vw 100%"}:{backgroundColor:"transparent"},display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...t.typography.LabelMedium,whiteSpace:"nowrap"}})),Q=(0,g.I4)("div",{display:"flex",flexDirection:"row",alignItems:"center"}),K=(0,g.I4)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"24px",height:"48px",background:`radial-gradient(circle at ${"ltr"===r?"100%":"0%"}, transparent 24px, ${t.colors.backgroundPrimary} 24px)`}})),W=(0,g.I4)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"24px",height:"48px",background:`radial-gradient(circle at ${"ltr"===r?"0%":"100%"}, transparent 24px, ${t.colors.backgroundPrimary} 24px)`}})),q=(0,g.I4)("button",(e=>{let{$theme:t,$isDualButtons:r,$isOnlineOrdering:i}=e;return{display:"flex",flexDirection:"row",alignItems:"center",padding:r?"14px 16px 14px 12px":"8px 16px",...i?B({$theme:t}):(0,v.r)({$theme:t}),"& svg":{color:"currentColor",fill:"currentColor"}}})),j=(0,g.I4)("button",(e=>{let{$theme:t,$isDualButtons:r,$isLoggedIn:i,$isOnlineOrdering:a}=e;return{display:"flex",flexDirection:"row",alignItems:"center",padding:i?r?"14px 12px 14px 8px":"8px 16px 8px 8px":"8px 12px",...a?B({$theme:t}):(0,v.r)({$theme:t}),"& svg":{color:"currentColor",fill:"currentColor"}}})),X=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{height:"32px",width:"32px",flexShrink:0,borderRadius:t.borders.radiusFull,overflow:"hidden",position:"relative"}})),J=(0,g.I4)("img",{height:"32px",width:"32px",objectFit:"cover",flexShrink:0}),Z=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{width:"1.5px",margin:"12px 0",background:t.colors.contentSecondary}})),ee=(0,g.I4)("div",(e=>{let{$theme:t,$isOverlapping:r}=e;return{background:t.colors.menuFill,color:t.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",top:r?"64px":t.sizing.scale1000,right:"0",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:`${N}px`,overflow:"auto",zIndex:$.IQ.modal}})),te=(0,g.I4)("div",(e=>{let{$theme:t,$isHovering:r}=e;return{borderRadius:"50%",width:t.sizing.scale950,height:t.sizing.scale950,position:"absolute",left:`-${t.sizing.scale0}`,...r?{backgroundColor:t.colors.buttonPrimaryHover}:{backgroundColor:t.colors.buttonPrimaryFill}}})),re=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",position:"relative",width:t.sizing.scale1400}})),ie=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{position:"absolute",left:t.sizing.scale750}})),ae=(0,g.I4)("div",{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),ne=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,position:"absolute",width:t.sizing.scale950,height:t.sizing.scale950,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.5)"}})),oe=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,whiteSpace:"nowrap"}})),se=e=>e.storeImage?.length>1?(0,H.FD)(re,{children:[(0,H.Y)("div",{children:(0,H.Y)(X,{children:(0,H.Y)(J,{src:e.storeImage[0],alt:"store"})})}),(0,H.Y)(ie,{children:(0,H.FD)(ae,{children:[(0,H.Y)(te,{$isHovering:e.isHovering}),(0,H.Y)(X,{children:(0,H.Y)(J,{src:e.storeImage[1],alt:"store"})}),e.storeImage.length>2?(0,H.FD)(ne,{children:["+",e.storeImage.length-1]}):null]})})]}):(0,H.Y)(X,{children:(0,H.Y)(J,{src:e.storeImage[0],alt:"store"})}),le=e=>1===e.totalOrders?(0,H.Y)(s.H,{id:"shared.numCartsSingular",data:{numCarts:e.totalOrders}}):(0,H.Y)(s.H,{id:"shared.numCarts",data:{numCarts:e.totalOrders}}),de=e=>1===e.numCartItems?(0,H.Y)(s.H,{id:"shared.numCartItemsSingular",data:{numCartItems:e.numCartItems}}):(0,H.Y)(s.H,{id:"shared.numCartItems",data:{numCartItems:e.numCartItems}}),ce=()=>{const{serverCart:e}=(0,D.B_)(),t=e.data?.items||[],r=(0,R.IF)(t);return(0,H.FD)(H.FK,{children:[(0,H.Y)(y.A,{size:16}),(0,H.FD)(oe,{children:[(0,H.Y)(s.H,{id:"shared.cart"}),"  ",r]})]})},ue=e=>{let{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:a,size:s}=e;const{toggleSidebarCartVisible:d,headerCartDropdownVisible:g,setHeaderCartDropdownVisible:v}=(0,m.lK)(),{totalOrders:$,cartViews:I,activeDraftOrderUUID:R,currentStoreDraftOrderUUID:O,draftOrders:P,draftOrderUUIDs:B,setActiveDraftOrder:N,cartsViewIsLoading:X}=(0,b.A)(),{isDelegatedBooking:J}=(0,L.G)(),{bundleGroupUUID:te,isBundledOrder:re}=(0,D.tC)(),ie=(0,x.Ay)(),ae=(0,l.c)(),{toggleIsDropdownOpen:ne,dropdownRef:oe,isDropdownOpen:ue,onCartSelect:he}=(0,A.A)({isDropdownOpen:r??g,setIsDropdownOpen:a??v}),pe=(0,c.g)(),ge=(0,Y.A)({encodedStoreUuid:pe?.encodedStoreUuid}),{isEditOrder:me,currentUserItemCount:ye,isRepeatGroupOrder:fe}=(0,i.A)(ge),ve=Boolean(O),be=(0,_.jH)(),xe=(0,E.ur)(),{user:Ae}=(0,F.A)(),{isRepeatOrderCartView:$e}=(0,S.A)(),Se=(0,u.zy)(),{cartOpen:Ie}=(0,T.g$k)(Se,["cartOpen"]),_e=(0,M.A)(),Ce=n.useCallback((()=>{if(0===$||J)d();else if(1!==$||$e(I[0])||(0,w.c)(I[0]))ne();else{const e=I[0]?.metadata?.openCheckoutMetadata,t=e?.draftOrderUUID??e?.bundleGroupMetadata?.primaryDraftOrderUUID??B[0];N(t),d()}ie("eats:cart_cta_click",{isMulticart:"true"})}),[$,J,$e,I,ie,d,B,N,ne]),Ye=te||O||R,we=(0,o.useMemo)((()=>I.find((e=>e.draftOrderUUID===Ye||e.metadata?.openCheckoutMetadata?.bundleGroupMetadata?.bundleGroupUUID===Ye))),[I,Ye]),ke=n.useRef(null),De=(0,k.A)(ke),Ee=(()=>{const e=[U,U],t=[U];return X&&re?e:X&&!re?t:we?.storeImageUrls&&we?.storeImageUrls?.length>0?we.storeImageUrls:re&&!X?e:t})(),Le=$>1||ve&&fe,Te=Boolean(ve&&Le),Fe=re?xe:ye;n.useEffect((()=>{ie("eats:multicart_cart_pill",{...re?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})}),[ie,re]),n.useEffect((()=>{Ie&&P.hasLoaded&&("single"===Ie?d():Ce())}),[P.hasLoaded]);const Re=(0,z.A)(s);return(0,H.FD)(V,{ref:oe,$isVisible:!0,children:[(0,H.Y)(h.Ay,{$width:"24px"}),(0,H.Y)(G,{$isOverlapping:t,$isLoading:!P.hasLoaded,$style:Re,children:P.hasLoaded?(0,H.FD)(H.FK,{children:[ve||me?(0,H.Y)(j,{ref:ke,"data-test":"items-button",$isDualButtons:Te,$isLoggedIn:Boolean(Ae.data?.isLoggedIn),$isOnlineOrdering:_e,type:"button",onClick:()=>{N(O||""),d(),ie("eats:cart_cta_click",{isMulticart:"true",...re?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})},children:Ae.data?.isLoggedIn?(0,H.FD)(H.FK,{children:[(0,H.Y)(se,{storeImage:Ee,isHovering:De}),(0,H.Y)(h.Ay,{$width:"8px"}),(0,H.Y)(de,{numCartItems:Fe})]}):(0,H.Y)(ce,{})}):null,ve&&!Le||me?null:(0,H.FD)(H.FK,{children:[Te?(0,H.Y)(Z,{}):null,(0,H.Y)(q,{"data-test":"cart-btn",$isDualButtons:Te,$isOnlineOrdering:_e,"aria-label":ae("multicart.carts"),type:"button",onClick:Ce,children:Ae.data?.isLoggedIn?(0,H.FD)(H.FK,{children:[(0,H.Y)(y.A,{size:20}),(0,H.Y)(h.Ay,{$width:"8px"}),ve?null:(0,H.Y)(le,{totalOrders:$}),Le?(0,H.FD)(H.FK,{children:[ve?null:(0,H.Y)(h.Ay,{$width:"8px"}),(0,H.Y)(f.A,{size:12})]}):null]}):(0,H.Y)(ce,{})}),ue?(0,H.Y)(ee,{$isOverlapping:t,children:(0,H.Y)(C.A,{onCartSelect:(e,t)=>{he(e,t),d()},isMobile:!1})}):null]})]}):(0,H.FD)(Q,{children:[(0,H.Y)(K,{$direction:be}),(0,H.Y)(p.lL,{$width:"80px"}),(0,H.Y)(W,{$direction:be})]})})]})};var he=r(40509),pe=r(95397);const ge=(0,g.I4)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,overflow:"hidden",position:"relative"}))),me=(0,g.I4)("button",(e=>{let{$theme:t,$isOverlapping:r,$isOnlineOrdering:i}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:$.wt,borderRadius:t.borders.pillButtonBorderRadius,boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...i?B({$theme:t}):(0,v.r)({$theme:t}),...t.typography.LabelSmall}})),ye=(0,g.I4)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,whiteSpace:"nowrap"}})),fe=e=>{let{isOverlapping:t}=e;const r=(0,a.A)(),{serverCart:n}=(0,D.B_)(),{toggleSidebarCartVisible:o}=(0,m.lK)(),l=n.data?.items||[],d=(0,R.IF)(l),{isDraftOrderParticipant:c,isBillSplitOrder:u}=(0,i.A)(),p=(0,he.A)(),g=(0,x.Ay)(),f=(0,pe.A)(),v=(0,M.A)();return r&&(!c||p||f&&u)?(0,H.FD)(ge,{$isVisible:!0,children:[(0,H.Y)(h.Ay,{$width:"24px"}),(0,H.FD)(me,{"data-test":"cart-btn",$isOverlapping:t,type:"button","aria-label":"checkout",onClick:()=>{o(),g("eats:cart_cta_click")},$isOnlineOrdering:v,children:[(0,H.Y)(y.A,{size:16}),(0,H.FD)(ye,{children:[(0,H.Y)(s.H,{id:"shared.cart"}),"  ",d]})]})]}):null},ve=e=>{let{isOverlapping:t=!1,floatingMenuOpen:r,handleFloatingMenuOpen:n,size:o}=e;const s=(0,a.A)(),l=(0,he.A)(),{isDraftOrderParticipant:d,isBillSplitOrder:c}=(0,i.A)(),u=(0,pe.A)();return(s||l)&&(!d||l||u&&c)?l?(0,H.Y)(ue,{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:n,size:o}):(0,H.Y)(fe,{isOverlapping:t}):null}},84711:(e,t,r)=>{r.d(t,{A:()=>A});var i=r("__fusion__95b4ba69e5"),a=r(36606),n=r(41967),o=r(91156),s=r(63215),l=r(66371),d=r(85951),c=r(57806),u=r(5592),h=r(8474),p=r(86105),g=r(67205),m=r(12615),y=r(65416),f=r(40014);const v=(0,n.I4)("ul",(e=>{let{$theme:t}=e;return{width:"100%"}})),b=(0,n.I4)("li",(e=>({backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",outline:"none",...e.$showBackground?{":hover":{background:e.$theme.colors.menuFillHover}}:{},transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s",transform:"translateY(0)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}))),x=(e,t,r,i,n,o)=>{switch(e.type){case"sectionTitle":return(0,f.Y)(a.X8,{title:e.title},n);case"text":case"textV2":case"searchText":case"searchTextV2":return(0,f.Y)(a.JB,{item:{title:i,iconType:a.fb.SEARCH,url:r},hasBorder:t});case"searchHistory":case"searchHistoryV2":return(0,f.Y)(a.JB,{item:{title:i,iconType:a.fb.CLOCK,eventData:void 0,url:r},hasBorder:t},n);case"store":case"croStore":return(0,f.Y)(s.A,{store:e.store,hasBorder:t,url:r,position:n,onClick:o});case"popularCategory":return(0,f.Y)(a.JB,{item:{title:i,url:r,iconType:a.fb.CATEGORY},hasBorder:t},n);default:return null}},A=e=>{const{stopTiming:t}=(0,l.zR)(),r=(0,p.zy)(),a=(0,m.A)(),{vertical:n}=(0,h.g$k)(r,["vertical"]),s=(0,y.d4)((e=>{let{multiVertical:t}=e;return t.verticalList})),A=(0,c.Ie)(),$=(0,o.Ay)();return i.useEffect((()=>{e.suggestions.length>0&&t(d.s.SEARCH_SUGGESTION_LOAD_EVENT_NAME,{shouldEmitTiming:!0})}),[e.suggestions,t]),(0,f.Y)(v,{...e.getMenuProps(),"data-testid":"search-suggestions-list",children:e.suggestions.map(((t,i)=>{const o=i<e.suggestions.length-1,l=e.getSuggestionAction(t),d=t.title||"";return(0,f.Y)(b,{...e.getItemProps({index:i,disabled:"sectionTitle"===t.type}),onClick:()=>{"text"===t.type||"store"===t.type?$("eats:search_auto_suggest_selected",{searchEntered:e.query,searchTerm:t.title,storeUuid:t.store?.uuid||"",vertical:n||g.h0,position:String(i??-1)}):"searchText"===t.type&&$("eats:search_term_by_keyboard",{searchTerm:t.title,vertical:n||g.h0,verticalList:s.map((e=>e.verticalType)).join(",")});["text","textV2","searchText","searchTextV2"].includes(t.type)&&$("eats:search_term",{searchTerm:t.title,eventSource:t.type,vertical:n||g.h0,verticalList:s.map((e=>e.verticalType)).join(",")}),$("eats:search_end",{userQuery:t.title,page:r.pathname,hasDeliveryLocation:Boolean(a),eventSource:"auto_suggest",searchType:"suggestion",mvsMeta:{verticalList:s.map((e=>e.verticalType)).join(","),selectedVertical:n||g.h0}}),e.onItemClick&&e.onItemClick(t,i)},$showBackground:"sectionTitle"!==t.type,"data-testid":`search-suggestion-result-${t.type}`,children:x(t,o,l,d,i,(()=>{if(t.store?.storeAd){const e=t.store.storeAd;A("ads:ads_click",{adsAnalyticsEvent:{adEventType:u.S.CLICK,adImpressionUUID:e.impressionId??"",adData:e.adData??"",rank:i}})}}))},i)}))})}},86377:(e,t,r)=>{r.d(t,{A:()=>j});var i=r(90417),a=r(66764),n=r(50371),o=r(85830),s=r(41967),l=r(89864),d=r(17649),c=r(97760),u=r(78275),h=r(96970),p=r(23977),g=r(40014);const m=(0,s.I4)("div",(e=>{let{$theme:t,$shouldStick:r}=e;return{...t.typography.LabelMedium,opacity:r?1:0,transition:`opacity ${t.animation.timing300} ease`}})),y=(0,s.I4)("div",(()=>({position:"sticky",top:0,zIndex:1}))),f=(0,s.I4)("div",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{margin:`0 -${t.sizing.scale600}`,...r?{padding:`${t.sizing.scale700} ${t.sizing.scale800} 0 ${t.sizing.scale300}`,marginBottom:`-${t.sizing.scale600}`}:{padding:`0 ${t.sizing.scale800} 0 ${t.sizing.scale300}`,minHeight:t.sizing.scale1400},backgroundColor:t.colors.backgroundPrimary,display:"flex",justifyContent:"space-between",alignItems:"center"}})),v=e=>{const{isCartDrafting:t}=(0,u.A)();return t?(0,g.Y)(y,{children:e.children}):(0,g.Y)("div",{children:e.children})},b=(0,s.I4)(c.A,{position:"static"}),x=e=>{const{isCartDrafting:t}=(0,u.A)(),[,r]=(0,s.c6)(),{isLiveOrder:i}=(0,p.G)();return(0,g.Y)(v,{children:(0,g.FD)(f,{$isCartDrafting:t,children:[(0,g.Y)(b,{onClick:e.onClose,$noBackground:t,iconSize:t?r.sizing.scale800:void 0}),t&&e.store.hasLoaded&&e.store.data?(0,g.Y)(m,{$shouldStick:e.shouldStick,children:e.store.data.title}):null,i?null:(0,g.Y)(g.FK,{children:t&&e.store.hasLoaded&&e.store.data?(0,g.Y)(h.A,{store:e.store.data,onClearCart:e.onClose}):null})]})})};var A=r(41908),$=r(71715),S=r(38494),I=r(7903),_=r(78838),C=r(54246),Y=r(57778),w=r(92448),k=r(93736),D=r(83635),E=r(31444),L=r(49960),T=r(51378),F=r(71085),R=r(53419),z=r(75880),O=r(91156),P=r(9639),B=r(26118),M=r(1359),H=r(39182),N=r(31725),U=r(61925),V=r(76022),G=r(64893),Q=r(61281),K=r(57674);const W=(0,s.I4)("div",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:t.sizing.scale600,...r?{":first-child > :is(div)":{margin:`0 ${t.sizing.scale600}`},":first-child > :is(ul)":{marginTop:0,marginLeft:t.sizing.scale600,marginBottom:-t.sizing.scale600,marginRight:t.sizing.scale600}}:{":first-child > :is(div, ul)":{margin:`0 ${t.sizing.scale600}`}}}})),q=(0,s.I4)("span",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),j=e=>{let{startShoppingRedirect:t}=e;const r=(0,n.W6)(),s=(0,w.A)(),c=(0,n.g)(),h=(0,F.A)({encodedStoreUuid:c?.encodedStoreUuid}),[p,m]=(0,Q.Ay)({root:null,rootMargin:"0px 0px 0px 0px",threshold:1}),{isGroupOrder:y,isBundledOrder:f}=(0,A.tC)(),v=Boolean(m&&!m.isIntersecting),{sidebarCartVisible:b,sidebarCartIn:j,sidebarCartClosing:X,closeSidebarCart:J}=(0,l.lK)({transitionMS:500}),{hasGroupOrder:Z,isDraftOrderCreator:ee,storeUuid:te,isDraftOrderCartLocked:re,creatorName:ie,isEditOrder:ae}=(0,d.A)(),{isLiveOrder:ne,liveOrderStoreUuid:oe}=(0,K.A)(),se=ne?oe:te,{store:le}=(0,V.A)({storeUuid:se}),{serverCart:de}=(0,A.B_)(),{hasCartToLoad:ce}=(0,U.A)(),{totalOrders:ue,setActiveDraftOrder:he,activeDraftOrderUUID:pe,currentStoreDraftOrderUUID:ge}=(0,$.A)(),me=(0,R.A)(),ye=Boolean(me),{isManagingGroupOrder:fe}=(0,D.A)(),ve=(0,O.Ay)(),be=0===ue&&!ae&&!ce&&!de.isLoading,xe=!b&&!j,Ae=(0,N.A)("canonical_product_smart_cart"),{isCartDrafting:$e}=(0,u.A)();return(0,B.A)(!xe),(0,S.A)(b),(0,z.A)({cartOpen:b&&j,store:le,draftOrder:de}),(0,i.useEffect)((()=>{X&&pe&&ge&&he(ge||"")}),[X,ge,he,pe,h]),xe?null:(0,g.Y)(L.A,{messageKey:"cart-drawer",children:(0,g.Y)(M.Ay,{zIndex:H.IQ.cover,children:(0,g.Y)(o.A,{isOpen:b&&j,onClose:J,overrides:{Close:{style:{display:"none"}},DrawerContainer:{style:{width:"478px"}},DrawerBody:{style:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}}},children:fe?(0,g.Y)(E.A,{}):(0,g.FD)(W,{$isCartDrafting:$e,"data-test":"cart",children:[(0,g.Y)(x,{shouldStick:!y&&!f&&v,store:le,onClose:()=>{J(),ve("eats:close_cart_cta")}}),be?(0,g.Y)(Y.A,{onClick:()=>{J(),t&&r.push(s),ve("eats:start_shopping_cta_click")}}):(0,g.Y)(I.A,{store:le,isLiveOrder:ne,draftOrder:de,loaded:(e,t)=>(0,g.FD)(g.FK,{children:[(0,g.FD)("div",{children:[re?(0,g.Y)(_.Y,{children:(0,g.Y)(q,{children:ee?(0,g.Y)(a.H,{id:"go.unlock_cart_warning_text_2"}):(0,g.Y)(a.H,{id:"go.creator_order_locked_description",data:{creatorName:ie}})})}):null,ne?null:(0,g.FD)(g.FK,{children:[(0,g.Y)("div",{ref:p}),(0,g.Y)(k.A,{store:e,onCartClose:J,onClearCart:J,cartActionsType:"dropdown"})]})]}),Ae?(0,g.Y)(P.C,{defaultSelectedStoreUuid:e.uuid}):null,(0,g.FD)(g.FK,{children:[ye?(0,g.Y)(T.D,{$spaceBefore:24}):null,(0,g.Y)(C.A,{})]}),(0,g.Y)(G.A,{hasGroupOrder:Z,store:e,isMobile:!1,quantitySelectType:$e?"stepper":"picker",isLiveOrder:ne})]})})]})})})})}},86467:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(90417);function a(){const[e,t]=(0,i.useState)(null),r=(0,i.useCallback)((r=>{if(r){const i=r.getBoundingClientRect();e&&e?.height===i.height&&e?.width===i.width||t(i)}}),[e]);return[e,r]}},86652:(e,t,r)=>{r.d(t,{A:()=>$});var i=r(8474),a=r(66764),n=r(44580),o=r(73939),s=r(57716),l=r(2693),d=r(84183),c=r(39996),u=r(41089),h=r(41967),p=r(89831),g=r(17649),m=r(40509),y=r(45646),f=r(91156),v=r(86105),b=r(40014);const x=(0,h.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),A=e=>{const t=(0,v.zy)(),r=(0,f.Ay)(),d={...e.authOnClick?{onClick:t=>{r("eats:start_group_order_button"),e.authOnClick&&e.authOnClick(t)}}:{...e.beforeNavigate?{onClick:()=>{r("eats:start_group_order_button"),e.beforeNavigate&&e.beforeNavigate()}}:null,to:e.store.data?(0,i.xCk)(t,(0,i.oLA)(e.store.data)):""},...e.href?{href:e.href}:null,...e.href&&e.authOnClick?{$as:"a"}:{$as:s.N_}};return(0,b.FD)(b.FK,{children:[(0,b.Y)(n.Ay,{$height:24}),(0,b.FD)(o.BM,{...d,children:[(0,b.Y)(u.A,{size:16}),(0,b.Y)(l.VX,{}),(0,b.Y)(x,{children:(0,b.Y)(a.H,{id:"components.checkout.group_order"})})]})]})},$=e=>{const{user:t}=(0,d.A)(),r=(0,v.zy)(),a=(0,p.wA)(),n=(0,m.A)(),{deliveryAddress:o,deliveryTime:s,storeUuid:l,diningMode:u,isEditOrder:h}=(0,g.A)();return h?null:!t.data?.isLoggedIn&&e.store.data?(0,b.Y)(c.A,{type:"login",redirectTo:(0,i.xCk)(r,(0,i.oLA)(e.store.data)),children:t=>{let{onClick:r,href:i}=t;return(0,b.Y)(A,{store:e.store,authOnClick:r,href:i})}}):(0,b.Y)(A,{store:e.store,...n&&l?{beforeNavigate:()=>{a((0,y.RX)(l,{...s?{storeScheduledTime:s}:{},...o?{storeDeliveryLocation:o}:{},...u?{storeDiningMode:u}:{}}))}}:{}})}},86783:(e,t,r)=>{r.d(t,{A:()=>y});var i=r(4037),a=r(60331),n=r(57426),o=r(77253),s=r(67319);const l={[o.LJ.PILL]:n.IW.pill,[o.LJ.RECTANGLE]:n.IW.rectangle};const d={[o.Lk.PRIMARY]:n._U.primary,[o.Lk.SECONDARY]:n._U.secondary};const c={[o.O8.POSITIVE]:n.o$.positive,[o.O8.ACCENT]:n.o$.accent,[o.O8.NEGATIVE]:n.o$.negative,[o.O8.WARNING]:n.o$.warning};var u=r(37156),h=r(2693),p=r(41967),g=r(36874),m=r(40014);function y(e){let{viewModel:t}=e;const{content:r,hierarchy:o,color:y,shape:f,accessibilityText:v}=t,[b,x]=(0,p.c6)(),A=function(e){return e&&l[e]||n.IW.rectangle}(f),$=function(e){return e&&d[e]||n._U.primary}(o);let S=null;"standard"===y?.type&&(S=y.standard);const I=function(e){return e&&c[e]||n.o$.accent}(S),_=function(e,t){let r={};if("custom"===e?.type){const i=e&&"custom"in e?e.custom:null,a=(0,s.oU)(i?.contentColor),n=(0,s.oU)(i?.backgroundColor);r={color:t?.colors[`${a}`],backgroundColor:t?.colors[`${n}`]}}return r}(y,x),C={Badge:{style:{..._,maxWidth:"100%",width:"fit-content"}}};let Y=null;switch(r.type){case"richText":{const e=(0,g.xR)(r.richText),t=(0,s.oU)(e);Y=(0,m.Y)("span",{className:b({maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",...t?{color:x.colors[t]}:null}),children:(0,m.Y)(a.Ay,{text:r.richText,whiteSpace:"nowrap"})});break}case"standard":{const e=r.standard.iconContent?.icon?{richIllustration:{illustration:{type:"icon",icon:{icon:r.standard.iconContent.icon,dimensions:{width:{type:"pointValue",pointValue:12},height:{type:"pointValue",pointValue:12}}}},accessibilityText:r.standard.iconContent?.accessibilityText||""}}:{richIllustration:null};Y=(0,m.FD)(m.FK,{children:["LEADING"===r.standard.iconContent?.iconLayout?(0,m.FD)(m.FK,{children:[(0,m.Y)(u.xe,{...e}),(0,m.Y)(h.hl,{})]}):null,r.standard.title,"TRAILING"===r.standard.iconContent?.iconLayout?(0,m.FD)(m.FK,{children:[(0,m.Y)(h.hl,{}),(0,m.Y)(u.xe,{...e})]}):null]});break}default:return null}return(0,m.Y)(i.Ex,{color:I,shape:A,hierarchy:$,content:Y,overrides:C,...v?{"aria-label":v}:{}})}},88158:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(90417),a=r(39155),n=r(40014);function o(e,t){return(0,n.Y)(a.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.Y)("path",{d:"M18 7V2H6v5H1v15h22V7h-5zm-3 0H9V5h6v2z"})})}const s=i.forwardRef(o)},88303:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(66764),a=r(87731),n=r(56489),o=r(40014);const s=e=>{const t=(0,a.A)(),r={date:(0,n.Yq)(t,e.date),startTime:(0,n.Ku)(t,e.startTime),endTime:(0,n.Ku)(t,e.endTime)};return"shared.scheduledFor.dateAndTimeRange"===e.translationKey?(0,o.Y)(i.H,{id:"shared.scheduledFor.dateAndTimeRange",data:r}):"shared.scheduledDeliveryTime.dateAndTimeRange"===e.translationKey?(0,o.Y)(i.H,{id:"shared.scheduledDeliveryTime.dateAndTimeRange",data:r}):"shared.scheduledPickupTime.dateAndTimeRange"===e.translationKey?(0,o.Y)(i.H,{id:"shared.scheduledPickupTime.dateAndTimeRange",data:r}):(0,o.Y)(i.H,{id:"shared.dateAndTimeRange",data:r})}},90033:(e,t,r)=>{r.d(t,{A:()=>c});var i=r(90417),a=r(4914),n=r(75868),o=r(79221),s=r(1160),l=r(84183),d=r(29515);const c=e=>{const t=(0,a.c)(),{fetchLocations:r,handleLocationSelected:c,areLocationDetailsLoading:u,placeholder:h}=(0,n.A)({onLocationSelected:e.onLocationSelected}),{user:p}=(0,l.A)(),g=(0,s.A)("getDeliveryLocationsV2"),m=i.useCallback((async()=>{const e=await g({locationTypes:["SUGGESTED"]});return(0,d.NX)(e?.deliveryLocations?.SUGGESTED||[])}),[g]),y=t=>t.isTaggedLocation?(e.onLocationSelected(t.address),Promise.resolve()):c(t),f=(e,t)=>{const r=t?.[0];r&&y(r)},v=i.useCallback((e=>{let{results:r,query:i}=e;return 0===r.length?i?t("components.DeliveryLocationSearch.noResults"):"":i?t("components.MarketplaceSearch.resultsDescription",{numResults:r.length,searchTerm:i}):t("shared.searchResultsCount",{resultsCount:r.length})}),[]),{query:b,results:x,getLabelProps:A,getInputProps:$,getMenuProps:S,getItemProps:I,reset:_,highlightedIndex:C,isOpen:Y,openMenu:w}=(0,o.A)({id:`location-typeahead-${e.id}`,initialQuery:e.initialQuery,fetchResults:e=>p.data?.isLoggedIn&&0===e.length?m():r(e),onResultSelected:y,getQueryFromResult:e=>e?e.isTaggedLocation?e.address.address.address1:e?.addressLine1||"":"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:f,getA11yStatusMessage:v});return{query:b,locations:x,getLabelProps:A,getInputProps:$,getMenuProps:S,getItemProps:I,reset:_,highlightedIndex:C,placeholder:h,isLoading:u||x.isLoading,showTryAgainMessage:Boolean(b&&x.hasLoaded&&x.data&&0===x.data.length),isOpen:Y,openMenu:w,onSubmitWithNoSelectedResult:f}}},91248:(e,t,r)=>{r.d(t,{N:()=>i});const i=e=>{let t=0;for(const r of e)"store"!==r.type&&"searchHistory"!==r.type||t++;return t}},92332:(e,t,r)=>{r.d(t,{A:()=>b});var i=r(90417),a=r(89831),n=r(86105),o=r(36606),s=r(8474),l=r(63215),d=r(5330),c=r(91156),u=r(12615),h=r(41519),p=r(2692),g=r(56074),m=r(82235),y=r(85951),f=r(66371);var v=r(40014);const b=e=>{const{searchHomeResults:t=[],sections:r=[],verticalList:b,selectedVertical:x}=e,A=(0,n.zy)(),$=(0,a.wA)(),S=(0,c.Ay)(),I=(0,u.A)(),{startTiming:_}=(0,f.zR)(),C=(0,h.A)(),{vertical:Y,userQuery:w}=(0,s.g$k)(A,["vertical","userQuery"]),k=JSON.stringify(b.map((e=>e.verticalType))),D=(e,r)=>({itemPosition:r,title:e.titleTerm,type:e.type,sectionItemsCount:t.length-1,sectionPosition:0,sectionTitle:e.type});i.useEffect((()=>{$((0,d.GK)(b))}),[$,b]);const E=(t,r)=>{_(y.s.SEARCH_FEED_LOAD_EVENT_NAME),"topCategory"===t?.type?(S("eats:search_category",{searchTerm:t?.title,vertical:x}),S("eats:search_term",{searchTerm:t?.title,eventSource:t?.type||"",vertical:x,verticalList:b.map((e=>e.verticalType)).join(",")})):S("eats:search_term",{searchTerm:t?.title,eventSource:t?.type||"",vertical:x,verticalList:b.map((e=>e.verticalType)).join(",")}),S("eats:search_end",{userQuery:t?.title,page:A.pathname,hasDeliveryLocation:Boolean(I),eventSource:t?.type||"",searchType:"suggestion",mvsMeta:{verticalList:b.map((e=>e.verticalType)).join(","),selectedVertical:x}}),e.onItemClick&&e.onItemClick(t,r)};return(0,m.A)(y.s.SEARCH_HOME_LOAD_EVENT_NAME),(0,v.Y)(v.FK,{children:t.map(((e,i)=>{const a=i<t.length-1,n=(0,g.YD)(e,A,I,C,x),s=`${e.title}-${i}`,d=(e=>{switch(e){case"popularCategory":case"topCategory":case"category":return"CATEGORY";case"textV2":case"text":return"TEXT";case"searchTextV2":case"searchText":return"SEARCH_TEXT";case"store":return"STORE";case"searchHistoryV2":case"searchHistory":return"SEARCH_HISTORY";case"sectionTitle":return"SECTION_TITLE";case"verticalText":return"VERTICAL_TEXT";default:return"UNKNOWN"}})(e.type),c={postion:i,searchTerm:e.title,suggestionType:d,multiVerticalPayload:{verticalList:k,verticalListV2:k,selectedVertical:Y,selectedVerticalV2:Y,type:"TAB",surface:w?.trim()?"SEARCH_SUGGESTIONS":"ZERO_STATE",searchTermText:e.title}};switch(e.type){case"sectionTitle":return(0,v.Y)(o.X8,{title:e.title,analyticsPayload:c},s);case"searchHistory":case"searchHistoryV2":return(0,v.Y)(o.JB,{onClick:()=>{E(t[i],i)},item:{title:e.title||"",url:n,iconType:o.fb.CLOCK,eventData:r.length?D(e,i):void 0},hasBorder:a,analyticsPayload:c},s);case"popularCategory":case"topCategory":return(0,v.Y)(o.JB,{onClick:()=>{E(t[i],i)},item:{title:e.title||"",url:n,iconType:o.fb.CATEGORY,iconUrl:e.iconUrl},hasBorder:a,analyticsPayload:c},s);case"searchText":return(0,v.Y)(o.JB,{onClick:()=>{E(t[i],i)},item:{title:e.title,iconType:o.fb.SEARCH,url:n},hasBorder:a,analyticsPayload:c},s);case"store":return(0,v.Y)(v.FK,{children:e.store?(0,v.Y)(l.A,{store:e.store,hasBorder:a,url:(0,p.s)(e.store,C,A),analyticsPayload:c},s):null});default:return null}}))})}},92634:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(12615);function a(){const e=(0,i.A)();return"apple_maps_store_inherit"===e?.originType}},94541:(e,t,r)=>{r.d(t,{A:()=>D});var i=r(41967),a=r(66764),n=r(2693),o=r(75344),s=r(39182),l=r(88158),d=r("__fusion__9cb4ad6bd0"),c=r(75013),u=r(81464),h=r(30640),p=r(23840),g=r(67319),m=r(40014);const y=(0,i.I4)("li",(e=>{let{$theme:t,$isHighlighted:r,$size:i}=e;return{backgroundColor:r?t.colors.menuFillHover:"transparent",padding:"mini"===i?t.sizing.scale500:t.sizing.scale600,display:"flex",cursor:"pointer",transition:s.bm.itemBackground,outline:"none",":hover":{background:t.colors.menuFillHover}}})),f=(0,i._F)(y,{position:"relative"}),v=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{position:"absolute",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",backgroundColor:(0,g.jv)(t.colors.backgroundPrimary,.5)}})),b=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale900,height:t.sizing.scale900,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:t.colors.backgroundSecondary,alignSelf:"start",borderRadius:"50%"}})),x=(0,i.I4)("div",{alignSelf:"start"}),A=(0,i.I4)("div",{minWidth:0}),$=(0,i.I4)("div",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.ParagraphSmall:t.typography.ParagraphMedium,color:t.colors.contentPrimary,textOverflow:"ellipsis",overflow:"hidden"}})),S=(0,i.I4)("div",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.ParagraphXSmall:t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),I=e=>(0,m.FD)(y,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),$size:e.size,"data-testid":"location-result",children:[(0,m.Y)(x,{children:(0,m.Y)(o.A,{type:"Pin",background:!0})}),(0,m.Y)(n.Ay,{$width:"8px"}),(0,m.FD)(A,{children:[(0,m.Y)($,{$size:e.size,children:e.location.addressLine1}),(0,m.Y)(S,{$size:e.size,children:e.location.addressLine2})]})]}),_=e=>(0,m.FD)(y,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),"data-testid":"location-result-tagged",children:[(0,m.FD)(x,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,m.Y)(l.A,{..."mini"===e.size?{size:20}:{}}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,m.Y)(o.A,{type:"home"===e.taggedLocation.tag?"Home":"Time",background:!0,..."mini"===e.size?{width:20,height:20}:{}}):null]}),(0,m.Y)(n.Ay,{$width:"8px"}),(0,m.FD)(A,{children:[(0,m.Y)($,{$size:e.size,children:e.taggedLocation.address.address.title}),(0,m.Y)(S,{$size:e.size,children:e.taggedLocation.address.address.subtitle}),e.taggedLocation.interactionString&&e.taggedLocation.instructionNotes?(0,m.Y)(S,{$size:e.size,children:(0,m.Y)(a.H,{id:"shared.taggedLocationInstructions",data:{interaction:e.taggedLocation.interactionString,notes:e.taggedLocation.instructionNotes}})}):(0,m.Y)(S,{$size:e.size,children:e.taggedLocation.interactionString||e.taggedLocation.instructionNotes})]})]}),C=e=>{const{onAllowLocation:t,loading:r}=(0,c.A)(),i=(0,u.A)({eventName:"eats:share_location_inline_impression"});return(0,m.FD)(f,{$isHighlighted:!1,$size:e.size,"data-testid":"location-geolocation-request",ref:i,onClick:r?void 0:t,children:[r?(0,m.Y)(v,{children:(0,m.Y)(h.y,{$size:p.S.small})}):null,(0,m.Y)(b,{children:(0,m.Y)(d.default,{size:20})}),(0,m.Y)(n.Ay,{$width:"8px"}),(0,m.FD)(A,{children:[(0,m.Y)($,{$size:e.size,children:(0,m.Y)(a.H,{id:"components.location_manager.allow_location_item_title"})}),(0,m.Y)(S,{$size:e.size,children:(0,m.Y)(a.H,{id:"components.location_manager.allow_location_item_subtitle"})})]})]})},Y=(0,i.I4)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"16px"}})),w=e=>{let{getItemProps:t}=e;return(0,m.Y)(Y,{...t({index:0}),children:(0,m.Y)(a.H,{id:"shared.hmmCantFindThisAddress"})})},k=(0,i.I4)("ul",(e=>{let{$hasResults:t,$theme:r,$size:i}=e;return{background:r.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:s.IQ.foreground,boxShadow:r.shadows.box,...t?{paddingBottom:"8px"}:{},..."mini"===i?{borderRadius:r.borders.inputBorderRadiusMini,marginTop:r.sizing.scale300}:{}}})),D=e=>{let t=null,r=!1;return e.isOpen&&(e.showTryAgainMessage?t=[(0,m.Y)(w,{getItemProps:e.getItemProps},"try-again-message")]:(t=e.locations.map(((t,r)=>"isTaggedLocation"in t&&t.isTaggedLocation?(0,m.Y)(_,{index:r,taggedLocation:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex,size:e.size},r):"isTaggedLocation"in t?void 0:(0,m.Y)(I,{index:r,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex,size:e.size},r))),r=e.locations.length>0),e.addLocationRequestItem&&(t=[(0,m.Y)(C,{size:e.size},"location-request"),...t])),(0,m.Y)(k,{...e.getMenuProps(),$hasResults:r,$size:e.size,"data-testid":"location-typeahead-results",children:t})}},99940:(e,t,r)=>{r.d(t,{A:()=>Ee});var i=r(79193),a=r(90417),n=r(57716),o=r(50371),s=r(8301),l=r(66764),d=r(41967),c=r(89864),u=r(17649),h=r(66039),p=r(16144),g=r(70553),m=r(44580),y=r(76022),f=r(39182),v=r(46692),b=r(21725),x=r(63281),A=r(8474),$=r(73939),S=r(2693),I=r(75344),_=r(91156),C=r(40509),Y=r(28167),w=r(8700),k=r(4914),D=r(40014);const E=(0,d._F)($.BM,{padding:"0px 12px 0 8px"}),L=(0,d.I4)("div",(e=>{let{$theme:t}=e;return t.typography.LabelSmall})),T=e=>{const t=(0,k.c)(),r=(0,C.A)(),i=(0,_.Ay)(),a=(0,Y.A)(),{deliveryAddress:o,deliveryTime:s,diningMode:d,storeUuid:c}=(0,u.A)(),{getStore:h}=(0,w.Ay)(c,{deliveryAddress:o,deliveryTime:s,diningMode:d}),{restaurantLink:p}=(0,y.A)({storeUuid:c});return p?(0,D.FD)(E,{"aria-label":t("shared.addItems"),"data-testid":"add-items-mini-button",$as:n.N_,to:p,onClick:()=>{r&&(a(),h()),i("eats:click_store_link",{source:e.source,...r?{activePreferenceType:"draft_order"}:{}}),e.onClick&&e.onClick()},children:[(0,D.Y)(I.A,{type:"PlusSmall"}),(0,D.Y)(S.hl,{}),(0,D.Y)(L,{children:(0,D.Y)(l.H,{id:"shared.addItems"})})]}):null};var F=r(86652),R=r(41908),z=r(29077),O=r(5204),P=r(54444),B=r(63577);const M=(0,d.I4)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}})),H=(0,d.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,marginTop:"16px",textAlign:"center"}})),N=()=>(0,D.FD)(M,{children:[(0,D.Y)(B.A,{size:44,color:"contentInverseTertiary"}),(0,D.Y)(H,{children:(0,D.Y)(l.H,{id:"shared.emptycartmessage"})})]});var U=r(41089),V=r(78838),G=r(63887),Q=r(61521),K=r(13399),W=r(51378),q=r(53419),j=r(71085),X=r(2111),J=r(95397),Z=r(86105),ee=r(9639),te=r(39027),re=r(51125);const ie=e=>{let{completionPercentage:t}=e;return(0,D.Y)(re.A,{value:t,overrides:{Bar:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.white}}},BarProgress:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.positive}}},BarContainer:{style:e=>{let{$theme:t}=e;return{margin:"0px !important"}}}}})};var ae=r(73084),ne=r(40304),oe=r(87731),se=r(84183),le=r(32879),de=r(75511),ce=r(68252);const ue="control",he="treatment_1",pe="treatment_2",ge={[ue]:ue,[he]:"sticky_banner",[pe]:"sticky_progress_bar"},me=e=>{const t=(0,ne.KU)(),{hasActiveUberOne:r}=(0,se.A)(),i=e.currencyCode||"",{subtotal:n}=(0,le.Ay)(["subtotal"]).checkoutPayloads,o=(Number(n?.subtotal?.value?.amountE5)||0)/1e3,s=(0,oe.A)(),l=(0,k.c)(),d=Array.isArray(e.promoTrackings)&&e.promoTrackings.find((e=>"FLAT"===e?.discountInfo?.promoType))||null,c=Boolean(d),u=(0,_.Ay)();return(0,a.useMemo)((()=>{if(r||!c)return{treatmentValue:ue};const e=t.getString({...ce.G.dynamic_promo_messaging,defaultValue:ue});if(u("eats:eats_web_cro_dynamic_promo_messaging_cart_inclusion",{param_name:ce.G.dynamic_promo_messaging.key,param_value:e,variant:ge[e]}),![he,pe].includes(e))return{treatmentValue:ue};const a=d?(0,de.r)(d,i,o,s):null,n=d?.minBasketSizeConstraintInDecimal||0,h=n-o,p=(n-h)/n*100,g=Boolean(a&&a.key.includes("_EARNED")),m=a?g?l("checkout.promo.flat.earned",{x:a?.data.x}):l("checkout.promo.flat.unearned",{x:a?.data.x,y:a?.data.y}):"";return u("eats:eats_web_cro_dynamic_promo_messaging_cart_details",{param_name:ce.G.dynamic_promo_messaging.key,param_value:e,variant:ge[e],amount:String(h),currencyCode:i}),{treatmentValue:e,hasValidPromo:c,promoGoalReached:g,promoProgress:p,calculatedPromo:m}}),[u,r,c,t,o,d,i,s,l])},ye=(0,d.I4)("div",(e=>{let{$theme:t,$goalReached:r}=e;return{display:"flex",alignItems:"center",backgroundColor:r?t.colors.backgroundPositive:t.colors.backgroundPositiveLight,margin:`-${t.sizing.scale800} -${t.sizing.scale800} ${t.sizing.scale600} -${t.sizing.scale800}`,padding:`${t.sizing.scale500} ${t.sizing.scale800}`,gap:t.sizing.scale600,...t.borders.border300}})),fe=(0,d.I4)(ae.A,(e=>{let{$theme:t,$goalReached:r}=e;return{...r?{fill:t.colors.contentOnColor}:{}}})),ve=(0,d.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",flexGrow:1,gap:t.sizing.scale500}})),be=e=>{let{store:t}=e;const{hasValidPromo:r,treatmentValue:i,calculatedPromo:a,promoProgress:n,promoGoalReached:o}=me(t);return[he,pe].includes(i)&&r?(0,D.FD)(ye,{$goalReached:o,children:[(0,D.Y)(fe,{$goalReached:o}),(0,D.FD)(ve,{children:[(0,D.Y)(te.w_,{color:o?"contentOnColor":"",children:a}),o||i!==pe?null:(0,D.Y)(ie,{completionPercentage:n})]})]}):null};var xe=r(31725),Ae=r(56554),$e=r(36106);const Se=(0,d.I4)("div",(e=>{let{$theme:t,$isClosing:r}=e;return{position:"fixed",top:"62px",right:"82px",width:"432px",zIndex:f.IQ.modal,background:t.colors.backgroundPrimary,boxShadow:t.shadows.box,transition:"opacity 500ms",opacity:r?0:1,color:t.colors.contentPrimary}})),Ie=(0,d.I4)("div",{maxHeight:"calc(100vh - 150px)",overflowY:"scroll"}),_e=(0,d.I4)("div",{padding:"0 24px"}),Ce=(0,d.I4)("div",{paddingTop:"16px",display:"flex"}),Ye=(0,d.I4)("div",(e=>e.$theme.typography.DisplayXSmall)),we=(0,d.I4)(n.N_,(e=>({...e.$theme.typography.ParagraphSmall,color:e.$theme.colors.contentSecondary}))),ke=(0,d.I4)("div",{display:"flex",alignItems:"center"}),De=(0,d.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"inline"}})),Ee=()=>{const e=(0,Z.zy)(),t=s.parse(e.search)[A.Q71.cartDisplay],[r,n]=(0,a.useState)(!1),{cartRef:d,sidebarCartVisible:f,sidebarCartClosing:$,openSidebarCart:I,closeSidebarCart:C,hideSidebarCart:Y}=(0,c.lK)({transitionMS:500}),{isDraftOrderCreator:k,isDraftOrderParticipant:E,hasGroupOrder:L,isDraftOrderCartLocked:B,isBillSplitOrder:M,orderDisplayName:H}=(0,u.A)(),{title:te,storeTitle:re,restaurantLink:ie,restaurantLinkNode:ae}=(0,y.A)(),{elementRef:ne,isStuck:oe}=(0,b.A)(),se=(0,a.useRef)(null),{serverCart:le}=(0,R.B_)(),de=le.data?.storeUuid,{store:ce}=(0,w.Ay)(de),ue=(0,O.A)(),he=(0,Z.g)(),pe=(0,j.A)({encodedStoreUuid:he.encodedStoreUuid}),ge=(0,o.W6)(),me=(0,q.A)(),ye=Boolean(me),fe="postmates"===ue,ve=(0,_.Ay)(),{isDelegatedBooking:Ee}=(0,Ae.G)(),Le=!le.data?.items.length,{guestCheckoutEnabled:Te}=(0,Q.A)(),Fe=(0,K.N)(),Re=(0,X.DW)(),ze=(0,xe.A)("canonical_product_smart_cart");(0,a.useEffect)((()=>{if(t){clearTimeout(se.current??void 0),I();const e=setTimeout((()=>{n(!0)}),300);return()=>{clearTimeout(e)}}n(!0)}),[t,I]),(0,a.useEffect)((()=>{if("undefined"==typeof i.A||$)return;const e=()=>{r&&!$&&C()};return i.A&&i.A.addEventListener("scroll",e),()=>{i.A&&i.A.removeEventListener("scroll",e)}}),[r,C,$]),(0,a.useEffect)((()=>Y),[Y]);const Oe=(0,J.A)();(0,a.useEffect)((()=>{f&&ve("eats:cart_view",{storeUuid:String(ce.data?.uuid),cartView:Re,isDelegatedBooking:String(Ee)})}),[f,ve]);const{currentCartIsSmartCart:Pe}=(0,$e.T)(),Be=Pe&&ze;return f&&(!E||Oe&&M)?(0,D.Y)(Se,{ref:d,$isClosing:$,children:(0,D.FD)(Ie,{"data-test":"cart",children:[k&&B?(0,D.Y)(V.Y,{children:(0,D.Y)(De,{children:(0,D.Y)(l.H,{id:"go.unlock_cart_warning_text_2"})})}):null,(0,D.Y)(x.A,{hasCloseButton:!0,headerRef:ne,isStuck:oe,onClose:C,title:L&&H||re,...k?{topRightIconButton:{icon:(0,D.Y)(U.A,{color:"black"}),onClick:()=>ge.push((0,A.Zyy)(e,"shareGroupOrder"))}}:{}}),Le&&!k?(0,D.Y)(N,{}):(0,D.FD)(_e,{children:[(0,D.Y)(m.Ay,{$height:24}),(0,D.Y)(Ye,{"data-test":"cart-header",children:k||Be?te:re}),ze?(0,D.Y)(ee.C,{defaultSelectedStoreUuid:de}):null,k?(0,D.FD)(D.FK,{children:[(0,D.Y)(m.Ay,{$height:16}),(0,D.FD)(ke,{children:[(0,D.Y)(we,{to:ie,onClick:()=>{ve("eats:click_store_link",{source:"cart"})},children:ae}),(0,D.Y)(z.A,{})]})]}):null,(0,D.Y)(Ce,{children:(0,D.FD)(P.A,{separator:S.VX,children:[k||pe===de?null:(0,D.Y)(T,{source:"cart"}),L||ce.data?.isGroupOrderingDisabled||fe||Te||Fe?null:(0,D.Y)(F.A,{store:ce})]})}),ye?(0,D.Y)(W.D,{$spaceBefore:32}):(0,D.Y)(m.Ay,{$height:16}),k||Oe&&M?(0,D.FD)(D.FK,{children:[(0,D.Y)(G.A,{gutterWidth:24}),(0,D.Y)(h.A,{gutterWidth:24,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,D.Y)(D.FK,{children:(0,D.Y)(p.Ay,{})}),(0,D.FD)(g.A,{children:[ce.data?(0,D.Y)(be,{store:ce.data}):null,(0,D.Y)(v.A,{})]})]})]})}):null}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-59911-08eaa2f2f2e4ed22.js.map