"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[20601],{20601:(e,i,r)=>{r.d(i,{A:()=>N});var o=r(90417),l=r("__fusion__95b4ba69e5"),t=r(27559),n=r(41967),a=r(59160),d=r(43316),s=r(98207),m=r(49684),c=r(60331),g=r(62719),h=r(2693),p=r(67508),f=r(17803),u=r(31725),b=r(12615),x=r(58350),y=r(5505),$=r(43195),I=r(76852),v=r(93526),A=r(86783),Y=r(40014);const w=145,P=(0,n.I4)("div",(e=>({display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",overflow:"visible"}))),D=(0,n.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),_=(0,n.I4)("div",(e=>{let{$theme:i,$direction:r,$isNewVerticalGridDesign:o}=e;return{display:"flex",flex:1,...o?{padding:`0 ${i.sizing.scale600} ${i.sizing.scale500} 0`}:{padding:`${i.sizing.scale600} ${i.sizing.scale600} ${i.sizing.scale500} ${i.sizing.scale600}`},flexDirection:"column",width:"100%"}})),B=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{paddingTop:i.sizing.scale100,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word",flex:"none"}})),F=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{paddingTop:i.sizing.scale100,display:"flex",alignItems:"center",flexWrap:"wrap"}})),T=(0,n.I4)("div",(e=>{let{$isNewVerticalGridDesign:i,$theme:r}=e;return{height:`${i?109:w}px`,width:`${i?109:w}px`,borderRadius:i?r.sizing.scale300:0,overflow:"hidden",position:"relative"}})),z=(0,n.I4)(d.A,(e=>({opacity:e.$loaded?e.$isAvailable?1:.5:0,height:`${e.$isNewVerticalGridDesign?109:w}px`,width:"100%",objectFit:e.$isGrocery?"contain":"cover",outline:`1px solid ${e.$theme.colors.contentPrimary}08`,flexShrink:0}))),E=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{...i.typography.LabelSmall,color:i.colors.contentPositive,overflow:"hidden",boxSizing:"border-box",width:"fit-content"}})),G=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{...i.typography.ParagraphSmall,boxSizing:"border-box",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-flex",color:i.colors.contentPrimary,alignItems:"center"}})),S=(0,n.I4)("div",{display:"flex",flex:1,flexDirection:"row"}),O=(0,n.I4)("div",{marginTop:"4px"}),k="LabelMedium",L="ParagraphSmall",N=e=>{let{item:i,children:r,isHovering:n,isGrocery:d,isVirtualized:N,shouldForceVisible:R=!1,isNewVerticalGridDesign:V}=e;const M=(0,b.A)(),[U,C]=(0,o.useState)(!1),W=(0,a.jH)(),{itemRatingTreatmentName:H}=(0,f.v)(),K=(0,u.A)("cpg_ads_storefront_sponsored_items_enabled"),j=(0,o.useMemo)((()=>(0,p.op)(i,H)),[i,H]),X=i.isAvailable??!0,q=(0,I.A)(),J=!d&&Boolean(N)?1:3;return l.useEffect((()=>{R&&(0,t.ih)()}),[R]),(0,Y.FD)(P,{children:[(0,Y.FD)(S,{children:[(0,Y.Y)(_,{$direction:W,$isNewVerticalGridDesign:V,children:i.itemThumbnailElements?(0,Y.Y)(y.A,{elements:i.itemThumbnailElements}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(x.A,{clamp:J,typographyKey:k,children:i.headingPrimary?(0,Y.Y)(c.Ay,{text:i.headingPrimary}):i.titleBadge?(0,Y.Y)(m.A,{badge:i.titleBadge,baseFont:k}):null}),i.priceTagline&&!i.labelPrimary&&"default"===q.menuItemPriceTagline?(0,Y.Y)(F,{children:(0,Y.Y)(m.A,{badge:i.priceTagline,baseFont:L})}):null,i.labelPrimary?(0,Y.Y)(F,{children:(0,Y.Y)(c.Ay,{text:i.labelPrimary})}):null,i?.labelTertiary&&K?(0,Y.Y)(F,{children:(0,Y.Y)(c.Ay,{text:i.labelTertiary})}):null,i.itemDescriptionBadge?(0,Y.Y)(B,{children:(0,Y.Y)(m.A,{badge:i.itemDescriptionBadge,baseFont:L})}):null,i.promoInfo?.promoBadge?(0,Y.Y)(v.d,{$promoBadgePosition:i.promoInfo?.badgePosition,children:(0,Y.Y)(A.A,{viewModel:i.promoInfo?.promoBadge})}):i.promoInfo?(0,Y.Y)(F,{children:(0,Y.Y)(c.Ay,{text:i.promoInfo?.promoInfoLabel})}):null,i.endorsement&&j?(0,Y.Y)(O,{children:i.endorsement.textBorder?(0,Y.Y)(E,{children:i.endorsement.text}):(0,Y.FD)(G,{children:["confidence_builders_eater_endorsed"===i.endorsementAnalyticsTag&&j?(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(g.A,{}),(0,Y.Y)(h.hl,{})]}):null,j]})}):null]})}),(0,Y.Y)(T,{$isNewVerticalGridDesign:V,children:i.imageUrl?(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(t.Ay,{height:w,offset:1200,once:!0,children:(0,Y.Y)(s.A,{src:i.imageUrl,children:(0,Y.Y)(z,{$isNewVerticalGridDesign:V,$isAvailable:X||!M&&q.hasNewInStoreSearch,src:i.imageUrl||"",alt:i.title||"","aria-hidden":!0,$isHovering:!1,$isGrocery:Boolean(d),$loaded:U,loading:"lazy",decoding:"async",onLoad:()=>C(!0)})})}),i.imageOverlayElements?(0,Y.Y)($.A,{elements:i.imageOverlayElements}):(0,Y.Y)(D,{})]}):null})]}),r]})}},93526:(e,i,r)=>{r.d(i,{A:()=>R,d:()=>O});var o=r(90417),l=r("__fusion__95b4ba69e5"),t=r(27559),n=r(41967),a=r(43316),d=r(98207),s=r(39431),m=r(23963),c=r(49684),g=r(60331),h=r(58350),p=r(72893),f=r(8474),u=r(86105),b=r(86783),x=r(88168),y=r(88134),$=r(5505),I=r(43195),v=r(93617),A=r(19308),Y=r(40014);const w=188,P=(0,n.I4)("div",(()=>({width:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"}))),D=(0,n.I4)("div",(e=>{let{$imageDimensions:i,$catalogConfigImageDimensions:r}=e;return{height:`${i?.height?i.height:r?r.height:w}px`,width:i?.width?`${i.width}px`:"100%",flexShrink:0,position:"relative"}})),_=(0,n.I4)("div",(e=>{let{$cornerRadius:i}=e;return{borderRadius:`${i}px`,position:"relative",height:"100%",overflow:"hidden"}})),B=(0,n.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),F=(0,n.I4)(a.A,(e=>{let{$isHovering:i,$objectFit:r,$height:o}=e;return{opacity:1,height:`${o}px`,width:"100%",objectFit:r,flexShrink:0,transition:"transform 0.5s ease-in-out",transform:i?"scale(1.1)":"scale(1)"}})),T=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{...i.typography.LabelXSmall,position:"absolute",background:i.colors.signpost,color:i.colors.onSignpost,boxSizing:"border-box",height:i.sizing.scale800,top:i.sizing.scale300,borderRadius:`0 ${i.sizing.scale500} ${i.sizing.scale500} 0`,padding:`${i.sizing.scale100} ${i.sizing.scale500}`,textOverflow:"ellipsis",maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden"}})),z=(0,n.I4)("div",(e=>{let{$isBorderPresent:i}=e;return{paddingTop:"4px",display:"flex",flexDirection:"column",height:"100%",...i&&{padding:"4px 8px 8px 8px"}}})),E=(0,n.I4)("div",(e=>{let{$theme:i}=e;return{...(0,m.A)({$theme:i,height:w})}})),G=(0,n.I4)("div",{paddingTop:"2px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),S=(0,n.I4)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),O=(0,n.I4)("div",(e=>{let{$promoBadgePosition:i}=e;return{display:"flex",alignItems:"flex-start",flexWrap:"wrap",...i===x.e.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"8px",left:"8px"}:{marginTop:"4px"}}})),k=(0,n.I4)("div",(e=>{let{$theme:i}=e;return i.typography.LabelMedium})),L=(0,s.uq)(r(50510)),N=e=>{let{item:i,children:r,itemStyle:l,hasLazyloadOverflowContainer:n,imageDimensions:a,clampItemTitle:s=!1,isGrocery:m=!0}=e;const[N,R]=(0,o.useState)(!1),V=Boolean(i.imageUrl),{adsViewableImpressionRef:M}=(0,p.A)({itemAd:i.itemAd,storeUuid:i.storeUuid||""}),U=(0,u.zy)(),{modalName:C}=(0,f.g$k)(U,["modalName"]),W=Boolean(i.promoInfo?.promoBadge),H=(0,v.O$)({itemStyle:l,isGrocery:!0}),K=(0,y.gh)(l?.cornerRadius??A.H.SPACING_UNIT_1_5X),j=l?.headingPrimaryMaxLines;return(0,Y.FD)(P,{"data-testid":`store-menu-item--${i.uuid}`,ref:M,children:[(0,Y.FD)(D,{$catalogConfigImageDimensions:a,children:[(0,Y.FD)(_,{$cornerRadius:K,children:[(e=>{let{cornerRadius:r}=e;const o=(0,Y.Y)(F,{$isHovering:!1,$objectFit:H,$hasImage:V,$height:a?a.height:w,$loaded:N,src:i.imageUrl||L,alt:i.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>R(!0)}),l="magicUpsell"===C?'[data-test="desktop-dialog"]':void 0;return i.imageUrl?(0,Y.Y)(t.Ay,{height:a?a.height:w,placeholder:(0,Y.Y)(E,{}),once:!0,scrollContainer:l,...n?{overflow:!0,offset:[1200,300]}:{offset:a?a.height:w},children:(0,Y.Y)(d.A,{src:i.imageUrl,children:o})}):o})({cornerRadius:K}),i.imageOverlayElements?(0,Y.Y)(I.A,{elements:i.imageOverlayElements}):(0,Y.Y)(B,{})]}),i.imageOverlayElements?null:(0,Y.Y)(Y.FK,{children:W&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition===x.e.OVER_IMAGE_TOP_LEADING?(0,Y.Y)(O,{$promoBadgePosition:x.e.OVER_IMAGE_TOP_LEADING,children:(0,Y.Y)(b.A,{viewModel:i.promoInfo?.promoBadge})}):i.endorsement?.textBorder?(0,Y.Y)(T,{children:i.endorsement.text}):null}),r]}),(0,Y.Y)(z,{$isBorderPresent:Boolean(l?.borderColor),children:i.itemThumbnailElements?(0,Y.Y)($.A,{elements:i.itemThumbnailElements}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(h.A,{clamp:3,children:i.headingPrimary&&j?(0,Y.Y)(h.A,{clamp:j,children:(0,Y.Y)(g.Ay,{text:i.headingPrimary})}):i.headingPrimary&&s?(0,Y.Y)(h.A,{clamp:2,children:(0,Y.Y)(g.Ay,{text:i.headingPrimary})}):i.headingPrimary?(0,Y.Y)(g.Ay,{text:i.headingPrimary}):i.titleBadge?(0,Y.Y)(c.A,{badge:i.titleBadge,baseFont:"LabelMedium"}):i.title&&!i.labelPrimary?(0,Y.Y)(k,{children:i.title}):null}),i.labelPrimary?(0,Y.Y)(G,{children:(0,Y.Y)(h.A,{clamp:2,children:(0,Y.Y)(g.Ay,{text:i.labelPrimary})})}):i.priceTagline?(0,Y.Y)(c.A,{badge:i.priceTagline,baseFont:"ParagraphSmall"}):null,W&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition!==x.e.OVER_IMAGE_TOP_LEADING?(0,Y.Y)(O,{$promoBadgePosition:i.promoInfo?.badgePosition,children:(0,Y.Y)(b.A,{viewModel:i.promoInfo?.promoBadge})}):null,!W&&i.promoInfo?.promoInfoLabel?(0,Y.Y)(S,{children:(0,Y.Y)(g.Ay,{text:i.promoInfo?.promoInfoLabel})}):null]})})]})},R=l.memo(N)}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-20601-93e2827fa1618de1.js.map