(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[57468,75144],{3207:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var o=i(40304),r=i(81896);function a(){return(0,o.vm)({...r.P.store_quick_add,defaultValue:!0})}},5505:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var o=i("__fusion__95b4ba69e5"),r=i(41967),a=i(60331),n=i(58350),l=i(61841),s=i(57866),d=i(40014);const c=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{marginTop:`-${t.sizing.scale0}`}})),u=e=>{let{element:t}=e;const i=o.useRef(Date.now());if("labelPayload"===t?.payload?.type){const e=t.payload.labelPayload,i=e.maxLines??0;return(0,d.Y)(c,{"data-testid":"item-thumbnail-label",children:(0,d.Y)(s.A,{condition:i>0,wrapper:e=>(0,d.Y)(n.A,{clamp:i,children:e}),children:(0,d.Y)(a.Ay,{text:e.label})})})}if("tagsPayload"===t?.payload?.type){const e=t.uuid??i.current,r=t.payload.tagsPayload.tags??[];return(0,d.Y)(d.FK,{children:r.map(((t,i)=>(0,d.Y)(o.Fragment,{children:(0,d.Y)(l.A,{tag:t})},`${e}-${i}`)))})}return null},m=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale100}})),p=e=>{let{elements:t,Wrapper:i=m}=e;const r=o.useRef(Date.now());return t&&t.length>0?(0,d.Y)(s.A,{condition:Boolean(i),wrapper:e=>(0,d.Y)(i,{children:e}),children:t.map(((e,t)=>(0,d.Y)(o.Fragment,{children:(0,d.Y)(u,{element:e})},e.uuid??`ssite-${r.current}-${t}`)))}):null}},6954:(e,t,i)=>{"use strict";i.d(t,{Cd:()=>o,Pf:()=>r,_m:()=>a});const o=Object.freeze({UNKNOWN:"UNKNOWN",AVAILABLE:"AVAILABLE",LIKELY_UNAVAILABLE:"LIKELY_UNAVAILABLE",UNAVAILABLE:"UNAVAILABLE",PLACEHOLDER_1:"PLACEHOLDER_1",PLACEHOLDER_2:"PLACEHOLDER_2"}),r=(Object.freeze({GRID:"GRID",LIST:"LIST"}),Object.freeze({TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"})),a=Object.freeze({UNKNOWN:"UNKNOWN",TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"});Object.freeze({UNKNOWN:"UNKNOWN",IN_STORE_SEARCH:"IN_STORE_SEARCH",QUICK_ADD_ITEM_FEED_CAROUSEL:"QUICK_ADD_ITEM_FEED_CAROUSEL"}),Object.freeze({FIT:"FIT",CENTER_CROP:"CENTER_CROP"})},7165:(e,t,i)=>{"use strict";i.d(t,{O:()=>d});var o=i(90417),r=i(56831);var a=i(61281),n=i(91156),l=i(56279),s=i(72893);function d(e){let{menuItem:t,quantity:i=0,storeUuid:d,catalogItem:c,adAttributes:u}=e;const{isItemPromotionApplied:m}=function(e,t){const i={isItemPromotionApplied:!1};if(!e?.itemPromotionV2?.promotionData)return i;const{itemPromotionV2:o}=e||{},{promotionData:a}=o||{};if(!a?.type)return i;switch(a.type){case r.Ei.buyXGetYItemPromotion:{const{buyQuantity:e,getQuantity:i}=a||{};if(!isNaN(e)&&!isNaN(i)&&t>=e+i)return{isItemPromotionApplied:!0};break}case r.Ei.volumeDiscountPromotion:{const{buyQuantity:e}=a||{};if(!isNaN(e)&&t>=e)return{isItemPromotionApplied:!0};break}default:return i}return i}(t,i),{itemPromotionV2:p}=t||{},g=(0,n.Ay)(),[I,A]=(0,a.AF)({root:null});(0,o.useEffect)((()=>{A?.isIntersecting&&(m&&p?.appliedPromotion?g("eats:store_offers_promotion_applied_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:p?.availablePromotion?.uuid||"",quantity:i}):p?.availablePromotion&&g("eats:store_offers_promotion_available_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:p?.availablePromotion?.uuid||"",quantity:i}))}),[A?.isIntersecting,m,p,g,t?.uuid,d,i]),(0,o.useEffect)((()=>{A?.isIntersecting&&c?.promoInfo&&A?.isIntersecting&&g("eats:store_front_offers_impression",{storeUuid:d||"",itemUuid:c.uuid||"",promotionUuid:c.promoInfo?.promotionUUID||""})}),[c,A?.isIntersecting,g,d]);const{adsViewableImpressionRef:h}=(0,s.A)({shouldLogImpression:!0,shouldLogViewableImpression:!1,shouldLogMrcViewableImpression:!1,storeAd:c?.itemAd,storeUuid:d||"",adAttributes:u});return{promotionComponentRef:(0,l.A)(h,I)}}},12719:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>a,O4:()=>l,fh:()=>n});var o=i(41967),r=i(31701);const a=(0,o.I4)("div",(e=>{let{$gridRowGap:t=40,$gridColumGap:i=24,$numColumns:o=3,$gridMediaTemplateColumns:a}=e;return{display:"grid",gridGap:`${t}px ${i}px`,gridTemplateColumns:`repeat(${o}, 1fr)`,[r.a]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},"@media screen and (max-width: 1200px)":{gridTemplateColumns:`repeat(${a||o}, 1fr)`}}})),n=(0,o.I4)("div",{minWidth:0,[r.a]:{width:"calc(33% - 24px)",margin:"0px 12px 24px 12px"}}),l=(0,o.I4)("div",{minWidth:0,gridColumn:"1 / -1",[r.a]:{width:"100%",margin:"0 12px"}})},14192:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>m,YW:()=>c,mO:()=>d,q7:()=>u});var o=i("__fusion__95b4ba69e5"),r=i(41967),a=i(76915),n=i(86457),l=i(89397),s=i(40014);const d=(0,r.I4)("div",(e=>{let{$supportsScrollSnapping:t,$disabledVerticalScrolling:i}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...i?{overflowY:"hidden"}:{},...t?{scrollSnapType:"x mandatory"}:{}}})),c=(0,r.I4)("ul",(e=>{let{$supportsScrollSnapping:t,$textDirection:i,$pageMargin:o,$pageWidth:r}=e;return{display:"flex",flexShrink:0,flexGrow:0,width:"100%",flexBasis:r||"100%",..."ltr"===i?{marginRight:`${o}px`}:{marginLeft:`${o}px`},...t?{scrollSnapAlign:"start"}:{}}})),u=(0,r.I4)("li",(e=>{let{$textDirection:t,$margin:i,$pageSize:o,$ignoreMargin:r}=e;const{percentage:a,pxAdjustment:n}=(0,l.wP)(o,i);return{flex:"none",position:"relative",...r?{}:"ltr"===t?{marginRight:`${i}px`}:{marginLeft:`${i}px`},width:`calc(${a}% + ${n}px)`}})),m=o.forwardRef(((e,t)=>{const{containerRef:i,getPageChunks:o,getPageProps:r,isPreviousPageDisabled:l,isNextPageDisabled:m,handlePageChange:p,supportsScrollSnapping:g,textDirection:I}=(0,n.A)({scrollOffset:e.margin}),A=o(e.slides.map(((t,i)=>(0,s.Y)(u,{$textDirection:I,$pageSize:e.pageSize,$margin:e.margin,children:e.renderSlide(t,i)},i))),e.pageSize);return(0,s.FD)("div",{ref:t,children:[(0,s.Y)(a.A,{$as:e.titleType||"h2",title:e.title,subtitle:e.subtitle,paginated:e.slides.length>e.pageSize,onPageChange:(t,o)=>{if(p(t),e.onPageChange){const r=e.onPageChange,a=i.current;let n;const l=()=>{clearTimeout(n),n=setTimeout((()=>{r(o,{direction:t,total:i.current?.scrollWidth||0,current:i.current?i.current.scrollLeft+i.current.clientWidth:0}),a?.removeEventListener("scroll",l)}),500)};a?.addEventListener("scroll",l)}},viewAllLocation:e.viewAllLocation,viewAllTitle:e.viewAllTitle,backwardEnabled:!l,forwardEnabled:!m,onViewAllClick:e.onViewAllClick,onClickTitle:e.onClickTitle}),(0,s.Y)(d,{ref:i,$supportsScrollSnapping:g,onScroll:e.onScroll,children:A.map(((t,i,o)=>(0,s.Y)(c,{$pageMargin:e.margin,...r(i,o.length),children:t},i)))})]})}))},19308:(e,t,i)=>{"use strict";i.d(t,{H:()=>o});const o=Object.freeze({UNKNOWN:"UNKNOWN",SPACING_UNIT_0X:"SPACING_UNIT_0X",SPACING_UNIT_0_5X:"SPACING_UNIT_0_5X",SPACING_UNIT_1X:"SPACING_UNIT_1X",SPACING_UNIT_1_5X:"SPACING_UNIT_1_5X",SPACING_UNIT_2X:"SPACING_UNIT_2X",SPACING_UNIT_2_5X:"SPACING_UNIT_2_5X",SPACING_UNIT_3X:"SPACING_UNIT_3X",SPACING_UNIT_3_5X:"SPACING_UNIT_3_5X",SPACING_UNIT_4X:"SPACING_UNIT_4X",SPACING_UNIT_4_5X:"SPACING_UNIT_4_5X",SPACING_UNIT_5X:"SPACING_UNIT_5X",SPACING_UNIT_6X:"SPACING_UNIT_6X",SPACING_UNIT_7X:"SPACING_UNIT_7X",SPACING_UNIT_8X:"SPACING_UNIT_8X",SPACING_UNIT_9X:"SPACING_UNIT_9X",SPACING_UNIT_10X:"SPACING_UNIT_10X",SPACING_UNIT_11X:"SPACING_UNIT_11X",SPACING_UNIT_12X:"SPACING_UNIT_12X",SPACING_UNIT_13X:"SPACING_UNIT_13X"})},27390:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var o=i(90417),r=i(89831),a=i(65416),n=i(2978),l=i(79193),s=i(89864),d=i(84183),c=i(60707);function u(){const e=(0,r.wA)(),{user:t}=(0,d.A)(),{openSidebarCart:i}=(0,s.lK)(),{isEnabled:u,treatment:m}=(0,c.A)(),p=(0,a.d4)((e=>e.scrollRestore));return{restoreScroll:(0,o.useCallback)(((o,r)=>{if(p.shouldRestore&&(!r||p.valuesById[r]?.shouldRestore))if(r)p.valuesById[r]&&(l.A?.scrollTo({top:p.valuesById[r].value,...o}),e((0,n.ZL)(r)));else if(l.A?.scrollTo({top:p.value,...o}),e((0,n.TE)()),!t.data?.isLoggedIn&&u&&"cart_animation"===m){const e=()=>{l.A?.scrollY===p.value&&(l.A.removeEventListener("scroll",e),setTimeout((()=>{i()}),500))};l.A&&l.A.addEventListener("scroll",e)}}),[p.shouldRestore,p.valuesById,p.value,e,t.data?.isLoggedIn,u,m,i]),setRestoreScrollPosition:t=>{e((0,n.Ab)(t))},setRestoreScrollPositionById:(t,i)=>{e((0,n.cr)(t,i))}}}},29216:(e,t,i)=>{"use strict";i.d(t,{b:()=>l,m:()=>s});var o=i(57716),r=i(41967),a=i(63775),n=i(93847);const l=e=>({style:{type:"customStyle",customStyle:{activeBackgroundColor:a.K0.BRAND_BACKGROUND_SECONDARY,activeBorderColor:a.Q2.BORDER_TRANSPARENT,activeContentColor:{textColor:a.ZA.BRAND_CONTENT_PRIMARY,type:"textColor"}}},size:"X_SMALL",state:"ACTIVE",text:e,isToggleable:!1,hierarchy:"PRIMARY",trailingIcon:n.j.CHEVRON_RIGHT_SMALL}),s=(0,r.I4)(o.N_,(e=>{let{$theme:t}=e;return{cursor:"pointer",":hover > *":{position:"relative","::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:t.colors.backgroundSecondary,pointerEvents:"none",borderRadius:"inherit",opacity:.3}},":active > *":{position:"relative","::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:t.colors.backgroundTertiary,pointerEvents:"none",borderRadius:"inherit",opacity:.5}}}}))},29731:(e,t,i)=>{e.exports=i.p+"ffcca10441d6cec9.png"},33972:(e,t,i)=>{"use strict";i.d(t,{K:()=>m});var o=i("__fusion__95b4ba69e5"),r=i(23977),a=i(85906),n=i(4914),l=i("__fusion__e001354790"),s=i(25263),d=i("__fusion__24e54712c6"),c=i(74642),u=i(34646);function m(e){const{isLiveOrder:t,liveOrderUuid:i}=(0,r.G)(),m=(0,a.u)({getCartFrom:"workflowId",workflowId:i}),p=(0,n.c)(),{enqueue:g}=(0,c.dh)(),I=["FOUND","IN_REVIEW","REPLACED","REFUNDED"],A=o.useCallback(((e,t)=>{const i={IN_REVIEW:{message:p("live_order.item.in_review",{item:t}),icon:d.default},REPLACED:{message:p("live_order.item.replaced",{item:t}),icon:d.default},FOUND:{message:p("live_order.item.found",{item:t}),icon:l.default},REFUNDED:{message:p("live_order.item.refunded",{item:t}),icon:s.A}}[e];g({message:i.message,startEnhancer:()=>o.createElement(i.icon,{size:"24"})},u.f.short)}),[g,p]);if(!t||"SYNCING"!==m.status&&"AVAILABLE"!==m.status)return{isLiveOrder:t,consumerItemFulfillmentViewType:void 0,isFulfilled:!1,showBlockedItemSnackbar:null};const h=(m?.rawCartData?.liveOrder?.cart?.shoppingCart?.items||[]).find((t=>t.skuUUID===e)),f=h?.fulfillmentContext?.consumerItemFulfillmentViewType;return{isLiveOrder:!0,consumerItemFulfillmentViewType:f,isFulfilled:(e=>!!I.includes(e??""))(f),showBlockedItemSnackbar:A}}},43195:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var o=i("__fusion__95b4ba69e5"),r=i(5505),a=i(41967),n=i(59160),l=i(6954),s=i(40014);const d=(0,a.I4)("div",{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),c=(0,a.I4)("div",(e=>{let{$theme:t,$fullWidth:i}=e;return{display:"flex",position:"absolute",flexWrap:"wrap",overflow:"hidden",width:`calc(${i?"100%":"50%"} - ${t.sizing.scale400})`,gap:t.sizing.scale100}})),u=(0,a._F)(c,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?1:2,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),m=(0,a._F)(c,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?2:1,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),p=(0,a._F)(c,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?3:4,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),g=(0,a._F)(c,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?4:3,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),I=e=>{let{elements:t=[]}=e;const i=(0,n.jH)(),a=o.useMemo((()=>t.reduce(((e,t)=>(t.position&&t.element&&(e[t.position]=e[t.position]??[],e[t.position].push(t.element)),e)),{})),[t]),c=a[l._m.TOP_LEADING]??[],I=a[l._m.TOP_TRAILING]??[],A=a[l._m.BOTTOM_LEADING]??[],h=a[l._m.BOTTOM_TRAILING]??[];return(0,s.FD)(d,{children:[c.length>0?(0,s.Y)(r.A,{elements:c,Wrapper:e=>{let{children:t}=e;return(0,s.Y)(u,{$fullWidth:0===I.length,$direction:i,children:t})}}):null,I.length>0?(0,s.Y)(r.A,{elements:I,Wrapper:e=>{let{children:t}=e;return(0,s.Y)(m,{$fullWidth:0===c.length,$direction:i,children:t})}}):null,A.length>0?(0,s.Y)(r.A,{elements:A,Wrapper:e=>{let{children:t}=e;return(0,s.Y)(p,{$fullWidth:0===h.length,$direction:i,children:t})}}):null,h.length>0?(0,s.Y)(r.A,{elements:h,Wrapper:e=>{let{children:t}=e;return(0,s.Y)(g,{$fullWidth:0===A.length,$direction:i,children:t})}}):null]})}},54084:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var o=i(57716),r=i(73939),a=i(35152),n=i(8474),l=i(41967),s=i(60331),d=i(91156),c=i(81464),u=i(40014);const m=(0,l._F)(r.BM,(e=>{let{$theme:t}=e;return{boxShadow:t.shadows.filterCard,background:t.colors.backgroundPrimary,":hover":{background:t.colors.backgroundSecondary},maxWidth:"115px"}})),p=(0,l.I4)("div",{overflow:"hidden",textOverflow:"ellipsis",width:"100%"}),g=e=>{const{storeUuid:t,item:i,sectionUuid:r,subsectionUuid:l,storeSlug:g}=e,I={storeUuid:t,itemUuid:i.uuid??"",sectionUuid:r,subsectionUuid:l},A=(0,d.Ay)(),h=(0,c.A)({eventName:"eats:out_of_stock_similar_button_impression",eventPayload:I}),f=(0,a._l)((e=>{if(!i.uuid)return;const{pathname:o,search:a}=(0,n.o42)(e,{storeUuid:t,itemUuid:i.uuid,storeSlug:g,sectionUuid:r,subsectionUuid:l},"out-of-stock");return`${o}${a}`}));return(0,u.Y)(m,{ref:h,onClick:e=>{e.stopPropagation(),A("eats:out_of_stock_similar_button_click",I)},$as:o.N_,to:f,children:(0,u.Y)(p,{children:(0,u.Y)(s.Ay,{text:i.showSimilarLabel,whiteSpace:"nowrap"})})})}},61492:(e,t,i)=>{"use strict";i.d(t,{A:()=>me,c:()=>Q});var o=i(90417),r=i("__fusion__95b4ba69e5"),a=i(27559),n=i(41967),l=i(43316),s=i(98207),d=i(39431),c=i(23963),u=i(43583),m=i(49684),p=i(60331),g=i(58350),I=i(92114),A=i(7165),h=i(72893),f=i(19308),y=i(88134),b=i(8474),_=i(86105),U=i(6954),S=i(86783),v=i(88168),C=i(62719),k=i(2693),T=i(67508),D=i(17803),x=i(31725),P=i(93617),E=i(5505),L=i(43195),R=i(79684),N=i(61841),O=i(53518),$=i(57716),B=i(56831),w=i(76852),M=i(29216),G=i(4914),Y=i(91156),z=i(91856),F=i(88361),q=i(40014);const Q="multi-sku-tag-view-model",V=188,W=(0,n.I4)("div",(()=>({width:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"}))),X=(0,n.I4)("div",(e=>{let{$quickAddPosition:t}=e;return{position:"absolute",...t===U.Pf.BOTTOM_TRAILING?{right:"8px",top:"8px"}:{left:"50%",transform:"translate(-50%, 0)",bottom:"8px"}}})),H=(0,n.I4)("div",(e=>{let{$theme:t,$imageDimensions:i,$catalogConfigImageDimensions:o,$squareRatioEnabled:r}=e;return{height:`${i?.height?i.height:o?o.height:V}px`,width:i?.width?`${i.width}px`:"100%",flexShrink:0,position:"relative",borderRadius:t.borders.radius400,...r&&{width:"100%",height:"unset",aspectRatio:"1/1"}}})),K=(0,n.I4)("div",(e=>{let{$cornerRadius:t}=e;return{borderRadius:`${t}px`,position:"relative",height:"100%",overflow:"hidden"}})),j=(0,n.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),Z=(0,n.I4)(l.A,(e=>{let{$isAvailable:t,$isHovering:i,$objectFit:o,$height:r,$loaded:a,$isCanonical:n,$adaptativeHeight:l}=e;return{opacity:a?t||n?1:.5:0,height:`${r}px`,width:"100%",objectFit:o,flexShrink:0,transition:"transform 0.5s ease-in-out",transform:i?"scale(1.1)":"scale(1)",...l&&{position:"absolute",height:"100%"}}})),J=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,height:"24px",color:t.colors.buttonSecondaryText,background:t.colors.buttonSecondaryFill,boxSizing:"border-box",padding:"4px 8px",marginTop:"4px",borderRadius:"12px",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"flex",alignItems:"center"}})),ee=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,boxSizing:"border-box",height:t.sizing.scale800,top:t.sizing.scale300,borderRadius:`0 ${t.sizing.scale500} ${t.sizing.scale500} 0`,padding:`${t.sizing.scale100} ${t.sizing.scale500}`,textOverflow:"ellipsis",maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden"}})),te=(0,n.I4)("div",(e=>{let{$isBorderPresent:t}=e;return{padding:"4px 0 0 0",display:"flex",flexDirection:"column",height:"100%",...t&&{padding:"4px 8px 8px 8px"}}})),ie=(0,n.I4)("div",(e=>{let{$theme:t,$fill:i}=e;return{...(0,c.A)({$theme:t,height:V}),...i&&{position:"absolute",height:"100%",top:0,left:0,right:0,bottom:0}}})),oe=(0,n.I4)("div",{paddingTop:"2px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),re=(0,n.I4)("p",{display:"flex",alignItems:"center",flexWrap:"wrap"}),ae=(0,n.I4)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),ne=(0,n.I4)("div",(e=>{let{$promoBadgePosition:t}=e;return{display:"flex",alignItems:"flex-start",flexWrap:"wrap",...t===v.e.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"8px",left:"8px"}:{marginTop:"4px"}}})),le=(0,n.I4)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),se=(0,d.uq)(i(50510)),de=(0,d.uq)(i(29731)),ce="ParagraphSmall",ue=e=>{let{item:t,children:i,isHovering:r,showQuickViewEntryPoint:n,storeUuid:l,sectionUuid:d,subsectionUuid:c,itemStyle:U,isGrocery:ue,primaryBundledStoreUuid:me,catalogSectionAnalyticsData:pe,hasLazyloadOverflowContainer:ge,surface:Ie,imageDimensions:Ae,clampItemTitle:he=!1,isCanonical:fe=!1,consumerItemFulfillmentViewType:ye,isMultiSkuModal:be=!1,adsAnalyticsMetadata:_e,keepImageSquareRatio:Ue,lazyLoad:Se=!0}=e;const ve=(0,G.c)(),[Ce,ke]=(0,o.useState)(!1),Te=Boolean(t.imageUrl),{adsViewableImpressionRef:De}=(0,h.A)({itemAd:t.itemAd,storeUuid:l,adAttributes:{analyticsLabel:t?.analyticsLabel??void 0,collectionRank:_e?.position,collectionSize:_e?.numberOfItems,rank:_e?.carouselPosition}}),{promotionComponentRef:xe}=(0,A.O)({catalogItem:t,storeUuid:l,adAttributes:{analyticsLabel:t?.analyticsLabel??void 0,collectionRank:_e?.position,collectionSize:_e?.numberOfItems,rank:_e?.carouselPosition}}),Pe=(0,_.zy)(),Ee=(0,Y.Ay)(),{modalName:Le,storeCatalogSections:Re}=(0,b.g$k)(Pe,["modalName","storeCatalogSections"]),Ne=Re?"order_again":"shop",Oe=t.quickAddConfig?.position,$e=Boolean(t.promoInfo?.promoBadge),{itemRatingTreatmentName:Be}=(0,D.v)(),we=(0,o.useMemo)((()=>(0,T.op)(t,Be)),[t,Be]),Me=(0,x.A)("cpg_ads_storefront_sponsored_items_enabled"),Ge=(0,x.A)("multi_sku_promotions_enabled"),Ye=(0,x.A)("ingested_multi_sku_enabled"),ze=t.isAvailable??!0,{menuItemImage:Fe}=(0,w.A)(),qe="placeholder"===Fe,Qe=qe?"cover":(0,P.O$)({itemStyle:U,isGrocery:ue}),Ve=qe?de:se,We=(0,y.gh)(U?.cornerRadius??f.H.SPACING_UNIT_1_5X),Xe=U?.headingPrimaryMaxLines,He=U?.labelPrimaryMaxLines,Ke=t.hasCheaperAlternative,je=Ke?t.itemThumbnailElements?.filter((e=>"tagsPayload"!==e?.payload?.type)):t.itemThumbnailElements,{collectionUuid:Ze="",itemPromotionTag:Je="",promotionUuid:et=""}=t.itemLevelPromotion?.type===B.Ei.multiSKUFlatPromotion?t.itemLevelPromotion?.multiSKUFlatPromotion:{},{catalogSectionUuid:tt,catalogSectionType:it}=(0,u.e)({collectionUuid:Ze??"",promotionUuid:et??""});return(0,q.FD)(W,{"data-testid":`store-item-${t.uuid}`,ref:De,children:[(0,q.FD)(H,{$catalogConfigImageDimensions:Ae,$squareRatioEnabled:Ue,"data-testid":"item-image",children:[(0,q.FD)(K,{$cornerRadius:We,children:[(e=>{let{cornerRadius:i}=e;const o=(0,q.Y)(Z,{$isCanonical:fe,$isHovering:!1,$objectFit:Qe,$hasImage:Te,$isAvailable:ze,$height:Ae?Ae.height:V,$loaded:Ce,src:t.imageUrl||Ve,alt:t.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>ke(!0),$adaptativeHeight:Ue}),r="magicUpsell"===Le?'[data-test="desktop-dialog"]':void 0;if(t.imageUrl&&!be){const e=(0,q.Y)(s.A,{src:t.imageUrl,children:o});return Se?(0,q.Y)(a.Ay,{height:Ae?Ae.height:V,placeholder:(0,q.Y)(ie,{$fill:Ue}),once:!0,scrollContainer:r,...ge?{overflow:!0,offset:[1200,300]}:{offset:Ae?Ae.height:V},children:e}):e}return o})({cornerRadius:We}),t.imageOverlayElements?(0,q.Y)(L.A,{elements:t.imageOverlayElements}):(0,q.Y)(j,{})]}),t.imageOverlayElements?null:(0,q.Y)(q.FK,{children:$e&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition===v.e.OVER_IMAGE_TOP_LEADING?(0,q.Y)(ne,{$promoBadgePosition:v.e.OVER_IMAGE_TOP_LEADING,children:(0,q.Y)(S.A,{viewModel:t.promoInfo?.promoBadge})}):t.endorsement?.textBorder?(0,q.Y)(ee,{children:t.endorsement.text}):null}),n&&t.uuid?(0,q.Y)(X,{$quickAddPosition:Oe,children:(0,q.Y)(I.A,{isHovering:r,item:t,itemUuid:t.uuid,storeUuid:l,sectionUuid:d,subsectionUuid:c,surface:Ie,primaryBundledStoreUuid:me,catalogSectionAnalyticsData:pe,isMultiSkuModal:be})}):null,i]}),(0,q.FD)(te,{ref:xe,$isBorderPresent:Boolean(U?.borderColor),children:[je?(0,q.Y)(E.A,{elements:je}):(0,q.FD)(q.FK,{children:[(0,q.Y)(g.A,{clamp:3,children:t.headingPrimary&&Xe?(0,q.Y)(g.A,{clamp:Xe,children:(0,q.Y)(p.Ay,{text:t.headingPrimary})}):t.headingPrimary&&he?(0,q.Y)(g.A,{clamp:2,children:(0,q.Y)(p.Ay,{text:t.headingPrimary})}):t.headingPrimary?(0,q.Y)(p.Ay,{text:t.headingPrimary}):t.titleBadge&&!qe?(0,q.Y)(m.A,{badge:t.titleBadge,baseFont:"LabelMedium"}):!t.title||t.labelPrimary||qe?t.titleBadge&&qe?(0,q.Y)(m.A,{badge:t.titleBadge,baseFont:ce,baseColor:"contentSecondary"}):null:(0,q.Y)(le,{children:t.title})}),t.labelPrimary&&He?(0,q.Y)(oe,{children:(0,q.Y)(g.A,{clamp:He,children:(0,q.Y)(p.Ay,{text:t.labelPrimary})})}):t.labelPrimary?ue?(0,q.Y)(oe,{children:(0,q.Y)(g.A,{clamp:3,children:(0,q.Y)(p.Ay,{text:t.labelPrimary})})}):(0,q.Y)(re,{children:(0,q.Y)(p.Ay,{text:t.labelPrimary})}):t.priceTagline?(0,q.Y)(m.A,{badge:t.priceTagline,baseFont:ce}):null,$e&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition!==v.e.OVER_IMAGE_TOP_LEADING?(0,q.Y)(ne,{$promoBadgePosition:t.promoInfo?.badgePosition,children:(0,q.Y)(S.A,{viewModel:t.promoInfo?.promoBadge})}):null,!$e&&t.promoInfo?.promoInfoLabel?(0,q.Y)(ae,{children:(0,q.Y)(p.Ay,{text:t.promoInfo?.promoInfoLabel})}):null,t?.labelTertiary&&Me?(0,q.Y)(ae,{children:(0,q.Y)(p.Ay,{text:t.labelTertiary})}):null,t.endorsement&&!t.endorsement.textBorder&&we?(0,q.FD)(J,{children:["confidence_builders_eater_endorsed"===t.endorsementAnalyticsTag?(0,q.FD)(q.FK,{children:[(0,q.Y)(C.A,{}),(0,q.Y)(k.hl,{})]}):null,(0,q.Y)(k.hl,{}),we]}):null]}),ue&&Je&&(Ze||Ye)&&l&&Ge&&!be?(0,q.Y)($.N_,{to:(0,b.Zyy)(Pe,"multiSkuPromotion",{storeUuid:l,catalogSectionUuid:tt,catalogSectionType:it,...et&&{promotionUUID:et}}),className:Q,onClick:()=>{Ee("eats:multi_sku_flat_promotion_tag_tap",{storeUuid:l,sectionUuid:tt,catalogSectionType:it,collectionUuid:Ze??"",promotionUuid:et||"",surface:z.a.ITEM_LEVEL})},children:(0,q.Y)(O.A,{tag:Je})}):null,Ke&&l&&t.uuid?(0,q.Y)(M.m,{to:(0,b.Zyy)(Pe,"cheaperAlternatives",{storeUuid:l,itemUuid:t.uuid,sectionUuid:t.sectionUuid||d,subsectionUuid:t.subsectionUuid||c}),className:Q,onClick:()=>{Ee("eats:cheaper_alternatives_tag_tap",{feedType:Ne})},children:(0,q.Y)(N.A,{tag:(0,M.b)(ve("cheaperalternatives.modal.header"))})}):null,ye?(0,q.Y)(R.t,{consumerItemFulfillmentViewType:ye}):null]}),(0,q.Y)(F.A,{catalogItem:t})]})},me=r.memo(ue)},64874:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var o=i(30505),r=i(74141),a=i(62461);const n=()=>{const{isStorePrecheckoutBundlingEnabled:e}=(0,a.A)(),{primaryBundledStoreUuid:t}=(0,r.A)(),{draftOrder:i,cart:n}=(0,o.A)(t);return{shouldShowBundleItemAddedFirstDialog:e&&t&&!(i&&n?.data?.items?.length)}}},66597:(e,t,i)=>{"use strict";i.d(t,{Nk:()=>n,vM:()=>r});const o=["Android","iOS"],r=(e,t)=>({name:`${t.replace(/^eats:/,"")}.${a(e)}`}),a=e=>{const t=(e.meta.browser?.embedded_app||"").indexOf("helix")>-1,i=(e.meta.browser?.embedded_app||"").indexOf("orchid")>-1;return t?"xlb":i?"orchid":o.includes(e.meta.browser?.os??"")?"mobile":"desktop"};function n(e){try{if("object"!=typeof e||null===e)return String(e);const t=new WeakSet;return JSON.stringify(e,((e,i)=>{if("bigint"==typeof i)return i.toString();if("undefined"==typeof i)return"undefined";if("function"==typeof i)return`[Function: ${i.name||"anonymous"}]`;if("symbol"==typeof i)return`[Symbol: ${i.toString()}]`;if("object"==typeof i&&null!==i){if(t.has(i))return"[Circular]";t.add(i)}return i}),2)}catch(e){return"Invalid property"}}},68363:(e,t,i)=>{"use strict";i.d(t,{y:()=>tt,A:()=>rt});var o=i("__fusion__95b4ba69e5"),r=i(90417),a=i(4914),n=i(41967),l=i(26938),s=i(65980),d=i(31300),c=i(50371),u=i(86105),m=i(47916),p=i(79193),g=i(7139),I=i(35508),A=i(3185),h=i(39332),f=i(40014);const y=(0,n.I4)("div",(e=>{let{$theme:t,$closeAnimation:i,$isDark:o}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:o?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,border:`2px solid ${o?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),b=(0,n.I4)("div",(e=>{let{$theme:t,$size:i,$isDark:o}=e,r=t.sizing.scale600,a=t.typography.LabelLarge;switch(i){case tt.SMALL:r=t.sizing.scale0,a=t.typography.LabelSmall;break;case tt.MEDIUM:r=t.sizing.scale100,a=t.typography.LabelMedium}return{...a,width:"max-content",paddingLeft:r,paddingRight:r,whiteSpace:"nowrap",textAlign:"center",color:o?t.colors.contentInversePrimary:t.colors.contentPrimary}})),_=(0,n.I4)("button",(e=>{let{$theme:t,$size:i,disabled:o,$isDark:r}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:r?t.colors.contentInversePrimary:t.colors.contentPrimary,background:r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary},...o&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}}}})),U=e=>{const t=(0,a.c)(),[i,r]=o.useState(e.size),n=(0,m.A)({item:e.item,storeUuid:e.storeUuid,cartQuantity:e.quantity}),s=(0,A.bn)(),d=(0,g.dN)(e.item),c=(0,g.ES)(e.item),u=c.increment??1,U=null!=c.minimumQuantity?c.minimumQuantity:1,S=o.useCallback((()=>{p.A&&(p.A.innerWidth<=1e3?r(tt.SMALL):p.A.innerWidth<=1500?r(tt.MEDIUM):r(tt.LARGE))}),[]),v=(0,h.A)(S,1e3);o.useEffect((()=>{if(p.A)return S(),p.A.addEventListener("resize",v),()=>{p.A&&p.A.removeEventListener("resize",v)}}),[v,S]);const C=o.useMemo((()=>{switch(i){case tt.SMALL:return 16;case tt.MEDIUM:return 18;default:return 20}}),[i]),k=d?`${e.quantity} ${(0,g.$v)(e.item)??""}`:e.quantity;return(0,f.FD)(y,{$closeAnimation:e.closeAnimation,$isDark:s,children:[(0,f.Y)(_,{"data-test":"quick-add-minus","aria-label":t("shared.decrement"),disabled:Boolean(e.isDisabled),onClick:()=>{e.updateQuantity(I.R9.from(u).multiply(-1).toBaseDecimal())},$size:e.size,$isDark:s,children:e.quantity<=U?(0,f.Y)(l.A,{name:"TrashCanFilled",size:C}):(0,f.Y)(l.A,{name:"MinusSmallFilled",size:C})}),(0,f.Y)(b,{"aria-label":t("shared.itemsCount",{itemCount:k}),"aria-live":"assertive",$size:d?i:e.size,"data-test":"quick-add-quantity",$isDark:s,children:(0,f.Y)("span",{"aria-hidden":"true",children:k})}),(0,f.Y)(_,{$size:e.size,"aria-label":t("shared.increment"),"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||n()!==m.o.BELOW_LIMIT,onClick:()=>{e.updateQuantity(I.R9.from(u).toBaseDecimal())},$isDark:s,children:(0,f.Y)(l.A,{name:"PlusSmallFilled",size:C})})]})};var S=i(89831),v=i(37959),C=i(8474),k=i(91156),T=i(57806),D=i(40509),x=i(5592),P=i(28123),E=i(8700),L=i(56831),R=i(85694),N=i(17923),O=i(19118);const $=e=>{let{storeUUID:t,sectionUUID:i,subsectionUUID:o,catalogSectionUUID:a,item:n,quantity:l,decimalQuantity:s,updateQuantity:d,cartItemCount:p,closeAnimation:A,closeStepper:h,isDifferentStoreFromCart:y,isPerformingCartUpdate:b,addToCart:_,increment:$,decrement:B,quickAddCount:w,updateDecimalQuantity:M,debouncedQuickAddCount:G,quickAddSource:Y,isLowAvailabilityItem:z,sourceType:F,analytics:q,searchTerm:Q,selectedVertical:V,itemPosition:W,position:X,size:H}=e;const K=(0,c.W6)(),j=(0,c.g)(),Z=(0,u.zy)(),J=(0,S.wA)(),ee=(0,D.A)(),te=(0,k.Ay)(),ie=(0,T.Ie)(),{shouldCheckAndUpdateGratis:oe,checkAndUpdateGratis:re}=(0,R.A)(N.Zn.LAST_ACTION_ADD_TO_CART),ae=(0,O.Z)(),ne=(0,C.ejv)(Z,{...(0,C.tfm)(j),sectionUuid:i,itemUuid:n.uuid||""}),le=n,se=le?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1,{promotionUuid:de=null}=le?.itemLevelPromotion?.type===L.Ei.multiSKUFlatPromotion?le?.itemLevelPromotion?.multiSKUFlatPromotion:{},ce=(0,r.useRef)((e=>{J((0,v.Db)({storeUUID:t,item:n,quantity:e,sectionUUID:i,subsectionUUID:o,catalogSectionUUID:a})),K.push(ne)})),ue=(0,r.useRef)({addToCart:_,increment:$,decrement:B,updateDecimalQuantity:M,isPerformingCartUpdate:b,debouncedQuantity:G.integer});ue.current={addToCart:_,increment:$,decrement:B,updateDecimalQuantity:M,isPerformingCartUpdate:b,debouncedQuantity:G.integer};const me=(0,m.A)({item:n,storeUuid:t,cartQuantity:l}),pe=(0,r.useCallback)(((e,t)=>{"number"==typeof e?e>t?ue.current.increment(e-t):e<t&&ue.current.decrement(t-e):ue.current.updateDecimalQuantity(e)}),[ue]),ge=(0,r.useRef)({quantity:l,decimalQuantity:s,cartItemCount:p});ge.current={quantity:l,decimalQuantity:s,cartItemCount:p};const{store:Ie}=(0,E.Ay)(t),Ae=Ie.data?(0,P.Sl)(Ie.data):void 0;(0,r.useEffect)((()=>{const e=ce;return()=>{!A&&ge.current.quantity>0&&0===ge.current.cartItemCount&&0===ue.current.debouncedQuantity||ge.current.quantity!==ge.current.cartItemCount&&ue.current.debouncedQuantity!==ge.current.quantity&&(ee&&y?(ue.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:F,actionMeta:{isQuickAdd:!0,quickAddSource:Y},itemPosition:se}),J((0,v.C2)())):y?y&&e.current(ge.current.quantity):pe(ge.current.decimalQuantity,ge.current.cartItemCount))}}),[pe,y,ee,ce,J,Y,A,F,se]),(0,r.useEffect)((()=>{if(p!==G.integer&&(!ue.current.isPerformingCartUpdate||0!==p))return 0!==p?pe(G.decimal,p):void(A||(ue.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:F,actionMeta:{isQuickAdd:!0,quickAddSource:Y},itemPosition:se}),J((0,v.C2)())))}),[y,p,pe,n,ee,A,G,J,Y,F,se]);const he=(0,g.ES)(n),fe=(0,r.useCallback)((e=>{const r=I.R9.from(e).toFloat();let s="number"==typeof e?w.integer+e:I.R9.from(w.decimal).add(e).toBaseDecimal();if("number"!=typeof s&&he.minPermitted&&I.R9.from(s).isLt(he.minPermitted)&&(s=I.R9.from(0).toBaseDecimal()),r>0&&me({increment:r,showSnackbarWarning:!0})===m.o.ABOVE_LIMIT)return;oe&&re(),d(n.uuid||"",s);const c=r>0?"increment":"decrement";if(te("eats:quick_add_button_tap",{verticalType:Ae,quickAddOperation:{storeUuid:t,itemUuid:n.uuid||"",previousQuantity:l,updatedQuantity:l+r,operationType:c,searchTerm:Q||"",selectedVertical:V,itemPosition:W,carouselPostion:X,lowAvailabilityItemUuid:z&&n?.uuid||"",catalogSectionUuid:a||i,sectionUuid:i,subsectionUuid:o,...F?{sourceType:F}:{},...q?.catalogSection?{catalogSectionAnalyticsData:q.catalogSection}:{},...de&&{promotionUuid:de}},...ae?{attributionInfo:ae}:{},analyticsLabel:"analyticsLabel"in n&&n.analyticsLabel?n.analyticsLabel:void 0}),r>0&&"itemAd"in n){const e=n;ie("ads:ads_click",{adsAnalyticsEvent:{adEventType:x.S.CLICK,adImpressionUUID:e.itemAd?.impressionId||"",adData:e.itemAd?.adData||"",bidderUUID:t,collectionRank:n?.catalogItemAnalyticsData?.catalogSectionItemPosition??W??void 0}})}("number"==typeof s?s<=0:s?.base<=0)&&h()}),[Ae,w.integer,w.decimal,he.minPermitted,me,d,n,te,ie,t,l,Q,V,W,X,z,i,o,F,q?.catalogSection,h,de,a,oe,re,ae]);return(0,f.Y)(U,{item:n,storeUuid:t,quantity:l,closeAnimation:A,updateQuantity:fe,size:H})};var B=i(65416),w=i(17503),M=i(6954),G=i(97887),Y=i(57891),z=i(66197),F=i(41908),q=i(71854),Q=i(19589),V=i(81757),W=i(22121),X=i(93617);var H=i(64874),K=i(59350),j=i(12615),Z=i(39996),J=i(43545),ee=i(81896),te=i(84183),ie=i(95884),oe=i(73792);const re=(0,n.I4)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),ae=(0,n.I4)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),ne=(0,n._F)(d.A,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}})),le=e=>{let{item:t,subsectionUUID:i,storeUUID:n,sectionUUID:d,catalogSectionUUID:c,cartItemCount:m,cartItemDecimalCount:p,syncItemQuantity:A,quickAddCount:h,disabled:y,quickAddSource:b,isInteractionEnabled:_=!0,itemAvailabilityState:U,sourceType:T,storeSlug:x="",analytics:R,onClickEvent:N,searchTerm:O,size:le,resultIndex:se,selectedVertical:de,itemPosition:ce,position:ue,actionUrl:me}=e;const pe=(0,S.wA)(),ge=h.integer,[Ie,Ae]=(0,r.useState)(!1),he=(0,a.c)(),[fe,ye]=o.useState(!1),be=o.useRef(null),{store:_e}=(0,E.Ay)(n,{cacheOnly:!0}),Ue=(0,G.g)(),Se=(0,u.W6)(),ve=(0,k.Ay)(),{canEditGroupOrderCart:Ce}=(0,z.A)(n),ke=(0,g.OV)(t),{itemQueue:Te}=(0,B.d4)((e=>e.quickAdd)),{draftOrder:De}=(0,F.tC)(),xe=De?.storeUuid,Pe=(0,D.A)(),Ee=(0,Y.XU)((e=>(0,C.G9G)(e).storeSlug)),{shouldShowBundleItemAddedFirstDialog:Le}=(0,H.A)(),Re=(0,j.A)(),{user:Ne}=(0,te.A)(),Oe=!!_e?.data&&(0,P.iC)(_e.data),$e=(0,ie.c)({skip:Boolean(Oe)}),Be="PICKUP"===(0,oe.W)(),we=$e&&Be,Me=(0,r.useCallback)((()=>{Ae(!0),setTimeout((()=>{ye(!1),Ae(!1)}),200)}),[]);(0,w.A)(be,(()=>{fe&&Me()}),!0);const Ge=(0,r.useCallback)(((e,t)=>{pe((0,v.RO)(n,e,t))}),[pe,n]),Ye=(0,r.useCallback)(((e,t,i)=>{const o=t?.meta?.type||t?.meta?.body?.code;if(t&&ve("eats:store_quick_add_error",{storeUuid:n,error:t}),"DRAFT_ORDER_VALIDATION_ERROR"===o||"CREATE_DRAFT_ORDER_VALIDATION_ERROR"===o||"ORDER_ALERT_ERROR"===o)return Ue(!1,t,!1,_e)}),[Ue,ve,_e,n]),{increment:ze,decrement:Fe,updateDecimalQuantity:qe,addToCart:Qe,isDifferentStoreFromCart:Ve,serverCart:We}=(e=>{let{storeUuid:t,item:i,quantity:o,sectionUuid:a,subsectionUuid:n,onAddedToCart:l,decimalQuantity:s,quickAddSource:d,analytics:c,resultIndex:u,sourceType:m,searchTerm:p}=e;const{store:g}=(0,E.Ay)(t,{cacheOnly:!0}),I=(0,Q.A)(!0),{serverCart:A}=(0,F.B_)(),h=(0,S.wA)(),f=A.data?.groupedItems,{outOfItemAction:y,selectionSource:b}=(0,W.A)(),_=(0,r.useMemo)((()=>(((f||[]).find((e=>e.isCurrentUser))||{}).items||[]).filter((e=>e.uuid===i.uuid))),[f,i.uuid]),U=(0,r.useMemo)((()=>(0,V.A)(_.map((e=>{let{quantity:t}=e;return t})))),[_]),C=(0,X.Ui)(i),{promotionUuid:k=null}="itemLevelPromotion"in i&&i?.itemLevelPromotion?.type===L.Ei.multiSKUFlatPromotion?i?.itemLevelPromotion?.multiSKUFlatPromotion:{},T=(0,r.useMemo)((()=>({error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(i.price),title:String(i.title),uuid:i.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(i.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:a,subsectionUuid:n,itemDescription:C??"",purchaseInfo:i.purchaseInfo,itemLevelPromotion:{type:L.Ei.multiSKUFlatPromotion,multiSKUFlatPromotion:{promotionUuid:k}}}})),[i.uuid,i.price,i.title,i.imageUrl,i.purchaseInfo,C,k,a,n]),D="itemAd"in i?i.itemAd:null,{addToCart:x}=(0,q.A)({store:g,menuItem:T,selectedCustomizations:{},quantity:o,specialInstructions:"",outOfItemAction:y,onAddedToCart:l,decimalQuantity:s,itemAd:D,analytics:{catalogSection:c?.catalogSection},resultIndex:u,sourceType:m,searchTerm:p,selectionSource:b}),P=Boolean(A?.hasLoaded&&g.hasLoaded&&A.data?.items?.length&&A?.data?.storeUuid!==g?.data?.uuid),R=(0,r.useCallback)(((e,t)=>{t?I(t,e,{isQuickAdd:!0},m):x({isStartingNewOrder:P,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:d}}),h((0,v.C2)())}),[x,h,P,d,m,I]),N=(0,r.useMemo)((()=>_.sort(((e,t)=>new Date(t.createdTimestamp??0)-new Date(e.createdTimestamp??0)))),[_]),O=(0,r.useCallback)((e=>{const t=N[0];R(e+(t?.quantity||0),t?.shoppingCartItemUuid)}),[N,R]),$=(0,r.useCallback)((e=>{let t=e;for(let e=0;e<N.length;e++){const i=N[e];if(i){if(0===t)return;if(i.quantity>=t){R(i.quantity-t,i.shoppingCartItemUuid);break}t-=i.quantity,R(0,i.shoppingCartItemUuid)}}}),[N,R]),B=(0,r.useCallback)((e=>{const t=N[0];e.base<=0?R(0,t?.shoppingCartItemUuid):R(e,t?.shoppingCartItemUuid)}),[N,R]);return{addToCart:x,increment:O,decrement:$,updateDecimalQuantity:B,cartItemMatch:_,cartItemQuantity:U,serverCart:A,isDifferentStoreFromCart:P}})({storeUuid:n,item:t,quantity:ge,sectionUuid:d,subsectionUuid:i,onAddedToCart:Ye,decimalQuantity:h.decimal,quickAddSource:b,analytics:R,resultIndex:se,sourceType:T,searchTerm:O});(0,r.useEffect)((()=>{const e=I.R9.maybeFrom(p)?.toFloat();(ke?A&&e!==ge:A&&m!==ge)&&pe((0,v.RO)(n,t.uuid||"",p||m))}),[t,ke,p,A,m,t.uuid,pe,ge,n]);const Xe=(0,r.useCallback)((e=>{if((!Re&&!we||t.hasCustomizations||!t?.quickAddConfig?.isInteractionEnabled)&&0===ge)return;if(!_)return;if(e.preventDefault(),e.stopPropagation(),y)return;const o=(0,C.hk0)({location:Se.location,args:{sectionUuid:d,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:n||"",storeSlug:x||Ee||""}}),r=me||o,a=(0,C.ejv)(Se.location,{sectionUuid:d,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:n||"",storeSlug:x||Ee||""}),l=(0,g.ES)(t),s=l.defaultDecimal||I.R9.from(1).updateExponent(l.increment?.exponent||0).toBaseDecimal();return Le?Se.push((0,K.ZW)(Se.location)):Ve&&!Pe?(pe((0,v.Db)({storeUUID:n,item:t,quantity:s,sectionUUID:d,subsectionUUID:i,catalogSectionUUID:c})),Se.push(a)):xe!==n&&Boolean(Te.length)&&Te[0]!==t.uuid?Se.push(r):xe===n||Te.length||!We.isLoading||fe?(ye(!0),void(0===ge&&(pe((0,v.RO)(n,t.uuid||"",s)),pe((0,v.JP)(t.uuid))))):Se.push(r)}),[xe,c,Re,y,pe,Se,Ve,Pe,_,t,Te,fe,ge,d,We.isLoading,Le,x,Ee,n,i,me,we]),He=(0,s.A)(h,1e3),Ke=U===M.Cd?.LIKELY_UNAVAILABLE;if(!Ce)return null;const je=()=>{N&&N()};return(0,f.Y)(Z.A,{type:"login",sourceCta:"add_to_cart",sourceFlow:"storefront",children:e=>{let{onClick:o}=e;return(0,f.Y)(J.A,{isEligible:!Ne.data?.isLoggedIn&&!Re&&!we,experimentParams:ee.P.storefront_auth_vs_add_nudge,children:e=>(0,f.Y)(re,{onClick:t=>{e?(ve("eats:redirect_authentication_attempt",{source:"quick_add_to_cart"}),o()):Xe(t)},ref:be,$isOpen:fe,children:fe?(0,f.Y)($,{storeUUID:n,sectionUUID:d,subsectionUUID:i,catalogSectionUUID:c,item:t,quantity:ge,updateQuantity:Ge,cartItemCount:m,closeAnimation:Ie,closeStepper:Me,isDifferentStoreFromCart:Ve,isPerformingCartUpdate:We.isLoading,addToCart:Qe,increment:ze,decrement:Fe,quickAddCount:h,decimalQuantity:h.decimal,updateDecimalQuantity:qe,debouncedQuickAddCount:He,quickAddSource:b,isLowAvailabilityItem:Ke,sourceType:T,analytics:R,searchTerm:O,selectedVertical:de,itemPosition:ce,position:ue,size:le}):(0,f.Y)(ne,{"data-testid":"quick-add-button",disabled:y,"aria-label":he("quick_add"),radius:"pillButtonBorderRadius",onClick:je,$size:le,children:ge>0?ke?(0,f.FD)(ae,{$size:le,children:[ge," ",(0,g.$v)(t)]}):(0,f.Y)(ae,{$size:le,children:ge}):(0,f.Y)(l.A,{name:"PlusSmallFilled",size:"small"===le?16:20})})})})}})},se=o.memo(le);var de=i(14169),ce=i(44784);const ue=(0,n.I4)("div",(e=>{let{$theme:t,$closeAnimation:i}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:t.colors.quickAddButtonBackground,border:`2px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),me=(0,n.I4)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,width:"max-content",paddingLeft:"small"===i?"2px":"16px",paddingRight:"small"===i?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:t.colors.quickAddButtonColor}})),pe=(0,n.I4)("button",(e=>{let{$theme:t,$size:i,disabled:o}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:t.colors.quickAddButtonColor,background:t.colors.quickAddButtonBackground,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive},...o&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive}}}})),ge=e=>{const t=(0,a.c)(),{onQuantityUpdated:i}=e,o=e.quantity.minQuantity,n=e.quantity.step,s=e.quantity.maxQuantity,d=e.quantity.currentQuantity,c=I.R9.from(d).toE5(),u=(0,r.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const t=c.add(n).toFloat(),o=I.R9.from(t).toBaseDecimal();i(o)}),[c,n,i]),m=(0,r.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const t=c.subtract(n);if(t.isLt(o))i({base:0,exponent:0});else{const e=t.toFloat(),o=I.R9.from(e).toBaseDecimal();i(o)}}),[c,n,o,i]);return(0,f.FD)(ue,{$closeAnimation:e.closeAnimation,children:[(0,f.Y)(pe,{"data-test":"quick-add-minus","aria-label":t("shared.decrement"),disabled:Boolean(e.isDisabled)||c.isLt(o),onClick:m,$size:e.size,children:c.isLte(o)?(0,f.Y)(l.A,{name:"TrashCanFilled",size:"small"===e.size?16:20}):(0,f.Y)(l.A,{name:"MinusSmallFilled",size:"small"===e.size?16:20})}),(0,f.Y)(me,{"aria-label":t("shared.itemsCount",{itemCount:c.toFloat()}),"aria-live":"assertive",$size:e.size,"data-test":"quick-add-quantity",children:(0,f.FD)("span",{"aria-hidden":"true",children:[c.toFloat()," ",e.quantity.suffix??""]})}),(0,f.Y)(pe,{$size:e.size,"aria-label":t("shared.increment"),"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||c.isGte(s),onClick:u,children:(0,f.Y)(l.A,{name:"PlusSmallFilled",size:"small"===e.size?16:20})})]})},Ie=(0,r.memo)(ge);var Ae=i(56554),he=i(65493),fe=i(71715),ye=i(84532),be=i(18270),_e=i(9150),Ue=i(20697),Se=i(93361),ve=i(82840),Ce=i(35152),ke=i(98912),Te=i(15010),De=i(11752),xe=i(73077),Pe=i(83604),Ee=i(23977),Le=i(85906),Re=i(15356),Ne=i(85913),Oe=i("__fusion__e5990cf4f7"),$e=i(74642),Be=i(34646),we=i(76570),Me=i(33293),Ge=i(33972),Ye=i(54038),ze=i(27499),Fe=i(24733),qe=i("__fusion__3252e3036f"),Qe=i(31725);const Ve=(0,n.I4)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),We=(0,n.I4)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),Xe=(0,n._F)(d.A,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}}));function He(e){let{storeId:t,isDisabled:i,size:n,storeItem:s,sectionUUID:d,subsectionUUID:c,catalogSectionUUID:u,onQuickAddClicked:p,sourceType:g,resultIndex:A,searchTerm:h,analytics:y,itemQuantityInCart:b,onProductQuantityUpdated:_,actionUrl:U,isMultiSkuModal:S,selectedVertical:v,itemPosition:D,position:$,adsAnalyticsMetadata:B}=e;const G=(0,k.Ay)(),Y=(0,T.Ie)(),z=(0,O.Z)(),[F,q]=(0,r.useState)(!1),Q=(0,a.c)(),[V,H]=o.useState(!1),K=o.useRef(null),Z=(0,r.useCallback)((()=>{q(!0),setTimeout((()=>{H(!1),q(!1)}),200)}),[]);(0,w.A)(K,(()=>{V&&Z()}),!0);const J=(0,j.A)(),ee=!(0,X.Ss)(J),{shouldCheckAndUpdateGratis:te,checkAndUpdateGratis:ie}=(0,R.A)(N.Zn.LAST_ACTION_ADD_TO_CART),oe=s.uuid??"",re=s.purchaseInfo?.purchaseOptions?.[0],ae=(0,r.useMemo)((()=>(0,Re.A)(re,b)),[b,re]),{...ne}=(0,Ae.G)(),{deliveryTime:le,hasActiveDraftOrderMetadata:se}=(0,he.A)(t),{isInMulticart:de}=(0,fe.A)(),ce=(0,ye.A)(),{handledHighCapacityOrderIntent:ue}=(0,be.A)(),{store:me}=(0,E.Ay)(t,{cacheOnly:!0}),pe=(0,r.useMemo)((()=>(0,ke.WT)(me.data||void 0)),[me.data]),ge=ue?.hhcOrderSize||(0,_e.Yc)(me.data?.groupOrderSizes||void 0)?.hhcOrderSize,{deliveryInstructions:ve}=(0,Ue.Ku)(),Pe=ve.data?.selectedInstruction?.interactionType||ve.data?.preferredInteractionType||Se.te.interactionType,Ee=de&&!se,Le=s.hasCustomizations,Ne=me.data?(0,P.Sl)(me.data):void 0,{promotionUuid:Oe=null}="itemLevelPromotion"in s&&s?.itemLevelPromotion?.type===L.Ei.multiSKUFlatPromotion?s?.itemLevelPromotion?.multiSKUFlatPromotion:{},$e=(0,De.A)(),Be=(0,xe.NL)($e),{storeCatalogSections:we,entryPoint:Me,originalCatalogSectionUuid:Ye,primaryDraftOrderUUID:ze}=(0,Ce._l)((e=>(0,C.g$k)(e,["storeCatalogSections","entryPoint","originalCatalogSectionUuid","primaryDraftOrderUUID"]))),Fe=(0,m.A)({item:s,storeUuid:t,cartQuantity:I.R9.from(ae.currentQuantity).toInt()}),{selectionSource:qe}=(0,W.A)(),Qe=()=>{if(me.data?.fulfillmentIssueOptions){const e=me.data.fulfillmentIssueOptions?.resolutionActions,t=e?.find((e=>e.isDefault));if(t&&null!==t.action){return{...t?.action||{},selectionSource:qe}}}},He=(0,r.useCallback)((e=>{const i=I.R9.from(ae.currentQuantity),o=I.R9.from(e).subtract(i).isGt(0)?"increment":"decrement",r="itemAvailabilityState"in s&&s.itemAvailabilityState===M.Cd.LIKELY_UNAVAILABLE,a="analyticsLabel"in s&&s.analyticsLabel?s.analyticsLabel:void 0;te&&ie(),G("eats:quick_add_button_tap",{isNewCartAbstraction:!0,verticalType:Ne,quickAddOperation:{storeUuid:t,itemUuid:oe,previousQuantity:i.toFloat(),updatedQuantity:I.R9.from(e).toFloat(),operationType:o,searchTerm:h,selectedVertical:v,itemPosition:D,carouselPostion:$,lowAvailabilityItemUuid:r?oe:"",catalogSectionUuid:u||d,sectionUuid:d,subsectionUuid:c,...g?{sourceType:g}:{},...y?.catalogSection?{catalogSectionAnalyticsData:y.catalogSection}:{},...Oe&&{promotionUuid:Oe}},...z?{attributionInfo:z}:{},analyticsLabel:a}),"increment"===o&&"itemAd"in s&&Y("ads:ads_click",{adsAnalyticsEvent:{adEventType:x.S.CLICK,adImpressionUUID:s.itemAd?.impressionId||"",adData:s.itemAd?.adData||"",analyticsLabel:a,bidderUUID:t,clientDataMap:{quickAddToCartAction:"INCREMENT"},collectionRank:s?.catalogItemAnalyticsData?.catalogSectionItemPosition??D??void 0,collectionSize:B?.numberOfItems,rank:y?.catalogSection?.catalogSectionPosition??void 0}})}),[y,Y,G,ae.currentQuantity,h,v,D,$,d,g,t,s,oe,c,Ne,Oe,u,B,te,ie,z]),Ke=(0,r.useCallback)((async e=>{0===e.base&&Z();const t=I.R9.from(ae.currentQuantity),i=I.R9.from(e).subtract(t);Fe({increment:I.R9.from(i).toInt(),showSnackbarWarning:!0}),m.o.ABOVE_LIMIT;const o={price:Number(s.price),customizationsList:[],images:null,nutritionalInfo:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},itemDescription:(0,X.Ui)(s)},r=we?"l2":"l1",a="catalogItemAnalyticsData"in s&&"number"==typeof s.catalogItemAnalyticsData?.catalogSectionItemPosition?s.catalogItemAnalyticsData?.catalogSectionItemPosition:-1,n={storeAnalytics:pe,isDelegatedBooking:ne.isDelegatedBooking,deliveryTime:"object"==typeof le&&"scheduled"in le?Te.I.scheduled:Te.I.asap,menuItem:o,diningMode:Be,catalogItemLevel:r,surfaceType:g,itemPosition:a,resultIndex:A,storeAvailabilityState:me.data?.storeInfoMetadata?.storeAvailablityStatus?.state??"UNKNOWN",entryPoint:Me,storeVerticalType:me.data?(0,P.Sl)(me.data):void 0,storeCatalogSectionAnalytics:y?.catalogSection,originalCatalogSectionUuid:Ye,...h&&{searchTerm:h}};He(e),_({newQuantity:{...ae,currentQuantity:e},analyticsRelevantData:n,delegatedBooking:ne,deliveryTime:le,isInMulticart:de,storeCurrencyCode:me.data?.currencyCode??"USD",selectedVoucher:ce,hhcOrderSize:ge,interactionType:Pe,fulfillmentIssueAction:Qe(),shouldUpdateDraftOrderMetadata:Ee})}),[He]),{consumerItemFulfillmentViewType:je,isFulfilled:Ze,showBlockedItemSnackbar:Je}=(0,Ge.K)(s.uuid??""),et=(0,r.useCallback)((e=>{if(Ze)return Je?.(je,s.title),e.stopPropagation(),void e.preventDefault();p&&!S&&p();ee||Le||!(Ne&&"grocery"===Ne?s?.quickAddConfig?.isInteractionEnabled??!0:s?.quickAddConfig?.isInteractionEnabled)||Boolean(ze)||(e.stopPropagation(),e.preventDefault(),H(!0),b&&b?.currentQuantity?.base||Ke(ae.defaultQuantity??ae.minQuantity))}),[p,ee,Le,s?.quickAddConfig?.isInteractionEnabled,ze,b,Ke,Ne,Ze,Je,s.title,je,S,ae.minQuantity,ae.defaultQuantity]),tt=I.R9.from(Le?ae.totalQuantityWithCustomizations??ae.currentQuantity:ae.currentQuantity);return(0,f.Y)(Ve,{onClick:et,ref:K,$isOpen:V,children:V?(0,f.Y)(Ie,{onQuantityUpdated:Ke,size:n,quantity:ae,closeAnimation:F,isDisabled:i}):(0,f.Y)(Xe,{"data-testid":"quick-add-button",disabled:i,"aria-label":Q("quick_add"),radius:"pillButtonBorderRadius",$size:n,children:tt.isGt(0)?(0,f.Y)(We,{$size:n,children:`${tt.toFloat()}${ae.suffix}`}):(0,f.Y)(l.A,{name:"PlusSmallFilled",size:"small"===n?16:20})})})}const Ke=o.memo(He,((e,t)=>e.itemQuantityInCart===t.itemQuantityInCart)),je=e=>{const t=(0,ce._)({getCartFrom:"storeId",storeId:e.storeId}),{enqueue:i}=(0,$e.dh)(),[n,l]=o.useState(null),s=(0,Ye.A)(),{isLiveOrder:d,liveOrderUuid:c}=(0,Ee.G)(),u=(0,ze.F)(),m=(0,r.useRef)(u);m.current=u;const p=(0,Le.u)({getCartFrom:"workflowId",workflowId:c}),g=(0,Pe.S)({cartType:"DRAFT_ORDER",getCartFrom:"storeId",storeId:e.storeId,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),A=(0,Pe.S)({cartType:"LIVE_ORDER",getCartFrom:"workflowId",workflowId:c,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),h=d?{type:"LIVE_ORDER",cartState:p,itemQuantityInCart:A}:{type:"DRAFT_ORDER",cartState:t,itemQuantityInCart:g},y=(0,r.useRef)(h);y.current=h;const b=(0,B.d4)((e=>{let{checkout:t}=e;return t})),_=(0,k.Ay)(),{isAddOnStore:U,addOnOfferContext:S}=(0,Me.A)(e.storeId),{selectedBusinessProfile:v,profileSource:C,paymentProfileUuidForSelectedProfile:T}=(0,Fe.A)(),D=(0,a.c)(),x=(0,Qe.A)("business_profile_validation_error_snackbar_enabled")??!1,P=(0,r.useCallback)((async t=>{let{newQuantity:o,fulfillmentIssueAction:r}=t;try{m.current({type:"store",num:o.currentQuantity,skuUuid:e.storeItem.uuid??"",storeItem:e.storeItem,storeIdentifier:{storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID},fulfillmentIssueAction:r}).then((t=>{"SUCCESS_EDIT_CART_ITEM"===t?.type&&(i({message:(0,we.De)(t?.infoMessages?.updateCartInfoDetails?.infoSnackBar?.message),startEnhancer:()=>(0,f.Y)(Oe.default,{size:"24"})},Be.f.short),e.isMultiSkuModal&&e.onQuickAddClicked&&e.onQuickAddClicked())})).catch((e=>{"UPDATE_ITEMS_IN_CART_BOTTOM_SHEET"===e.name?l(e.payload[0]):s()}))}catch(t){_("eats:store_quick_add_error",{storeUuid:e.storeId,error:t})}}),[]),E=(0,r.useCallback)((async t=>{let{newQuantity:o,analyticsRelevantData:r,delegatedBooking:a,deliveryTime:n,isInMulticart:l,storeCurrencyCode:s,selectedVoucher:d,hhcOrderSize:c,interactionType:u,fulfillmentIssueAction:m,shouldUpdateDraftOrderMetadata:p}=t;if("DRAFT_ORDER"===y.current.type)try{switch(y.current.cartState.status){case"MISSING":case"DELETING":await y.current.cartState.actions.editQuantityInCart({cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,ve.A)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:I.R9.from(o.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:m,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},startingQuantity:o,analyticsRelevantData:{...r,profileSource:C},checkoutReducer:b,delegatedBooking:a,deliveryTime:n,hasDelegatedBookingDraftOrder:!1,isMulticart:l,selectedVoucher:d,sourceFeature:"add-to-cart",storeCurrencyCode:s,actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},hhcOrderSize:c,eventSource:"quick_add",interactionType:u,...v?{businessDetails:{profileUUID:v?.uuid,profileType:v?.type},paymentProfileUUID:T}:null,...U&&S?{deliveryType:"MULTI_RESTAURANT_ORDERING_ADD_ON",addOnOfferContext:S}:{}});break;case"CREATING":case"AVAILABLE":case"SYNCING":await y.current.cartState.actions.editQuantityInCart({item:{type:"store",storeItemId:e.storeItem.uuid??"",storeId:e.storeId,shouldUpdateDraftOrderMetadata:p,cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,ve.A)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:I.R9.from(o.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:m,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},newQuantity:o},actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},analyticsRelevantData:r,eventSource:"quick_add"})}e.isMultiSkuModal&&e.onQuickAddClicked&&e.onQuickAddClicked()}catch(t){if(_("eats:store_quick_add_error",{storeUuid:e.storeId,error:t}),x){const e=t.error.meta.alert.body.text??D("components.genericError.title");i({message:e,startEnhancer:()=>(0,f.Y)(qe.default,{size:"24"})},Be.f.short)}}}),[U,S,v,x]);return"LOADING"===h.cartState.status||"OUTDATED"===h.cartState.status?null:(0,f.FD)(f.FK,{children:[n?(0,f.Y)(Ne.A,{orderValidationError:n,onClose:()=>l(null)}):null,(0,f.Y)(Ke,{...e,itemQuantityInCart:h.itemQuantityInCart,onProductQuantityUpdated:d?P:E})]})},Ze=(0,r.memo)(je);var Je=i(5678),et=i(71104);let tt=function(e){return e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e}({});const it=o.memo((e=>{const t=(0,Qe.A)("old_quick_add_for_guest_order"),i=(0,de.v)(),{isLiveOrder:o}=(0,Ee.G)(),{isEditOrder:r,draftOrder:a}=(0,F.tC)(),{isDelegatedBooking:n}=(0,Ae.G)(),{hasGroupOrderForStore:l}=(0,z.A)(e.storeUUID);return i&&!(a&&void 0===a?.businessDetails?.profileUUID&&t)&&!l&&!r&&!n||o?(0,f.Y)(Ze,{actionUrl:e.actionUrl,storeId:e.storeUUID,size:e.size??tt.LARGE,storeItem:e.item,sectionUUID:e.sectionUUID,subsectionUUID:e.subsectionUUID,catalogSectionUUID:e.catalogSectionUUID,onQuickAddClicked:e.onClickEvent,sourceType:e.sourceType,searchTerm:e.searchTerm,quickAddSource:e.quickAddSource,resultIndex:e.resultIndex,analytics:e.analytics,isMultiSkuModal:e.isMultiSkuModal,selectedVertical:e.selectedVertical,itemPosition:e.itemPosition,position:e.position,adsAnalyticsMetadata:e?.adsAnalyticsMetadata}):(0,f.Y)(se,{...e})}));it.displayName="StoreSharedQuickAdd";const ot=e=>(0,f.Y)(Je.A,{children:(0,f.Y)(et.A,{visibility:!0,entryAnimation:"fade-in",exitAnimation:"fade-out",children:(0,f.Y)(it,{...e})})}),rt=o.memo(ot)},71333:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var o=i(41967),r=i(59160),a=i(4914),n=i(40014);const l=(0,o.I4)("div",(e=>({display:"flex",alignItems:"center",flexDirection:"row",...e.$theme.typography.LabelLarge,color:e.$theme.colors.buttonPrimaryText,background:e.$theme.colors.buttonPrimaryFill,boxSizing:"border-box",height:"36px",minWidth:"36px",minHeight:0,padding:"2px 4px",justifyContent:"center",border:`1px solid ${e.$theme.colors.buttonPrimaryText}`,borderRadius:e.$theme.borders.pillButtonBorderRadius}))),s=e=>{let{count:t}=e;const i=(0,r.jH)(),o=(0,a.c)();return(0,n.Y)(l,{$direction:i,role:"status","aria-live":"polite","aria-atomic":"true","aria-label":o("shared.itemsCount",{count:t}),children:t})}},76852:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var o=i(75455),r=i(49386),a=i(84183),n=i(12615),l=i(3207);const s=()=>{const{desktopFeatures:e}=(0,o.A)(),{user:t}=(0,a.A)(),{store:i,isGrStore:s}=(0,r.oX)(),d=(0,n.A)(),c=(0,l.A)(),u=t.data?.isLoggedIn,m=i?.data?.isLost;let p={...e,showLostMerchantHeroSection:!1,hasDeliveryAddressSearchBar:!1,hasHeroSection:!0,hasSharedDeliveryTime:!0,showQuickAdd:!0,menuItem:"link",menuItemImage:"default",menuItemCursor:"pointer",colorScale:"default",deliveryLocation:d,hasLogo:!0,showDeliveryTime:!0,hasQuickAdd:c,menuItemPriceTagline:"default",hasEphemeralAddressInput:!0,hasInfoSummary:!0,hasMenuSearchBar:!0,hasTopLinksNewVerticals:!0};return m&&(p={...p,showLostMerchantHeroSection:!0,hasDeliveryAddressSearchBar:!u,hasHeroSection:!1,hasSharedDeliveryTime:!1,showQuickAdd:!1,menuItem:"disabled",menuItemImage:s?"placeholder":"hidden",menuItemCursor:"default",colorScale:"gray",hasNewInStoreSearch:!1,hasLogo:!1,storeInfoConfig:{...p.storeInfoConfig,showBrandingInfoAndControls:!1},showDeliveryTime:!1,hasQuickAdd:!1,menuItemPriceTagline:"hidden",hasEphemeralAddressInput:!1,hasInfoSummary:!1,hasDeliveryRowControls:!1,hasMenuSearchBar:!1,hasTopLinksNewVerticals:!1}),p}},79684:(e,t,i)=>{"use strict";i.d(t,{t:()=>u});var o=i(14787),r=i(63905),a=i(41967),n=i(4914),l=i("__fusion__e001354790"),s=i(25263),d=i("__fusion__24e54712c6"),c=i(40014);const u=e=>{let{consumerItemFulfillmentViewType:t,isMobile:i=!1}=e;const[,u]=(0,a.c6)(),m=(0,n.c)();let p="",g=d.default;switch(t){case"IN_REVIEW":p=m("item.fulfillment_state.in_review"),g=d.default;break;case"REPLACED":p=m("item.fulfillment_state.replaced"),g=d.default;break;case"FOUND":p=m("item.fulfillment_state.found"),g=l.default;break;case"REFUNDED":p=m("item.fulfillment_state.refunded"),g=s.A;break;default:return null}return(0,c.Y)(o.A,{closeable:!1,size:r.SK.small,overrides:{Root:{style:e=>{let{$theme:t}=e;return{borderRadius:t.borders.tagBorderRadius,width:"fit-content",color:t.colors.contentPrimary,overflowY:"hidden",...i?{fontSize:t.sizing.scale500,marginLeft:"0px"}:{fontSize:t.sizing.scale550,padding:t.sizing.scale450}}}}},startEnhancer:()=>(0,c.Y)(g,{color:u.colors.contentPrimary,size:u.sizing.scale400}),children:p})}},88168:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});const o=Object.freeze({UNKNOWN:"UNKNOWN",OVER_IMAGE_TOP_LEADING:"OVER_IMAGE_TOP_LEADING",OVER_IMAGE_TOP_TRAILING:"OVER_IMAGE_TOP_TRAILING",OVER_IMAGE_BOTTOM_LEADING:"OVER_IMAGE_BOTTOM_LEADING",OVER_IMAGE_BOTTOM_TRAILING:"OVER_IMAGE_BOTTOM_TRAILING",OFF_IMAGE_ABOVE_TEXT:"OFF_IMAGE_ABOVE_TEXT",OFF_IMAGE_BELOW_TEXT:"OFF_IMAGE_BELOW_TEXT"})},88361:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var o=i(41967),r=i(31725),a=i(69229),n=i(97684),l=i(40014);const s=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall}})),d=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary}})),c=e=>{let{catalogItem:t}=e;const i=(0,r.A)("enable_catalog_dev_tools"),o=(0,a.A)();if(!i||!o)return null;const c=t.catalogItemAnalyticsData?.itemRankingAnalyticsData;return c&&0!==(0,n.X)(c).length?(0,l.Y)(s,{children:c.itemRankingScores?.map((e=>e.modelVersion&&null!=e.score?(0,l.FD)(d,{children:[e.modelVersion,": ",parseFloat(e.score.toFixed(4)).toString()]},e.modelVersion):null))}):null}},91856:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var o=i(66597);const r=Object.freeze({PDP:"pdp",ITEM_LEVEL:"item_level"});o.vM,o.vM},92114:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var o=i(66764),r=i(41967),a=i(8474),n=i(57716),l=i(86105),s=i(73939),d=i(91156),c=i(57806),u=i(5592),m=i(71715),p=i(98177),g=i(66371),I=i(40014);const A=(0,r._F)(s.BM,(e=>{let{$theme:t,$isHovering:i}=e;return{transition:"opacity 0.3s ease-in-out",opacity:i?1:0,background:t.colors.backgroundPrimary,":hover":{background:t.colors.backgroundSecondary},color:t.colors.contentPrimary,boxShadow:t.shadows.filterCard,pointerEvents:"auto",border:`1px solid ${t.colors.borderOpaque}`,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),h=e=>{const t=(0,l.zy)(),i=(0,m.G)(),{primaryDraftOrderUUID:r}=(0,a.g$k)(t,["primaryDraftOrderUUID"]),s=r||(i||void 0),h=(0,d.Ay)(),f=(0,c.Ie)(),{startTiming:y}=(0,g.zR)(),b=(0,p.z)(e.surface);return(0,I.Y)(A,{$as:n.N_,onClick:t=>{h("eats:quick_view_pill_click",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}}),e.item.itemAd&&f("ads:ads_click",{adsAnalyticsEvent:{adEventType:u.S.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:e.storeUuid,collectionRank:e?.item?.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0}}),y(`quick_view_loaded_${e.item.uuid}`,{metadata:{entryPoint:b}}),t.stopPropagation()},to:(0,a.qO8)(t,{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,...e.isMultiSkuModal&&{referrer:a.R8i.multiSkuPromotion},...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:s,entryPoint:b}}),$isHovering:e.isHovering,children:(0,I.Y)(o.H,{id:"catalog_item.quick_view"})})}},96926:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var o=i("__fusion__95b4ba69e5"),r=i(61281),a=i(49386);function n(e){const{queueCatalogItemImpression:t,isGrStore:i}=(0,a.oX)(),n=o.useRef(!1),[l,s]=(0,r.AF)({root:null,threshold:0}),d=o.useRef(l?.current?.getBoundingClientRect());return o.useEffect((()=>{if(l?.current&&!d.current&&(d.current=l.current.getBoundingClientRect()),s&&s.isIntersecting&&!n.current){const o=s.boundingClientRect,r=((e,t)=>Math.abs(t.top-(e?.top||0))<Math.abs(t.left-(e?.left||0))?"HORIZONTAL":"VERTICAL")(d.current,o);t({...e.storeCatalog,scrollDirection:r,...e.storeCatalog.verticalLabel?{}:{verticalLabel:i?"GROCERY":"RESTAURANT"}}),n.current=!0}return()=>{n.current=!1}}),[s,e,t,l,i]),l}},98177:(e,t,i)=>{"use strict";i.d(t,{z:()=>a});var o=i(76366),r=i(24518);const a=e=>{switch(e){case o.g.PDP_CROSS_SELL:return r.OH.PDP_CROSS_SELL;case o.g.BUNDLE_CAROUSEL:return r.OH.BUNDLE_CAROUSEL;case o.g.BUNDLE_INTERSTITIAL:return r.OH.BUNDLE_INTERSTITIAL;case o.g.GLOBAL_SEARCH:return r.OH.GLOBAL_SEARCH;case o.g.COMBO_PAGE:return r.OH.COMBO_PAGE;default:return r.OH.STORE}}},__fusion__24e54712c6:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var o=i(90417),r=i(40014);const a=o.forwardRef((function(e,t){let{title:i="Arrow circular",titleId:o,size:a="1em",...n}=e;return(0,r.FD)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...n,children:[void 0===i?(0,r.Y)("title",{id:o,children:"Arrow circular"}):i?(0,r.Y)("title",{id:o,children:i}):null,(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.9 5H.5l3-3H11v7.5l-3 3V6.3C6.2 7.5 5 9.6 5 12c0 3.5 2.6 6.4 6 6.9v3c-5-.5-9-4.7-9-9.9 0-2.7 1.1-5.2 2.9-7ZM22 12c0 2.7-1.1 5.2-2.9 7h4.4l-3 3H13v-7.5l3-3v6.2c1.8-1.2 3-3.3 3-5.7 0-3.5-2.6-6.4-6-6.9v-3c5 .5 9 4.7 9 9.9Z",fill:"currentColor"})]})}))}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-57468-8c9df1593ee609f2.js.map