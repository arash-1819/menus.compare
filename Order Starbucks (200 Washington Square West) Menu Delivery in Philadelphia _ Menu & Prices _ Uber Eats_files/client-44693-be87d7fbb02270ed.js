"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[44693],{14841:(e,t,r)=>{r.d(t,{A:()=>s,R:()=>o});var i=r("__fusion__95b4ba69e5"),n=r(39182),a=r(41967),l=r(40014);const o=(0,a.I4)("div",(e=>{let{$ignorePadding:t}=e;return{marginLeft:`-${n.ot}`,marginRight:`-${n.ot}`,...t?{}:{paddingLeft:n.ot,paddingRight:n.ot}}})),d=(0,a.I4)("div",(e=>({maxWidth:e.$maxWidth?e.$maxWidth:n.tj,minWidth:e.$minWidth?e.$minWidth:n.dc,margin:"0 auto",boxSizing:"border-box",display:e.$flex?"flex":"block",...e.$ignorePadding?{}:{padding:`0 ${e.$horizontalPadding?e.$horizontalPadding:n.ot}`}}))),s=(0,a.K6)(d,(e=>i.forwardRef((function(t,r){return(0,l.Y)(e,{ref:r,...t})}))))},16307:(e,t,r)=>{r.d(t,{Ay:()=>w,R1:()=>b,Zk:()=>v,pv:()=>O});var i=r("__fusion__55bcab8f00"),n=r(41967),a=r(23963),l=r(23599),o=r(39182),d=r(12471),s=r(77243),c=r(40014);const p=(0,n.I4)("div",{position:"relative",zIndex:o.IQ.base}),h=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...(0,a.A)({$theme:t}),backgroundSize:"100vw 100%",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:o.IQ.background}})),u=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",...t.typography.LabelLarge}})),g=(0,n._F)(l.lL,{height:"64px",width:"64px",display:"flex",alignItems:"center",justifyContent:"center"}),m=(0,n.I4)("div",{display:"flex",flexDirection:"column",flexGrow:1}),f=(0,n.I4)("div",{display:"flex"}),x=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{height:"96px",width:"96px",background:`radial-gradient(circle at 50%, transparent 32px, ${t.colors.backgroundPrimary} 32px)`}})),y=(0,n.I4)("div",(e=>{let{$theme:t,$isMobile:r}=e;return{display:"flex",flexDirection:"column",flexGrow:1,marginLeft:r?`-${t.sizing.scale600}`:0,marginRight:r?`-${t.sizing.scale600}`:0}})),I=()=>(0,c.FD)(f,{children:[(0,c.Y)(x,{}),(0,c.FD)(y,{children:[(0,c.Y)(l.lL,{$width:"100%",$height:"22px"}),(0,c.Y)(l.qd,{width:"100%",height:"20px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"12px"}),(0,c.Y)(l.qd,{width:"100%",height:"20px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"22px"})]}),(0,c.Y)(l.lL,{$width:"24px",$height:"96px"})]}),O=e=>{let{rows:t=3}=e;return(0,c.FD)(p,{children:[(0,c.Y)(h,{}),[...Array(t)].map(((e,t)=>(0,c.Y)(I,{},t)))]})},v=e=>{let{isMobile:t}=e;return(0,c.Y)(s.A,{width:t?"100%":"412px",children:(0,c.FD)(p,{children:[(0,c.Y)(h,{}),(0,c.Y)(l.qd,{width:"100%",height:"32px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"10px"}),(0,c.Y)(l.qd,{width:"70%",height:"20px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"10px"}),(0,c.Y)(l.qd,{width:"70%",height:"20px"})]})})},b=e=>{let{isMobile:t}=e;return(0,c.FD)(c.FK,{children:[(0,c.Y)(v,{isMobile:t}),(0,c.FD)(y,{$isMobile:t,children:[(0,c.FD)(s.A,{position:"relative",marginLeft:"scale600",marginTop:t?"scale600":0,children:[(0,c.Y)(h,{}),(0,c.Y)(l.qd,{width:"220px",height:"32px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"16px"})]}),(0,c.Y)(O,{})]})]})},w=()=>(0,c.FD)(p,{children:[(0,c.Y)(h,{}),(0,c.FD)(u,{children:[(0,c.Y)(g,{children:(0,c.Y)(i.default,{})}),(0,c.FD)(m,{children:[(0,c.Y)(l.lL,{$width:"100%",$height:"22px"}),(0,c.Y)(l.qd,{width:"100%",height:"20px"}),(0,c.Y)(l.lL,{$width:"100%",$height:"22px"})]}),(0,c.Y)(l.lL,{$width:"24px",$height:"64px"})]}),(0,c.Y)(d.A,{$margin:"0"}),(0,c.Y)(I,{}),(0,c.Y)(d.A,{$margin:"0"}),(0,c.Y)(I,{}),(0,c.Y)(d.A,{$margin:"0"}),(0,c.Y)(I,{})]})},18975:(e,t,r)=>{r.d(t,{N:()=>l});var i=r(74225),n=r(67905),a=r(13740);const l=()=>{const e=(0,i.useQueryClient)();return()=>{setTimeout((()=>{e.invalidateQueries(n.e)}),a.qo)}}},25286:(e,t,r)=>{r.d(t,{A:()=>s,m:()=>d});var i=r(74225),n=r(19545),a=r(42120),l=r(45674),o=r(12741);const d=["repeatOrderTemplateMetadata"],s=e=>{const t=(0,o.A)("getDraftOrderByUuidV2"),{isRepeatGroupOrderEditing:r}=(0,a.A)(),s=(0,i.useQuery)({queryKey:[...d,e],queryFn:async()=>{const r=await t.request("getDraftOrderByUuidV2",{draftOrderUUID:e});if("REPEAT_ORDER_TEMPLATE_STATE"!==r.draftOrder?.state)throw new Error("Not a repeat order");return r},enabled:Boolean(e)}),c=s.data?.draftOrder,p=c?.shoppingCart?.groupedItems??[],h=p.filter((e=>!e.isCreator)),u=c?.storeUuid||"",g=!1===c?.shoppingCart.isOwner,m=c?.shoppingCart.isOwner,f=c?.cartLockOptions,x=c?.spendingLimitAmount?.amount?(c.spendingLimitAmount.amount/100).toString():"",y=c?.displayName,I=c?.billSplitOption||n.s.CREATOR_PAYS_ALL,O=c?.repeatSchedule,v=O&&r?(e=>{const{startTime:t,endDate:r}=(0,l.U)(e),i=new Date(t),n=e?.frequency;return{firstOrderScheduledForDate:i,frequency:n,endsOnDate:r?new Date(r):null}})(O):null,b=c?.handledHighCapacityOrderMetadata?.hhcOrderSize;return{query:s,isRepeatOrderParticipant:g,isRepeatOrderCreator:m,groupedItems:p,groupedItemsGuests:h,storeUuid:u,billSplitOption:I,cartLockOptions:f,spendingLimit:x,displayName:y,repeatSchedule:O,repeatOrderOptions:v,groupSizeOption:b}}},34288:(e,t,r)=>{r.d(t,{G4:()=>s,KK:()=>c,Xu:()=>g,cE:()=>u,if:()=>h,kh:()=>d,rw:()=>m});var i=r("__fusion__5d077de75d"),n=r(41967),a=r(65714),l=r(14841),o=r(40014);const d=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.borderOpaque,height:t.sizing.scale300,margin:`${t.sizing.scale600} -${t.sizing.scale600}`}})),s=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale0,backgroundColor:t.colors.borderOpaque,marginLeft:t.sizing.scale800,marginRight:t.sizing.scale1000}})),c=(0,n.I4)("div",{maxWidth:"412px",flex:1}),p=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{height:"64px",width:"64px",backgroundColor:t.colors.backgroundOverlay,color:t.colors.contentInversePrimary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"}})),h=()=>(0,o.Y)(p,{children:(0,o.Y)(i.default,{size:24})}),u=e=>(0,o.Y)(a.$n,{isFullWidth:!0,onClick:e.onClick,isLoading:e.isLoading||!1,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundNegative,":hover":{backgroundColor:t.colors.backgroundNegative}}}}},children:e.children}),g=(0,n._F)(l.A,{display:"flex"}),m=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,padding:`0 ${t.sizing.scale600}`,flexDirection:"column"}}))},40699:(e,t,r)=>{r.d(t,{B4:()=>i,Et:()=>p,FF:()=>m,GN:()=>c,Oc:()=>f,PC:()=>d,UW:()=>x,a6:()=>l,a_:()=>o,bI:()=>h,c2:()=>s,fo:()=>u,jb:()=>a,kb:()=>y,lS:()=>n,ub:()=>g,wI:()=>I});const i="https://tb-static.uber.com/prod/meal-plan/assets/Uber%20Eats%20meal%20plan%20template.csv",n=5,a={MC_HOUR_HALF:30,MC_HOUR_1:60,HOURS_2:120,MC_HOURS_3:180,HOURS_4:240,MC_HOURS_5:300,MC_HOURS_6:360,MC_HOURS_7:420,MC_HOURS_8:480,MC_HOURS_9:540,MC_HOURS_10:600,MC_HOURS_11:660,HOURS_12:720,MC_HOURS_13:780,MC_HOURS_14:840,MC_HOURS_15:900,MC_HOURS_16:960,MC_HOURS_17:1020,MC_HOURS_18:1080,MC_HOURS_19:1140,MC_HOURS_20:1200,MC_HOURS_21:1260,MC_HOURS_22:1320,MC_HOURS_23:1380,HOURS_24:1440,HOURS_48:2880},l=300,o=158,d="443px",s={PAST:"PAST",ACTIVE:"ACTIVE",UPCOMING:"UPCOMING"},c={skipEmptyLines:"greedy",delimiter:"\n"},p=25,h="395px",u="skippedEmails",g={joinOrder:"joinOrder",openCart:"openCart",openStoreFront:"openStoreFront",trackOrder:"trackOrder",viewOrder:"viewOrder",createOrder:"createOrder",shareLink:"shareLink",cancelOrder:"cancelOrder",more:"more",unknown:"unknown"},m={seeAll:"seeAll",createOrder:"createOrder",unknown:"unknown"},f="USD",x={Tail:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.mono400}}},Icon:{style:e=>{let{$theme:t,$isActive:r}=e;const i=r?t.sizing.scale700:t.sizing.scale400;return{width:i,height:i,lineHeight:i,borderTopLeftRadius:i,borderTopRightRadius:i,borderBottomRightRadius:i,borderBottomLeftRadius:i,backgroundColor:r?t.colors.progressStepsActiveFill:t.colors.mono400}}}},y=15,I=18},45674:(e,t,r)=>{r.d(t,{U:()=>y,W:()=>I});var i=r(66764),n=r(41967),a=r(87731),l=r(39027),o=r("__fusion__2de4bc7d83"),d=r(63919),s=r(86833),c=r(46829),p=r(97684),h=r(56489),u=r(40014);const g=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",width:t.sizing.scale1600}})),m=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",background:t.colors.backgroundSecondary,borderRadius:t.sizing.scale200,padding:`${t.sizing.scale600} 0`,marginBottom:t.sizing.scale700}})),f=7,x=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t).getTime();const y=e=>{const t=new Date(e.startDate?.replace(/-/g,"/")??""),r=e?.endDate?new Date(e.endDate?.replace(/-/g,"/")??""):null;return{startDate:t,startTime:x(t,e.deliveryTimeRange?.startTime??0),endDate:r,endTime:x(t,e.deliveryTimeRange?.endTime??0)}};function I(e){let{repeatSchedule:t}=e;const r=function(e){const t=(0,s.O)(),{frequency:r}=e,{startDate:i}=y(e),n=(0,p.X)(c.Bw)[(i.getDay()+6)%f],a=new Date(i.getFullYear(),i.getMonth()+1,0).getDate()-i.getDate()<f?s.v.LAST:(0,p.X)(s.v)[Math.floor(i.getDate()/f)];return t.find((e=>!(e.id!==r||e.weekPosition&&e.weekPosition!==a||e.day&&e.day!==n)))?.label||null}(t),{startDate:n,endDate:x,startTime:I,endTime:O}=y(t),v=(0,a.A)(),b=e=>e.toLocaleDateString(v,{year:"numeric",month:"short",day:"numeric"});return(0,u.FD)(m,{children:[(0,u.Y)(g,{children:(0,u.Y)(o.default,{size:24})}),(0,u.FD)("div",{style:{},children:[(0,u.Y)(l.w_,{marginBottom:"4px",children:r}),(0,u.Y)(l._I,{color:"contentSecondary",children:(0,u.Y)(i.H,{id:"eats.repeat_order.format.start_end_time",data:{startTime:(0,h.fU)(v,I),endTime:(0,h.fU)(v,O)}})}),(0,u.FD)(l._I,{color:"contentSecondary",children:[(0,u.Y)(i.H,{id:"go.join_group_order_repeat_schedule_start_date",data:{startDate:b(n)}}),(0,u.Y)(d.A,{spaces:2}),x?(0,u.Y)(i.H,{id:"go.join_group_order_repeat_schedule_end_date",data:{endDate:b(x)}}):(0,u.Y)(i.H,{id:"repeat_group_order.no_end_date"})]})]})]})}},52539:(e,t,r)=>{r.d(t,{A:()=>a});var i=r("__fusion__95b4ba69e5"),n=r(91156);const a=()=>{const e=(0,n.Ay)();return i.useCallback(((t,r)=>{e("eats:carts_list_cart_click",{multicart:{index:r,draftOrderUuid:t}})}),[e])}},53491:(e,t,r)=>{r.d(t,{e:()=>x});var i=r(77243),n=r(37156),a=r(60331),l=r(98042),o=r(41967),d=r(65416),s=r(54319),c=r(91156),p=r(86105),h=r(50371),u=r(40699),g=r(72632);var m=r(40014);const f=(0,o.I4)("div",(e=>{let{$theme:t,$isMobile:r}=e;return{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",gap:t.sizing.scale500,marginTop:r?t.sizing.scale600:t.sizing.scale1600,marginBottom:t.sizing.scale800}})),x=e=>{let{emptyState:t}=e;const{isMobile:r}=(0,d.d4)((e=>{let{device:t}=e;return t})),{title:o,subtitle:x,button:y,illustration:I,action:O}=t,{handleMealPlanViewOrderClick:v}=(()=>{const{addMemberToDraftOrder:e}=(0,s.A)(),t=(0,c.Ay)(),r=(0,p.zy)(),i=(0,h.W6)();return{handleMealPlanViewOrderClick:e=>{if(e&&e.type)switch(e.type){case u.FF.seeAll:i.push((0,g.LA)(r,String(e.seeAll.mealPlanUUID)));break;case u.FF.createOrder:t("eats:meal_plan_create_order_click",{source:"order_view"}),i.push((0,g.GP)(r,String(e.createOrder.mealPlanUUID)))}},isLoading:e.isLoading}})();return(0,m.FD)(f,{$isMobile:r,children:[(0,m.Y)(n.xe,{richIllustration:I}),(0,m.Y)(i.A,{display:"flex",flexDirection:"column",children:(0,m.Y)(a.Ay,{text:o})}),(0,m.Y)(i.A,{maxWidth:"500px",children:(0,m.Y)(a.Ay,{text:x})}),y&&O?(0,m.Y)(i.A,{width:"auto",marginTop:"scale500",children:(0,m.Y)(l.A,{viewModel:y,onClick:e=>{v(O)}})}):null]})}},54319:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(74225),n=r(27335),a=r(67905),l=r(42120),o=r(25286),d=r(61269),s=r(18975),c=r(12741),p=r(11752),h=r(84183),u=r(73077);const g=()=>{const e=(0,c.A)("removeMemberFromDraftOrderV2"),t=(0,c.A)("addMemberToDraftOrderV2"),r=(0,n.A)("getDraftOrderByUuidV2"),g=(0,i.useQueryClient)(),{clearRepeatOrder:m}=(0,l.A)(),f=(0,s.N)(),x=(0,p.A)(),{user:y}=(0,h.A)(),I=y.data?.isLoggedIn;return{removeMemberFromDraftOrder:(0,i.useMutation)((t=>e.request("removeMemberFromDraftOrderV2",t)),{onSuccess:(e,t)=>{"repeatOrderTemplateUUID"in t&&g.invalidateQueries([...o.m,t.repeatOrderTemplateUUID]),t.draftOrderUUID&&r({draftOrderUUID:t.draftOrderUUID})}}),leaveDraftOrder:(0,i.useMutation)((t=>e.request("removeMemberFromDraftOrderV2",t)),{onSuccess:(e,t)=>{g.invalidateQueries(a.e),"repeatOrderTemplateUUID"in t&&m(t.repeatOrderTemplateUUID),g.invalidateQueries(d._f)}}),addMemberToDraftOrder:(0,i.useMutation)((e=>t.request("addMemberToDraftOrderV2",e)),{onSuccess:(e,t)=>{"repeatOrderTemplateUUID"in t?(g.invalidateQueries([...o.m,t.repeatOrderTemplateUUID]),f()):g.invalidateQueries(a.e),"draftOrderUUID"in t&&r({draftOrderUUID:t.draftOrderUUID}).then((e=>{let{draftOrder:t}=e;(0,u.XV)(x,t,Boolean(I))}))}})}}},54701:(e,t,r)=>{r.d(t,{A:()=>N});var i=r(90417),n=r(57716),a=r(86105),l=r(66764),o=r("__fusion__55bcab8f00"),d=r(91614),s=r(41967),c=r(61073),p=r(42120),h=r(12471),u=r(59160);const g=Object.freeze({UNKNOWN:"UNKNOWN",CARTS_DROPDOWN_WEB:"CARTS_DROPDOWN_WEB"});var m=r(60331),f=r(37156),x=r(98042),y=r(16307),I=r(80913),O=r(34288),v=r(93983),b=r(25286),w=r(61269),_=r(8474),D=r(89864),Y=r(67933),C=r(92235),U=r(40014);const $=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",...t.typography.LabelLarge}})),A=(0,s.I4)("div",{height:"64px",width:"64px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),S=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,alignItems:"center",paddingRight:t.sizing.scale800,minWidth:"0"}})),k=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentPrimary,flexGrow:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}})),M=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,paddingLeft:t.sizing.scale800}})),R=(0,s.I4)("div",(e=>{let{$isMobile:t}=e;return{overflow:"auto",maxHeight:t?"calc(75vh - 66px)":"288px"}})),F=(0,s.I4)("ul",{display:"flex",flexDirection:"column",listStyle:"none"}),z=(0,s.I4)("div",(e=>{let{$theme:t,$direction:r}=e;return{padding:`${t.sizing.scale600} ${t.sizing.scale600} ${t.sizing.scale300} ${t.sizing.scale600}`,textAlign:"rtl"===r?"right":"left"}})),P=(0,s.I4)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),L=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,height:t.sizing.scale1600,width:t.sizing.scale1600,margin:t.sizing.scale600,borderRadius:"50%",overflow:"hidden",position:"relative"}})),T=(0,s.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0}),H=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexGrow:1,minWidth:"0",minHeight:"95px",overflow:"hidden",borderBottom:`1px solid ${t.colors.borderOpaque}`}})),E=(0,s.I4)("div",(e=>{let{$direction:t}=e;return{minWidth:"0",display:"flex",flexDirection:"column",flexGrow:1,textAlign:"rtl"===t?"right":"left"}})),B=(0,s.I4)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),V=(0,s.I4)("div",{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",paddingRight:"24px",paddingLeft:"16px"}),W=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentInversePrimary,borderRadius:"50%",backgroundColor:"black",height:"24px",width:"24px",marginRight:"16px",display:"flex",justifyContent:"center",alignItems:"center"}})),q=(0,s.I4)(n.N_,(e=>{let{$theme:t}=e;return{color:t.colors.action,...t.typography.LabelMedium}})),N=e=>{let{onBackClick:t,onCartSelect:r,isMobile:n}=e;const s=(0,a.zy)(),N=(0,i.useRef)(!1),{repeatOrderTemplateUUIDs:G}=(0,p.A)(),{isRepeatOrderParticipant:j,billSplitOption:K}=(0,b.A)(G[0]),Q=1===G.length,X=(0,w.pf)({repeatOrderTemplateUUIDs:G,screenID:g.CARTS_DROPDOWN_WEB}),{handleRepeatOrderClick:Z}=(0,v.Y)(),{closeSidebarCart:J,closeCartDropdown:ee}=(0,D.lK)(),{logSelectRepeatOrderCartView:te}=(0,C.F)();(0,i.useEffect)((()=>{X.isError&&X.remove()}),[X,X.isError]),(0,i.useEffect)((()=>{K&&!N.current&&(te(G,j,K),N.current=!0)}),[K,j,te,G]);const re=e=>{const t=(0,_.FIP)(s,1===G.length?G[0]:void 0);return j?(0,U.Y)(q,{to:t,onClick:()=>{ee(),J()},children:(0,U.Y)(l.H,{id:"carousel.see_all"})}):Q?[...e??[]].reverse().map(((e,t)=>{let{button:r,action:i}=e;return r?(0,U.Y)(x.A,{viewModel:r,onClick:()=>Z(i)},t):null})):(0,U.Y)(q,{to:t,onClick:()=>{ee(),J()},children:(0,U.Y)(l.H,{id:"go.manage"})})},ie=(0,u.jH)();return(0,U.Y)(c.n,{source:X,loaded:e=>(0,U.FD)(U.FK,{children:[(0,U.FD)($,{children:[(0,U.Y)(A,{onClick:e=>{e.stopPropagation(),t?.()},children:(0,U.Y)(o.default,{})}),(0,U.FD)(S,{children:[(0,U.Y)(k,{$direction:ie,children:e.title}),(0,U.Y)(M,{children:re(e.navigationBarButtons)})]})]}),(0,U.Y)(h.A,{$height:"2px",$margin:"0"}),(0,U.Y)(R,{$isMobile:n,children:e.emptyCartMessage?(0,U.Y)(Y.A,{message:e.emptyCartMessage}):e.sections?.map(((e,t)=>(0,U.FD)(F,{children:[Q?null:(0,U.Y)(z,{$direction:ie,children:(0,U.Y)(m.Ay,{text:e.title})}),e.rows?.map(((e,t)=>(0,U.FD)(P,{onClick:()=>{"openCheckout"===e.tapAction?.type&&e.tapAction.openCheckout?.draftOrderUUID&&r(e.tapAction.openCheckout.draftOrderUUID,t)},children:[(0,U.FD)(L,{children:[(0,U.Y)(f.xe,{richIllustration:e.leadingIllustration}),(0,U.Y)(T,{children:(0,U.Y)(O.if,{})})]}),(0,U.FD)(H,{children:[(0,U.Y)(E,{$direction:ie,children:[e.title,e.tagLine1,e.tagLine2].map(((e,t)=>e?(0,U.Y)(B,{children:(0,U.Y)(m.Ay,{text:e,whiteSpace:"nowrap"})},t):null))}),(0,U.FD)(V,{children:[void 0!==e.itemCount?(0,U.Y)(W,{children:e.itemCount}):null,(0,U.Y)(d.A,{size:12,color:"primary400"})]})]})]},t)))]},t)))})]}),loading:()=>(0,U.Y)(y.Ay,{}),error:()=>(0,U.Y)(I.A,{})})}},67017:(e,t,r)=>{r.d(t,{A:()=>b,I:()=>v});var i=r(41967),n=r(44580),a=r(91614),l=r(59160),o=r(60331),d=r(49684),s=r(72730),c=r(96970),p=r(78275),h=r(40014);const u=(0,i.I4)("div",(e=>{let{$isMobile:t,$theme:r}=e;return{display:"flex",maxWidth:t?"100%":"315px",width:"100%",alignItems:"center",gap:r.sizing.scale600,justifyContent:"space-between",overflow:"hidden"}})),g=(0,i.I4)("div",(e=>{let{$direction:t}=e;return{justifyContent:"center",display:"flex",flex:1,flexDirection:"column",minWidth:"0",textAlign:"rtl"===t?"right":"left"}})),m=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"500px"}})),f=(0,i.I4)("div",{display:"flex",alignItems:"center"}),x=(0,i.I4)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),y=(0,i.I4)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),I=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,backgroundColor:t.colors.backgroundInversePrimary,borderRadius:"50%",color:t.colors.contentInversePrimary,height:"24px",width:"24px",marginRight:"16px",display:"flex",justifyContent:"center",alignItems:"center"}})),O=(0,i.I4)("div",{alignSelf:"flex-start"}),v=e=>{let{cartView:t,isMobile:r=!1,isHovering:i=!1,hasGroupOrder:a=!1,openCartActions:f}=e;const{title:x,tagline1:y,tagline2:I,tagline3:v,metadata:b}=t,w=(0,l.jH)(),{inCartSwitcherDraft:_}=(0,p.A)(),D=_&&r&&f&&!a;return(0,h.FD)(u,{$isMobile:r,children:[(0,h.Y)(s.qn,{cartView:t,isHovering:i,showBorder:Boolean(b?.openCheckoutMetadata?.bundleGroupMetadata)}),(0,h.FD)(g,{$direction:w,children:[(0,h.Y)(m,{"data-testid":"cart-item-title",children:x}),(0,h.Y)(n.Ay,{$height:2}),(0,h.Y)(d.A,{badge:y,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),(0,h.Y)(n.Ay,{$height:2}),(0,h.Y)(d.A,{badge:I,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),v?(0,h.FD)(h.FK,{children:[(0,h.Y)(n.Ay,{$height:4}),(0,h.Y)(o.Ay,{text:v})]}):null]}),D?(0,h.Y)(O,{children:(0,h.Y)(c.A,{bottomSheet:r,openCartActions:f})}):null]})},b=e=>{let{cartView:t,isMobile:r=!1,isHovering:i=!1}=e;const{itemCount:n}=t;return(0,h.FD)(h.FK,{children:[(0,h.Y)(v,{cartView:t,isMobile:r,isHovering:i}),(0,h.FD)(f,{children:[void 0!==n?(0,h.Y)(y,{children:(0,h.Y)(I,{children:n})}):null,(0,h.Y)(x,{children:(0,h.Y)(a.A,{size:12,color:"primary400"})})]})]})}},67933:(e,t,r)=>{r.d(t,{A:()=>p});var i=r(39431),n=r(39027),a=r(4914),l=r(41967),o=r(43316),d=r(40014);const s=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flex:1,alignItems:"center",flexDirection:"column",justifyContent:"center",paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale800}})),c=(0,l.I4)(o.A,{width:"175px",height:"175px"});function p(e){let{message:t}=e;const l=(0,a.c)();return(0,d.FD)(s,{children:[(0,d.Y)(c,{src:(0,i.uq)(r(79849))}),(0,d.Y)(n.en,{marginTop:"0",marginBottom:"12px",children:l("eats.rgo.get_carts_view_for_eater.no_open_carts")}),(0,d.Y)(n.oS,{children:t})]})}},79676:(e,t,r)=>{r.d(t,{A:()=>E});var i=r("__fusion__55bcab8f00"),n=r(77243),a=r(66764),l=r(57716),o=r(68681),d=r(91614),s=r(61073),c=r(41967),p=r(59160),h=r(89864),u=r(37156),g=r(60331),m=r(41519),f=r(20075),x=r(86105),y=r(80913),I=r(16307),O=r(83765),v=r(535),b=r(72632),w=r(53491),_=r(40014);const D=(0,c.I4)(n.A,(e=>{let{$isMobile:t,$isXlb:r}=e;return{maxHeight:t?r?"85vh":"75vh":"auto"}})),Y=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:1,background:t.colors.backgroundPrimary,borderBottom:`2px solid ${t.colors.borderOpaque}`,...t.typography.LabelLarge}})),C=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale1600,width:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}})),U=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,alignItems:"center",paddingRight:t.sizing.scale800,minWidth:"0"}})),$=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentPrimary,flexGrow:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}})),A=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,paddingLeft:t.sizing.scale800}})),S=(0,c.I4)("ul",{display:"flex",flexDirection:"column",listStyle:"none"}),k=(0,c.I4)("div",(e=>{let{$theme:t,$direction:r}=e;return{padding:`${t.sizing.scale600} ${t.sizing.scale600} ${t.sizing.scale300} ${t.sizing.scale600}`,textAlign:"rtl"===r?"right":"left"}})),M=(0,c.I4)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),R=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,height:t.sizing.scale1600,width:t.sizing.scale1600,margin:t.sizing.scale600,borderRadius:"50%",overflow:"hidden",position:"relative"}})),F=(0,c.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0}),z=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexGrow:1,minWidth:"0",minHeight:t.sizing.scale2400,overflow:"hidden",borderBottom:`1px solid ${t.colors.borderOpaque}`}})),P=(0,c.I4)("div",(e=>{let{$direction:t}=e;return{minWidth:"0",display:"flex",flexDirection:"column",flexGrow:1,textAlign:"rtl"===t?"right":"left"}})),L=(0,c.I4)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),T=(0,c.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale600}})),H=(0,c.I4)(l.N_,(e=>{let{$theme:t}=e;return{color:t.colors.action,...t.typography.LabelMedium}})),E=e=>{let{onBackClick:t,onCartSelect:r,isMobile:l,mealPlanUUID:c}=e;const E=(0,x.zy)(),{query:B}=(0,O.E)({mealPlanUUID:c,draftOrderPayloadType:{},screenId:o.GA.CARTS_VIEW}),{isCreator:V}=(0,v.A)(c),W=(0,f.A)(),q=(0,b.p3)(E,c,W),{closeSidebarCart:N,closeCartDropdown:G}=(0,h.lK)(),j=(0,p.jH)(),K=(0,m.A)();return(0,_.Y)(s.n,{source:B,loaded:e=>{let{draftOrderPayload:o}=e;const s=o?.view;return(0,_.FD)(D,{$isMobile:l,$isXLB:K,children:[(0,_.FD)(Y,{children:[(0,_.Y)(C,{onClick:e=>{e.stopPropagation(),t?.()},children:(0,_.Y)(i.default,{})}),(0,_.FD)(U,{children:[(0,_.Y)($,{$direction:j,children:s?.title}),(0,_.Y)(A,{children:(0,_.Y)(H,{to:q,onClick:()=>{G(),N()},children:V?(0,_.Y)(a.H,{id:"go.manage"}):(0,_.Y)(a.H,{id:"carousel.see_all"})})})]})]}),(0,_.Y)(n.A,{children:s?.emptyState?(0,_.Y)(w.e,{emptyState:s?.emptyState}):s?.sections?.map(((e,t)=>(0,_.FD)(S,{children:[(0,_.Y)(k,{$direction:j,children:(0,_.Y)(g.Ay,{text:e.title})}),e.rows?.map(((e,t)=>(0,_.FD)(M,{onClick:()=>{const i=e.button?.action;"openCart"===i?.type&&i?.openCart?.draftOrderUUID&&r(i.openCart.draftOrderUUID,t)},children:[(0,_.FD)(R,{children:[(0,_.Y)(u.xe,{richIllustration:e.leadingIllustration}),(0,_.Y)(F,{})]}),(0,_.FD)(z,{children:[(0,_.FD)(P,{$direction:j,children:[(0,_.Y)(L,{children:(0,_.Y)(g.Ay,{text:e.title,whiteSpace:"nowrap"})}),e.taglines?.map(((e,t)=>(0,_.Y)(L,{children:(0,_.Y)(g.Ay,{text:e,whiteSpace:"nowrap"})},t)))]}),(0,_.Y)(T,{children:(0,_.Y)(d.A,{size:12,color:"primary400"})})]})]},t)))]},t)))})]})},loading:()=>(0,_.Y)(I.Ay,{}),error:()=>(0,_.Y)(y.A,{})})}},80913:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(66764),n=r(41967),a=r(40014);const l=(0,n.I4)("div",{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"410px",padding:"24px",margin:"0 auto",whiteSpace:"normal"}),o=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,marginBottom:"8px"}})),d=(0,n.I4)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),s=()=>(0,a.FD)(l,{children:[(0,a.Y)(o,{children:(0,a.Y)(i.H,{id:"components.genericError.title"})}),(0,a.Y)(d,{children:(0,a.Y)(i.H,{id:"shared.genericServerError"})})]})},83007:(e,t,r)=>{r.d(t,{A:()=>_});var i=r("__fusion__95b4ba69e5"),n=r(90417),a=r(50371),l=r(86105),o=r(41967),d=r(67017),s=r(67905),c=r(70951),p=r(40014);const h=()=>{const e=(0,s.g)().data?.topBanner;return(0,p.Y)(c.Ay,{badge:e,padding:"20px 16px"})};var u=r(54701),g=r(42120),m=r(66371),f=r(8474),x=r(4507),y=r(79676),I=r(72632),O=r(85951);const v=(0,o.I4)("ul",{listStyle:"none",margin:0,padding:0}),b=(0,o.I4)("li",(e=>{let{$theme:t,$isMobile:r}=e;return{padding:"16px",whiteSpace:"nowrap",":hover":{background:r?t.colors.menuFillHover:t.colors.backgroundSecondary},display:"flex",justifyContent:"space-between",cursor:"pointer",borderBottom:`1px solid ${t.colors.borderOpaque}`,":last-of-type":{borderBottom:"none"}}})),w=e=>{let{isMobile:t,index:r,cartView:n,onCartSelect:o,setCurrentCartsView:s,setMealPlanUUID:c}=e;const h=(0,a.W6)(),u=(0,l.zy)(),y=i.useRef(null),v=(0,x.A)(y),{setActiveCartViewForRepeatOrder:w}=(0,g.A)(),{startTiming:_}=(0,m.zR)();return(0,p.Y)(b,{ref:y,role:"menuitem","data-testid":`menu-item-${n.title}`,$isMobile:t,onClick:e=>{switch(_(O.s.CART_SELECTED_FROM_POPOVER,{shouldOverride:!0}),n.action){case"OPEN_CHECKOUT":{const e=n.metadata?.openCheckoutMetadata?.draftOrderUUID||n.metadata?.openCheckoutMetadata?.bundleGroupMetadata?.primaryDraftOrderUUID;e&&o(e,r);break}case"OPEN_REPEAT_ORDER_VIEW":if(w(n),t)return void h.push((0,f.e_c)(u));s("repeat_group_order"),e.stopPropagation();break;case"OPEN_MEAL_PLAN_VIEW":{const r=n.metadata?.openMealPlanViewMetadata?.mealPlanUUID;if(t)return void h.push((0,I.Hh)(u,r));c(r),s("meal_plan"),e.stopPropagation();break}default:o(n.draftOrderUUID,r)}},children:(0,p.Y)(d.A,{isMobile:t,isHovering:v,cartView:n})})},_=e=>{const t=(0,s.g)()?.data?.carts,[r,i]=(0,n.useState)(null),[a,l]=(0,n.useState)(""),o=(0,n.useCallback)((()=>(0,p.FD)(p.FK,{children:[(0,p.Y)(h,{}),(0,p.Y)(v,{role:"menu",children:t?.map(((t,r)=>(0,p.Y)(w,{index:r,isMobile:e.isMobile,cartView:t,setCurrentCartsView:i,setMealPlanUUID:l,onCartSelect:e.onCartSelect},t.draftOrderUUID)))})]})),[t,e]);return e.isMobile?o():"repeat_group_order"===r?(0,p.Y)(u.A,{onBackClick:()=>{i(null)},onCartSelect:e.onCartSelect}):"meal_plan"===r?(0,p.Y)(y.A,{mealPlanUUID:a,onBackClick:()=>{i(null),l("")},onCartSelect:e.onCartSelect}):o()}},83765:(e,t,r)=>{r.d(t,{E:()=>s});var i=r(38360),n=r.n(i),a=r(74225),l=r(24727),o=r(12741);var d=r(72632);const s=e=>{const{uuid:t}=(0,d.aB)(),r=function(e,t){const r=(0,o.A)("getMealPlanOrdersViewV1"),i=(0,l.n)("getMealPlanOrdersViewV1",e),n=(0,a.useQuery)({queryKey:i,queryFn:e=>{let{queryKey:t}=e;return r.request("getMealPlanOrdersViewV1",t[1])},...t?.queryObserverOptions});return n}({mealPlanUUID:t,...e},{queryObserverOptions:{refetchOnMount:"always",refetchInterval:e=>{const t=e?.draftOrderPayload?.loadingState?.reloadInMs;if(t){return n().fromValue(t).toNumber()}return!1}}}),{data:i,isLoading:s}=r;return{query:r,data:i,isLoading:s}}},91614:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(90417),n=r(39155),a=r(40014);function l(e,t){return(0,a.Y)(n.A,{viewBox:"0 0 9 12",ref:t,...e,children:(0,a.Y)("path",{d:"M8.9 6l-4.6 6H.5l4.6-6L.5 0h3.8l4.6 6z"})})}const o=i.forwardRef(l)},93983:(e,t,r)=>{r.d(t,{Y:()=>f});var i=r(8474),n=r(50371),a=r(86105),l=r(71715),o=r(89864),d=r(13740),s=r(92235),c=r(25286),p=r(42120),h=r(27335),u=r(66433),g=r(12615),m=r(34375);const f=()=>{const{setActiveDraftOrder:e}=(0,l.A)(),{closeSidebarCart:t,toggleSidebarCartVisible:r,closeCartDropdown:f}=(0,o.lK)(),{isMobile:x}=(0,u.k)(),{repeatOrderTemplateUUID:y}=(0,n.g)(),{repeatOrderTemplateUUIDs:I}=(0,p.A)(),O=(0,g.A)(),v=(0,m.A)(),{isRepeatOrderParticipant:b}=(0,c.A)(y||I[0]),w=(0,h.A)("getDraftOrderByUuidV2"),_=(0,h.A)("getStoreV1"),{logConsolidatedViewRowClick:D,logSingleRGORowClick:Y,logSkipRGOButtonClick:C}=(0,s.F)(),U=(0,n.W6)(),$=(0,a.zy)();return{handleRepeatOrderClick:n=>{let a;if(n&&n.type)switch(n.type){case d.Mk.openStoreFront:{const{draftOrderUUID:t}=n?.openStoreFront||{};e(t??void 0),t&&(async()=>{const e=await w({draftOrderUUID:t}),{deliveryAddress:r,targetDeliveryTimeRange:n,storeUuid:a}=e?.draftOrder||{};b&&!O&&v(r,n);const l=await _({storeUuid:a}),o=(0,i.NQI)($,{storeSlug:l?.slug,storeUuid:l?.uuid});o&&U.push(o)})();break}case d.Mk.openManagement:a=n.openManagement.repeatOrderTemplateUUID||"",(e=>{U.push((0,i.p_G)($,e))})(a),f(),t(),D(a,b);break;case d.Mk.openCheckout:if(e(n.openCheckout.draftOrderUUID||""),x){const e=(0,i.Hwd)($),t=(0,i._Bq)(e);U.push(t)}else f(),r();Y(n.openCheckout.draftOrderUUID,b);break;case d.Mk.manageGuests:U.push((0,i.VS5)($,n.manageGuests.draftOrderUUID||""));break;case d.Mk.openSettings:n.openSettings.repeatOrderTemplateUUID&&(U.push((0,i.FIP)($,n.openSettings.repeatOrderTemplateUUID)),t(),f());break;case d.Mk.skip:C(n.skip.repeatOrderTemplateUUID??""),U.push((0,i.Zyy)($,"skipRepeatOrder",(0,i.N7b)(n.skip)));break;case d.Mk.openBottomSheet:U.push((0,i.Zyy)($,"skipNotification",(0,i.N7b)(n.openBottomSheet)))}}}}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-44693-be87d7fbb02270ed.js.map