(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[92201],{142:(e,t,r)=>{"use strict";r.d(t,{A:()=>ee});var i=r(90417),o=r("__fusion__95b4ba69e5"),n=r(89831),l=r(65416),a=r(79755),d=r(783),s=r(41967),c=r(44035),u=r(60979),p=r(51084),h=r(90321),g=r(23895),m=r(63922),y=r(12471),f=r(40014);const v=(0,s.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column"}})),x=(0,s.I4)("div",(e=>{let{$isBottom:t,$theme:r}=e;return{background:r.colors.backgroundPrimary,display:"flex",justifyContent:"center",alignItems:"center",height:"36px",width:"36px",boxShadow:r.shadows.mapIcon,borderRadius:t?"0px 0px 100px 100px":"100px 100px 0px 0px",":hover":{cursor:"pointer",background:r.colors.backgroundTertiary}}})),b=e=>{let{zoomIn:t,zoomOut:r}=e;return(0,f.FD)(v,{children:[(0,f.Y)(x,{$isBottom:!1,onClick:t,children:(0,f.Y)(g.A,{size:20})}),(0,f.Y)(y.A,{$margin:"0"}),(0,f.Y)(x,{$isBottom:!0,onClick:r,children:(0,f.Y)(m.A,{size:20})})]})};var Y=r(50371),$=r(86105),S=r(73939),A=r(91213),w=r(91156),k=r(8474),I=r(16439);const _=(0,s._F)(S.Ay,(e=>{let{$theme:t}=e;return{background:t.colors.backgroundPrimary,display:"flex",justifyContent:"center",alignItems:"center",height:"36px",width:"36px",boxShadow:t.shadows.floatingButton}})),C=()=>{const e=(0,$.zy)(),t=(0,Y.W6)(),r=(0,w.Ay)(),{currentPosition:o,getCurrentPosition:n}=(0,p.$P)(),l=(0,i.useCallback)((()=>{o?n():t.push((0,k.Zyy)(e,"pickupLocationRequest")),r("eats:pickup_map_share_location_click")}),[o,r,n,t,e]);return(0,I.A)()?null:(0,f.Y)(_,{onClick:l,children:(0,f.Y)(A.A,{size:16,color:o?void 0:"contentInverseTertiary"})})};var M=r(66764),F=r("__fusion__2de4bc7d83"),L=r(2693),P=r(53985),D=r(12615),z=r(86791);const T=(0,s._F)(S.C7,(e=>{let{$isLoading:t,$theme:r}=e;return{...r.typography.LabelSmall,padding:t?"8px 12px 8px 4px":"8px 12px",background:r.colors.backgroundPrimary,boxShadow:r.shadows.mapIcon,display:"flex",alignItems:"center",height:"36px",transition:"all 300ms ease",":hover":{background:r.colors.backgroundTertiary}}})),O=e=>{let{overrideLocationDetails:t}=e;const{feed:r,getSearchHere:i}=(0,p.$P)(),{mapCoordinates:o}=(0,z.A)(),n=(0,w.Ay)(),l=(0,D.A)(),a=t||l;return o&&a&&o.latitude!==a.latitude&&o.longitude!==a.longitude?(0,f.Y)(T,{$isLoading:r.isLoading,onClick:e=>{i(),n("eats:pickup_map_search_here_click")},children:r.isLoading?(0,f.FD)(f.FK,{children:[(0,f.Y)(P.A,{size:"28px"}),(0,f.Y)(L.Ay,{$width:"8px"}),(0,f.Y)(M.H,{id:"components.pickup.searching"})]}):(0,f.FD)(f.FK,{children:[(0,f.Y)(F.default,{size:16}),(0,f.Y)(L.Ay,{$width:"8px"}),(0,f.Y)(M.H,{id:"components.pickup.search_here"})]})}):null};var R=r(44580),E=r(59160),H=r(24822),B=r(60128),U=r(89604),X=r(86467),j=r(4767),N=r(18567),G=r(42957),K=r(42013),W=r(91351);const q=(0,s.I4)("div",(()=>({flex:1,position:"relative"}))),V=(0,s.I4)("div",(()=>({position:"absolute",top:"16px",left:"50%",transform:"translateX(-50%)"}))),Z=(0,s.I4)("div",(e=>{let{$direction:t}=e;return{position:"absolute",top:"16px",..."ltr"===t?{left:"16px"}:{right:"16px"}}})),Q=(0,s.I4)("div",(e=>{let{$direction:t}=e;return{position:"absolute",top:"16px",..."ltr"===t?{right:"16px"}:{left:"16px"}}})),J=(0,s._F)(S.Ay,(e=>{let{$theme:t}=e;return{background:t.colors.backgroundPrimary,display:"flex",justifyContent:"center",alignItems:"center",height:"36px",paddingRight:"12px",paddingLeft:"12px",boxShadow:t.shadows.floatingButton,":hover":{background:t.colors.backgroundPrimary}}})),ee=e=>{let{overrideLocationDetails:t}=e;const r=(0,n.wA)(),g=(0,i.useRef)(null),m=(0,i.useRef)(!1),y=(0,i.useRef)(!0),[v,x]=(0,i.useState)(!1),Y=(0,D.A)(),$=t||Y,S=(0,E.jH)(),[A,k]=(0,X.A)(),I=(0,w.Ay)(),_=o.useCallback((e=>{I("eats:map_component_error",{mapErrorEvent:e})}),[I]),{currentZoomLevel:F,updateZoomLevel:P,mapCoordinates:T,setMapCoordinates:ee,toggleDisplayMode:te,displayMode:re}=(0,z.A)(),{feed:ie,clearSelectedStore:oe,regularStoreItems:ne,selectedStore:le,hoveredStoreUuid:ae,hoverStoreUuid:de,currentPosition:se,selectedStorePinClientRect:ce,getSearchHere:ue,storeMarkerRefArray:pe,storeMarkerMetaArray:he,shouldRefreshMarkerMeta:ge,refreshMarkerMeta:me,setSelectedStorePinClientRect:ye,clickStore:fe,setMapContext:ve}=(0,p.$P)(),[xe,be]=o.useState({zoom:F,latitude:T?.latitude??$?.latitude??0,longitude:T?.longitude??$?.longitude??0,...a.O}),{hasDeliveryLocationChangedSinceMount:Ye}=(0,l.d4)((e=>e.pickupMap)),$e=(0,i.useRef)(!1),{windowWidth:Se,windowHeight:Ae}=(0,G.A)(),we=(0,i.useCallback)(((e,t)=>{fe(t),ye(e.currentTarget.getBoundingClientRect()),I("eats:pickup_map_pin_click",{storeUuid:t.uuid})}),[fe,I,ye]),ke="MAP"===re,Ie=(0,i.useCallback)((e=>{ge.current=!0,P(e),oe()}),[oe,ge,P]),_e=(0,i.useCallback)((e=>{be({...xe,...a.O,zoom:xe.zoom+e}),Ie(xe.zoom+e)}),[Ie,xe]),Ce=(0,i.useCallback)(((e,t,r)=>{"number"==typeof e&&"number"==typeof t&&be({...a.O,latitude:e,longitude:t,zoom:r||h.nG})}),[be]);(0,i.useEffect)((()=>{oe()}),[Se,Ae,oe]);const Me=(0,i.useCallback)((()=>{if(!g.current)return;const e=g.current.getMercatorViewport();if(e){const t=e.getBounds();ve({northEast:{latitude:t[3],longitude:t[2]},southWest:{latitude:t[1],longitude:t[0]}})}}),[ve]);(0,i.useEffect)((()=>{se&&y.current&&(y.current=!1,ue({useCurrentPosition:!0}))}),[se,ue]),(0,i.useEffect)((()=>{se&&Ce(se.latitude,se.longitude)}),[se,Ce]);const Fe=(0,i.useCallback)((e=>{if(!Boolean(le))return;const t=ne.findIndex((e=>e.uuid===le?.uuid)),r=pe.current[t];if(!r)return;const{clientX:i,clientY:o}=e.domEvent;Array.from(r.querySelectorAll("*")).some((e=>{const t=e.getBoundingClientRect();return i>=t.left&&i<t.right&&o>=t.top&&o<t.bottom}))||oe()}),[oe,ne,le,pe]);(0,i.useEffect)((()=>{$e.current?$&&Ce($.latitude,$.longitude):(Ye&&$&&Ce($.latitude,$.longitude),$e.current=!0)}),[$,Ye,r,Ce]),(0,i.useEffect)((()=>{ie.data?.feedItems.length&&(g.current&&(ge.current=!0),m.current=!1)}),[ie,g,ge]),(0,i.useEffect)((()=>()=>{r((0,j.o)(!1))}),[r]);const Le=(0,i.useCallback)((()=>{ge.current&&me(pe.current)}),[ge,me,pe]),Pe=(0,i.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.x.unknown,i=arguments.length>3?arguments[3]:void 0;return{type:"overlay",node:{coordinates:[e.longitude??0,e.latitude??0],content:(0,f.Y)(f.FK,{children:i}),provider:r,propsOverride:{style:{pointerEvents:"all",transform:"translate(-50%, -50%)",zIndex:t}}}}}),[]),De=(0,i.useMemo)((()=>{const e=[],t=[];return e.push(se?Pe({latitude:se?.latitude,longitude:se?.longitude},h.Ow+1,d.x.uber,(0,f.Y)(H.A,{})):Pe({latitude:$?.latitude,longitude:$?.longitude},h.Ow+1,$?.referenceType,(0,f.Y)(B.A,{label:$?.label}))),ne.map(((r,i)=>{const o=r.store.title?.text||"",n=r.uuid===ae,l=r.uuid===le?.uuid,a=!l&&!n&&!he[i]?.isTitleDisplayed;let s;l&&(s=(0,N.mM)(ce,A,ke));const p=l||n?h.Ow+1:Math.max(0,Number(r.store.mapMarker?.zIndex));e.push(Pe({latitude:r.store.mapMarker?.latitude,longitude:r.store.mapMarker?.longitude},p,d.x.uber,(0,f.Y)("div",{ref:e=>{pe.current[i]=e},children:r.store.imageOverlay?(0,f.Y)(u.A,{hideTitle:a,isHovered:n,isSelected:l,title:o,uuid:r.uuid,onClick:e=>we(e,r),onMouseOver:()=>de(r.uuid),onMouseLeave:()=>de(null),storeItem:r}):(0,f.Y)(c.Ay,{title:o,uuid:r.uuid,isHoveredStoreUuid:n,isSelected:l,hideTitle:a,markerContent:r.store.mapMarker?.markerContent,secondaryMarkerContent:r.store.mapMarker?.secondaryMarkerContent,onClick:e=>we(e,r),onMouseOver:()=>de(r.uuid),onMouseLeave:()=>de(null),storeItem:r})}))),l&&t.push(Pe({latitude:r.store.mapMarker?.latitude,longitude:r.store.mapMarker?.longitude},p,d.x.uber,(0,f.Y)(U.Ay,{analyticsLabel:"pickup_map_store_card",heroImageSizes:"25vw",position:i,showFavorite:!0,store:r.store,useLazyLoadImage:!1,isBottom:s?.showCardOnBottom,leftOffset:s?.cardLeftOffset})))})),[...e,...t]}),[se,$,Pe,we,de,ae,ne,ke,le,ce,he,pe,A]),ze=o.useCallback((()=>{if(g&&g.current&&De.length&&!m.current){if((0,N.A5)(g.current,De.map((e=>e.node&&"object"==typeof e.node&&"coordinates"in e.node?e.node?.coordinates:null)).filter(Boolean))){const e=(0,N.ve)({viewState:xe,mapsSDKRef:g.current,regularStoreItems:ne});e&&(be({...a.O,...e}),ge.current=!0)}else Me();m.current=!0}}),[De,ne,ge,Me,xe]),Te=(0,K.R)(),[,Oe]=(0,s.c6)();return(0,f.FD)(q,{ref:k,"data-testid":"feed-pickup-map",children:[Te.data?(0,f.Y)(a.c,{ref:g,viewState:xe,styleFlavor:"eats-pickup",onError:_,onClick:(e,t)=>{if(!g.current)return;const r=g.current.getBoundingClientRect();r&&Fe({domEvent:{clientX:r.left+e.x,clientY:r.top+e.y}})},overlays:[De.map((e=>{if("overlay"===e.type)return e.node})).filter(Boolean)],onViewStateChange:e=>{xe.zoom!==e.zoom&&Ie(e.zoom),xe.latitude===e.latitude&&xe.longitude===e.longitude||ee({latitude:e.latitude,longitude:e.longitude}),Me(),be(e),Le(),ze()},sessionId:Te.data,theme:Oe.colors.colorPreference}):null,(0,f.FD)(Q,{$direction:S,children:[(0,f.Y)(C,{}),(0,f.Y)(R.Ay,{$height:12}),(0,f.Y)(b,{zoomIn:()=>{_e(1)},zoomOut:()=>{_e(-1)}})]}),(0,f.Y)(V,{children:(0,f.Y)(O,{overrideLocationDetails:t})}),(0,f.Y)(Z,{$direction:S,children:(0,f.FD)(J,{onClick:()=>{te(),x(!1),oe()},onMouseEnter:()=>{ke||x(!0)},onMouseLeave:()=>{ke||x(!1)},children:[(0,f.Y)(W.A,{size:16,rotate:"ltr"===S?ke?0:180:"rtl"===S?ke?180:0:void 0}),v&&!ke?(0,f.FD)(f.FK,{children:[(0,f.Y)(L.hl,{}),(0,f.Y)(M.H,{id:"pickup_map.show_full_map"})]}):null,ke?(0,f.FD)(f.FK,{children:[(0,f.Y)(L.hl,{}),(0,f.Y)(M.H,{id:"pickup_map.show_list"})]}):null]})})]})}},4252:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var i=r(90417),o=r("__fusion__95b4ba69e5"),n=r(41967),l=r(54444),a=r(44580),d=r(18297),s=r(17905),c=r(40014);const u=s.B,p=(0,n.I4)("div",(e=>{let{$font:t="ParagraphMedium",$color:r="contentPrimary",$theme:i}=e;return{...i.typography[t],color:i.colors[r]}})),h=(0,n.I4)("span",(e=>{let{$theme:t,$font:r,$overrideStyles:i}=e;return{...r?t.typography[r]:null,...i}})),g=(0,n.I4)("a",(e=>{let{$theme:t,$overrideStyles:r}=e;return{fontFamily:t.typography.LabelMedium.fontFamily,...(0,d.iV)({$theme:t}),...r}}));function m(e,t){switch(e){case 1:case 2:return"desktop"===t?"DisplayBoldXSmall":"DisplayBold4XSmall";case 3:return"HeadingXSmall";default:return"LabelLarge"}}function y(e){const t=e.children.split("\n");return(0,c.Y)(l.A,{separator:"br",children:t})}function f(e){let{node:t,styleMode:r,overrideStyles:i}=e;const o=(e,t)=>"text"===e.type?(0,c.Y)(y,{children:e.data},t):(0,c.Y)(f,{node:e,styleMode:r},t);return"span"===t.type?(0,c.Y)(h,{$as:"span",children:t.getChildren().map(o)}):"paragraph"===t.type?(0,c.Y)(h,{$as:"p",$overrideStyles:i,children:t.getChildren().map(o)}):"anchor"===t.type?(0,c.Y)(g,{$as:"a",href:t.attributes.href||void 0,$overrideStyles:i,children:t.getChildren().map(o)}):"heading"===t.type?(0,c.Y)(h,{$as:`h${t.headingLevel}`,$font:m(t.headingLevel,r),$overrideStyles:i,children:t.getChildren().map(o)}):null}function v(e){let{format:t,baseFont:r,baseColor:n,styleMode:l,overrideStyles:d}=e;const s=(0,i.useMemo)((()=>t?u(t):null),[t]);return t&&s?(0,c.Y)(p,{$font:r,$color:n,children:s.map(((e,t)=>{const{type:r}=e;let i=null;return t!==s.length-1&&("paragraph"===r?i=(0,c.Y)(a.Ay,{$height:16}):"heading"===r&&(i=(0,c.Y)(a.Ay,{$height:8}))),(0,c.FD)(o.Fragment,{children:[(0,c.Y)(f,{node:e,styleMode:l,overrideStyles:d}),i]},t)}))}):null}},17905:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var i=r(74761);function o(e){return e.map((e=>{if(e instanceof Text)return{type:"text",data:e.data};if(e instanceof HTMLAnchorElement)return{type:"anchor",getChildren:()=>o(Array.from(e.childNodes)),styles:(0,i.Bb)(e),attributes:(0,i.kP)(e)};if(e instanceof HTMLHeadingElement){const t=e.tagName.match(/H([1-6])/);return t?{type:"heading",getChildren:()=>o(Array.from(e.childNodes)),styles:(0,i.Bb)(e),attributes:(0,i.kP)(e),headingLevel:Number(t[1])}:null}return e instanceof HTMLParagraphElement?{type:"paragraph",getChildren:()=>o(Array.from(e.childNodes)),styles:(0,i.Bb)(e),attributes:(0,i.kP)(e)}:e instanceof HTMLElement?{type:"span",getChildren:()=>o(Array.from(e.childNodes)),styles:(0,i.Bb)(e),attributes:(0,i.kP)(e)}:null})).filter(Boolean)}function n(e){try{const t=(new DOMParser).parseFromString(e,"text/html");return o(Array.from(t.body?.children||[]))}catch{return[]}}},23895:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(90417),o=r(39155),n=r(40014);function l(e,t){return(0,n.Y)(o.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.Y)("path",{d:"M19.333 11H13V4.665h-2v6.333H4.667v2H11v6.334h2v-6.334h6.333z"})})}const a=i.forwardRef(l)},24822:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var i=r(41967),o=r(40014);const n=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}})),l=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{position:"absolute",width:"12px",height:"12px",backgroundColor:t.colors.contentAccent,borderRadius:"50px"}})),a=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{width:"60px",height:"60px",backgroundColor:t.colors.contentAccent,borderRadius:"50px",opacity:.16}})),d=()=>(0,o.FD)(n,{children:[(0,o.Y)(l,{}),(0,o.Y)(a,{})]})},34098:(e,t,r)=>{e.exports=r.p+"303ce9387c31f395.svg"},41408:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(90417),o=r(39155),n=r(40014);function l(e,t){return(0,n.FD)(o.A,{viewBox:"0 0 24 24",ref:t,...e,children:[(0,n.Y)("g",{clipPath:"url(#clip0)",children:(0,n.Y)("path",{d:"M17.583 5.166a7.896 7.896 0 00-11.166 0c-3.084 3.083-3.084 8.167 0 11.25L12 21.999l5.583-5.666c3.084-3 3.084-8.084 0-11.167zM12 12.416c-.917 0-1.667-.75-1.667-1.667 0-.916.75-1.666 1.667-1.666s1.667.75 1.667 1.666c0 .917-.75 1.667-1.667 1.667z"})}),(0,n.Y)("defs",{children:(0,n.Y)("clipPath",{id:"clip0",children:(0,n.Y)("path",{transform:"translate(2 2)",d:"M0 0h20v20H0z"})})})]})}const a=i.forwardRef(l)},44035:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>x});var i=r("__fusion__95b4ba69e5"),o=r(41967),n=r(26938),l=r(43316),a=r(60979),d=r(19308),s=r(93847),c=r(40014);const u={animationName:{"0%":{display:"none",opacity:0},"1%":{display:"block",opacity:0},"100%":{display:"block",opacity:1}},animationDuration:"300ms"},p=(0,o.I4)("div",(e=>{let{$isHovering:t,$isSelected:r,$theme:i}=e;return{...r?{...i.typography.LabelSmall,color:i.colors.contentInversePrimary,background:i.colors.backgroundInversePrimary,transform:"scale(36/32)"}:t?{...i.typography.LabelXSmall,color:i.colors.contentInversePrimary,background:i.colors.backgroundInversePrimary}:{...i.typography.LabelXSmall,background:i.colors.backgroundPrimary},width:"32px",height:"32px",transformOrigin:"bottom",borderRadius:"200px",boxShadow:i.shadows.mapIcon,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 300ms ease",cursor:"pointer",...u}})),h=(0,o.I4)("div",(e=>{let{$isSelected:t,$theme:r}=e;return{...r.typography.LabelXSmall,...t?{color:r.colors.contentInversePrimary,background:r.colors.contentPositive}:{color:r.colors.contentPositive,background:r.colors.backgroundPrimary},borderRadius:"100px",boxShadow:r.shadows.mapIcon,position:"absolute",left:"24px",top:"-4px",padding:"0 8px",transition:"all 300ms ease",minHeight:"16px",display:"flex",alignItems:"center"}})),g=(0,o.I4)("div",(e=>{let{$isHovering:t,$isSelected:r,$theme:i}=e;return{...r?{color:i.colors.contentInversePrimary,background:i.colors.contentPositive,width:"20px",height:"20px"}:t?{color:i.colors.contentInversePrimary,background:i.colors.contentPositive,width:"16px",height:"16px"}:{color:i.colors.contentPositive,background:i.colors.backgroundPrimary,width:"16px",height:"16px"},borderRadius:"100px",boxShadow:i.shadows.mapIcon,position:"absolute",left:"24px",top:"-4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 300ms ease"}})),m=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{background:t.colors.backgroundInversePrimary,width:"4px",height:"5px",margin:"-1px auto 0 auto",...u}})),y=(0,o.I4)("div",(e=>{let{$isSelected:t,$hidden:r,$theme:i}=e;return{...t?i.typography.LabelSmall:i.typography.LabelXSmall,visibility:r?"hidden":"visible",position:"absolute",left:"50%",transform:"translateX(-50%)",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:"4px",transition:"all 300ms ease",textShadow:`1px 0 0 ${i.colors.backgroundPrimary}, 0 1px 0 ${i.colors.backgroundPrimary}, -1px 0 0 ${i.colors.backgroundPrimary}, 0 -1px 0 ${i.colors.backgroundPrimary},\n    2px 0 0 ${i.colors.backgroundPrimary}, 0 2px 0 ${i.colors.backgroundPrimary}, -2px 0 0 ${i.colors.backgroundPrimary}, 0 -2px 0 ${i.colors.backgroundPrimary}`}})),f=(0,o.I4)(l.A,(e=>{let{$isHovering:t,$isSelected:r,$theme:i}=e;return{...t||r?{filter:`brightness(0) invert(${i.colors.invertImage})`}:{}}})),v=e=>{let{isHoveredStoreUuid:t,isSelected:r,markerContent:i,secondaryMarkerContent:o,hideTitle:l,onMouseOver:u,onMouseLeave:v,onClick:x,onPointerUp:b,onTouchStart:Y,onTouchEnd:$,title:S,uuid:A,storeItem:w,displayMode:k}=e;if(i?.icon===s.j.CIRCLE_SMALL&&i?.size===d.H.SPACING_UNIT_2X)return(0,c.Y)(a.A,{hideTitle:l,isHovered:t,isSelected:r,title:S,uuid:w.uuid,onClick:e=>x?.(e),onMouseOver:e=>u?.(e),onMouseLeave:e=>v?.(e),storeItem:w});let I=null,_=i?.text;if(i&&i.imageURL)_=(0,c.Y)(f,{src:i.imageURL,height:18,width:18,$isHovering:t,$isSelected:r});else if(i&&i.icon)switch(i.icon){case"RESTAURANT":_=(0,c.Y)(n.A,{name:"RestaurantOutlined",size:16});break;case"HEART":_=(0,c.Y)(n.A,{name:"HeartFilled",size:t||r?20:16})}return o?.text?I=(0,c.Y)(h,{$isSelected:t||r,children:o?.text}):o&&"TAG"===o.icon&&(I=(0,c.Y)(g,{$isHovering:t,$isSelected:r,children:(0,c.Y)(n.A,{name:"TagOutlined",size:12})})),(0,c.FD)(c.FK,{children:[(0,c.FD)(p,{onClick:x,onPointerUp:b,onTouchStart:Y,onTouchEnd:$,onMouseOver:u,onMouseLeave:v,$isSelected:r,$isHovering:t,children:[I,_]}),r?(0,c.Y)(m,{}):null,(0,c.Y)(y,{$isSelected:r,$hidden:l,children:S})]})},x=i.memo(v,((e,t)=>e.isSelected===t.isSelected&&e.hideTitle===t.hideTitle&&e.displayMode===t.displayMode&&e.isHoveredStoreUuid===t.isHoveredStoreUuid))},60128:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var i=r(41967),o=r(41408),n=r(75344),l=r(88158),a=r(40014);const d=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{background:t.colors.contentTertiary,width:"36px",height:"36px",borderRadius:"200px",boxShadow:t.shadows.mapIcon,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}})),s=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{background:t.colors.contentTertiary,width:"4px",height:"6px",margin:"-1px auto 0 auto"}})),c=e=>{let{label:t}=e,r=(0,a.Y)(o.A,{size:16,color:"backgroundPrimary"});return t&&"home"===t.toLowerCase()?r=(0,a.Y)(n.A,{color:"backgroundPrimary",height:"20px",type:"Home",width:"20px"}):t&&"work"===t.toLowerCase()&&(r=(0,a.Y)(l.A,{color:"backgroundPrimary",size:20})),(0,a.FD)(a.FK,{children:[(0,a.Y)(d,{children:r}),(0,a.Y)(s,{})]})}},60979:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var i=r(41967),o=r(39182),n=r(40014);const l=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center"}})),a=(0,i.I4)("div",(e=>{let{$isSelected:t,$theme:r}=e;return{...t?{border:`6px solid ${r.colors.borderSelected}`}:{border:`6px solid ${r.colors.contentStateDisabled}`},width:"4px",height:"4px",background:r.colors.backgroundPrimary,borderRadius:"200px",boxShadow:r.shadows.mapIcon,cursor:"pointer",...o.vW}})),d=(0,i.I4)("div",(e=>{let{$theme:t}=e;return{background:t.colors.backgroundInversePrimary,width:"4px",height:"6px",marginTop:"-1px"}})),s=(0,i.I4)("div",(e=>{let{$isSelected:t,$hidden:r,$theme:i}=e;return{...i.typography.LabelXSmall,...r?{visibility:"hidden"}:{},...t?null:{color:i.colors.contentStateDisabled},maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textShadow:`1px 0 0 ${i.colors.backgroundPrimary}, 0 1px 0 ${i.colors.backgroundPrimary}, -1px 0 0 ${i.colors.backgroundPrimary}, 0 -1px 0 ${i.colors.backgroundPrimary},\n      2px 0 0 ${i.colors.backgroundPrimary}, 0 2px 0 ${i.colors.backgroundPrimary}, -2px 0 0 ${i.colors.backgroundPrimary}, 0 -2px 0 ${i.colors.backgroundPrimary}`}})),c=(0,i.I4)("div",(()=>({position:"absolute",left:"50%",transform:"translateX(-50%)",alignItems:"center",justifyContent:"center",marginTop:"24px",transition:"all 300ms ease",display:"flex",flexDirection:"column"}))),u=e=>{let{hideTitle:t,isHovered:r,isSelected:i,title:o,subtitle:u,uuid:p,onClick:h,onPointerUp:g,onTouchStart:m,onTouchEnd:y,onMouseOver:f,onMouseLeave:v,store:x,storeItem:b}=e;return(0,n.FD)(l,{children:[(0,n.Y)(a,{$isSelected:r||i,onMouseOver:f,onMouseLeave:v,onClick:h,onTouchStart:m,onTouchEnd:y,onPointerUp:g}),i?(0,n.Y)(d,{}):null,u?(0,n.FD)(c,{children:[(0,n.Y)(s,{$isSelected:r||i,$hidden:Boolean(t),children:o}),(0,n.Y)(s,{$isSelected:r||i,$hidden:Boolean(t),children:u})]}):(0,n.Y)(s,{$isSelected:r||i,$hidden:Boolean(t),children:o})]})}},61253:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var i=function(e,t){var r={};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var i in e)e.hasOwnProperty&&!e.hasOwnProperty(i)||-1===t.indexOf(i)&&(r[i]=e[i]);return r}},63451:(e,t,r)=>{"use strict";r.d(t,{A:()=>Yt});var i=r(90417),o=r(41967),n=r(51084),l=r(51638),a=r(61073),d=r(23963),s=r(39182),c=r(23599),u=r(26505),p=r(40014);const h=(0,o.I4)("div",{overflow:"hidden",position:"relative"}),g=((0,o.I4)("div",(e=>({overflow:"hidden",position:"relative",..."ltr"===e.$direction?{marginRight:"-24px"}:{marginLeft:"-24px"}}))),(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...(0,d.A)({$theme:t}),backgroundSize:"100vw 100%",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:s.IQ.background}}))),m=(0,o.I4)("div",{display:"flex"}),y=((0,o.I4)("div",{flex:1,display:"flex",flexDirection:"column"}),()=>(0,p.FD)(h,{children:[(0,p.Y)(g,{}),(0,p.FD)(m,{children:[(0,p.Y)(u.A,{$width:"144px",$height:"40px"}),(0,p.Y)(c.lL,{$width:"12px"}),(0,p.Y)(u.A,{$width:"104px",$height:"40px"}),(0,p.Y)(c.lL,{$grow:!0})]})]}));var f=r(55261),v=r(73226);const x=(0,o.I4)("div",{display:"flex",padding:"16px 0"});function b(e){let{feed:t}=e;const r=(0,l.A)(t),{selectedSortAndFilters:i,handleSelect:n}=(0,v.g)(),d=Boolean(r.data?.sortAndFilters&&r.data.sortAndFilters.length>0),[,s]=(0,o.c6)();return(0,p.Y)("div",{children:(0,p.Y)(a.A,{source:t,loaded:e=>{const{sortAndFilters:t}=e;return t&&d?(0,p.Y)(f.A,{sortAndFilters:t,selectedSortAndFilters:i,onSelect:n,pageType:"home",padding:`${s.sizing.scale600} 0 ${s.sizing.scale600} 0px`}):null},loading:()=>(0,p.Y)(x,{children:(0,p.Y)(y,{})}),error:()=>null})})}var Y=r(86105),$=r("__fusion__95b4ba69e5"),S=r(2693),A=r(11811),w=r(70994),k=r(17408),I=r(59160),_=r(44580),C=r(39575),M=r(26840),F=r(8474),L=r(21227);const P=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{cursor:"pointer",margin:"0 -24px",padding:"16px 24px",height:"112px",display:"flex",overflow:"hidden",":hover":{background:t.colors.backgroundSecondary}}})),D=(0,o.I4)("div",{position:"relative",width:"178px",height:"112px",overflow:"hidden"}),z=(0,o.I4)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"flex-end",width:"100%",padding:"8px",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),T=(0,o.I4)("div",{display:"flex"}),O=(0,o.I4)("div",{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"}),R=(0,o.I4)("div",{display:"flex",flexGrow:1}),E=(0,o.I4)("div",{flexGrow:1,display:"flex",flexDirection:"column",width:"calc(100% - 32px)"}),H=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),B=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),U=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,width:"28px",height:"28px",textAlign:"center",lineHeight:"28px",background:t.colors.buttonSecondaryFill,color:t.colors.buttonSecondaryText,borderRadius:"50%"}})),X=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.signpost,marginTop:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),j=e=>{let{analyticsLabel:t,heroImageSizes:r,onMouseOver:i,pageType:o,position:n,showFavorite:l,store:a,useLazyLoadImage:d}=e;const s=(0,Y.zy)(),c=(0,I.jH)(),u=a.uuid,h=a.title,g=a.storeUrl||(0,F.NQI)(s,{storeSlug:a.slug,storeUuid:a.uuid}),m=a.promotion?.promotionUuid,y=a.promotion?.text,f=(0,L.l)(t),v=[...a.etaRange?.text?[a.etaRange.text]:[],...a.distanceBadge?.text?[a.distanceBadge.text]:[]].join(" â€¢ "),x=a.rating&&"EATS"===a.rating.type?a.rating.feedback?.rating:null;return(0,p.Y)(A.A,{storeUuid:u,storeUrl:g,location:s,analyticsLabel:t,trackingCode:f,pageType:o,position:n,partialStore:(0,w.$p)(a),children:(0,p.FD)(P,{onMouseOver:i,children:[(0,p.Y)(D,{children:(0,p.FD)(C.A,{storeUuid:u,heroImageUrl:a.heroImageUrl,title:a.title,height:112,useLazyLoad:d,children:[(0,p.Y)(M.A,{isOpen:a.isOpen,closedMessage:a.closedMessage}),(0,p.Y)(z,{$isInteractive:a.isOpen,children:l?(0,p.Y)(T,{children:(0,p.Y)(k.A,{storeUuid:u,size:"small",shadow:(0,p.Y)(k.O,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===c?-8:4})})}):null})]})}),(0,p.Y)(S.Wp,{}),(0,p.Y)(O,{children:(0,p.FD)(R,{children:[(0,p.FD)(E,{children:[(0,p.Y)(H,{children:h}),(0,p.Y)(_.Ay,{$height:4}),(0,p.Y)(B,{children:v}),a.isOpen&&y&&m?(0,p.FD)(p.FK,{children:[(0,p.Y)(_.Ay,{$height:4}),(0,p.Y)(X,{children:y})]}):null]}),x?(0,p.FD)(p.FK,{children:[(0,p.Y)(S.hl,{}),(0,p.Y)(U,{children:x})]}):null]})})]})})},N=$.memo(j,((e,t)=>e.position===t.position));var G=r(69927),K=r(55780),W=r(31753),q=r(72673),V=r(97872),Z=r(49684),Q=r(6463),J=r(57812);const ee=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{cursor:"pointer",margin:"0 -24px",padding:"16px 24px",height:"112px",display:"flex",overflow:"hidden",":hover":{background:t.colors.backgroundSecondary}}})),te=(0,o._F)(G.A,{position:"relative",width:"178px",height:"112px",overflow:"hidden"}),re=(0,o.I4)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"flex-end",width:"100%",padding:"8px",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),ie=(0,o.I4)("div",{display:"flex"}),oe=(0,o.I4)("div",{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"}),ne=(0,o.I4)("div",{display:"flex",flexGrow:1}),le=(0,o.I4)("div",{flexGrow:1,display:"flex",flexDirection:"column",width:"calc(100% - 32px)"}),ae=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),de=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),se=(0,o.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,width:"28px",height:"28px",textAlign:"center",lineHeight:"28px",background:t.colors.buttonSecondaryFill,color:t.colors.buttonSecondaryText,borderRadius:"50%"}})),ce=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{borderRadius:t.borders.pillButtonBorderRadius,...(0,V.b)({$theme:t}),display:"flex",flexDirection:"row",alignItems:"center",height:"36px",padding:"8px 12px",boxSizing:"border-box",width:"fit-content"}})),ue=e=>{let{analyticsLabel:t,heroImageSizes:r,onMouseOver:i,pageType:o,position:n,showFavorite:l,store:a,useLazyLoadImage:d,storeType:s}=e;const c=(0,Y.zy)(),u=(0,I.jH)(),h=a.storeUuid||"",g=a.title?.text||"",m=(0,L.l)(t,a.tracking),y=(0,q.NU)(c,a.actionUrl);let f;"imageOverlayCallToAction"in a&&a.imageOverlayCallToAction&&(f=a.imageOverlayCallToAction),"callToAction"in a&&a.callToAction&&(f=a.callToAction);const v="MINI_STORE"===s;return(0,p.Y)(A.A,{storeUuid:h,storeUrl:y,location:c,analyticsLabel:t,trackingCode:m,pageType:o,position:n,partialStore:(0,w.Ay)(a),offerMetadata:a.tracking?.storePayload?.offerMetadata,children:(0,p.FD)(ee,{onMouseOver:i,children:[(0,p.FD)(te,{storeUuid:h,image:a.image,sizes:r,useLazyLoad:d,children:[a.imageOverlay?(0,p.Y)(K.Ay,{imageOverlay:a.imageOverlay}):null,(0,p.Y)(re,{$isInteractive:!a.imageOverlay,children:l?(0,p.Y)(ie,{children:(0,p.Y)(k.A,{storeUuid:h,size:"small",shadow:(0,p.Y)(k.O,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===u?-8:4})})}):null})]}),(0,p.Y)(S.Wp,{}),(0,p.Y)(oe,{children:(0,p.FD)(ne,{children:[(0,p.FD)(le,{children:[(0,p.Y)(ae,{children:g}),(0,p.Y)(_.Ay,{$height:4}),f?(0,p.FD)(p.FK,{children:[(0,p.Y)(_.Ay,{$height:4}),(0,p.Y)(ce,{children:(0,p.Y)(Z.A,{badge:f,baseFont:"LabelSmall"})})]}):null,f?null:(0,p.FD)(de,{children:[a.meta&&!v?(0,p.Y)(W.A,{meta:a.meta}):null,a.meta2&&!v?(0,p.Y)(W.A,{meta:a.meta2,removeServerDrivenColor:!0}):null,v?[a.meta,a.meta2].filter(Boolean).map(((e,t)=>(0,p.Y)(J.A,{meta:e,wrapText:0===a.signposts?.length},t))):null]}),!f&&a.signposts?(0,p.FD)(p.FK,{children:[(0,p.Y)(_.Ay,{$height:4}),(0,p.Y)(Q.Ay,{signposts:a.signposts,enforceTextColorOnlyFromServer:!0})]}):null]}),a.rating?.text?(0,p.FD)(p.FK,{children:[(0,p.Y)(S.hl,{}),(0,p.Y)(se,{children:a.rating?.text})]}):null]})})]})})},pe=$.memo(ue,((e,t)=>e.position===t.position));var he=r(13084),ge=r(4914),me=r(86457),ye=r(49502),fe=r(61750),ve=r(67319),xe=r(14192);const be=(0,o.I4)("div",{width:"100%",display:"flex",alignItems:"center",position:"relative",justifyContent:"center"}),Ye=(0,o.I4)("div",{overflow:"hidden",width:"100%"}),$e=(0,o.I4)("div",(e=>{let{$supportsScrollSnapping:t}=e;return{position:"relative",overflowX:"scroll",display:"flex",width:"100%",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...t?{scrollSnapType:"x mandatory"}:{}}})),Se=(0,o.I4)("div",(e=>{let{$theme:t,$direction:r,$visible:i}=e;return{display:"flex",alignItems:"center",justifyContent:"ltr"===r?"start":"flex-end",position:"absolute",height:"100%",width:"80px",top:0,visibility:i?"visible":"hidden",background:`linear-gradient(${"ltr"===r?"90deg":"270deg"}, ${t.colors.backgroundPrimary}, ${(0,ve.jv)(t.colors.backgroundPrimary,0)})`,..."ltr"===r?{left:"-8px"}:{right:"-8px"}}})),Ae=(0,o._F)(fe.G,{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"}),we=e=>{const{containerRef:t,getPageChunks:r,getPageProps:i,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:a,textDirection:d}=(0,me.A)({scrollOffset:e.margin}),s=e.slides.map(((t,r)=>(0,p.Y)(xe.q7,{$textDirection:d,$pageSize:e.pageSize,$margin:e.margin,children:e.renderSlide(t,r)},r))),c=(0,I.jH)(),u=(0,ge.c)(),h=r(s,e.pageSize),g=e.slides.length>e.pageSize,m=!o,y=!n;return(0,p.FD)(be,{children:[(0,p.Y)(Ye,{children:(0,p.Y)($e,{ref:t,$supportsScrollSnapping:a,children:h.map(((t,r,o)=>(0,p.Y)(xe.YW,{$pageMargin:e.margin,...i(r,o.length),children:t},r)))})}),g?(0,p.FD)(p.FK,{children:[(0,p.Y)(Se,{$direction:"rtl",$visible:y,children:(0,p.Y)(Ae,{onClick:()=>l("forward"),disabled:!y,"aria-label":u("shared.next"),children:(0,p.Y)(ye.A,{size:16,rotate:"ltr"===c?180:0})})}),(0,p.Y)(Se,{$direction:"ltr",$visible:m,children:(0,p.Y)(Ae,{onClick:()=>l("back"),disabled:!m,"aria-label":u("shared.previous"),children:(0,p.Y)(ye.A,{size:16,rotate:"ltr"===c?0:180})})})]}):null]})},ke=(0,o.I4)("div",{position:"relative",display:"flex",alignItems:"center"}),Ie=e=>{let{dishes:t,storeSlug:r}=e;const i=(0,Y.zy)();if(!t.length)return null;return(0,p.Y)(ke,{children:(0,p.Y)(we,{slides:t,renderSlide:(e,t)=>{const o=(0,q.NU)(i,e.actionUrl);return(0,p.Y)(he.A,{dish:e,storeSlug:r,position:t+1,actionUrl:o,imageWidth:64})},pageSize:2,margin:8})})};var _e=r(41938),Ce=r(43139),Me=r(49823),Fe=r(35050),Le=r(19053);function Pe(e){let{shortcuts:t,shortcutsMeta:r}=e;return(0,p.Y)(Le.Ay,{items:t,renderItem:e=>{let{item:t}=e;return(0,p.Y)(Fe.A,{shortcut:t,includeSpacer:!0})},renderForwardButton:e=>(0,p.Y)(Le.qM,{onButtonClick:e,direction:Le.X.FORWARD}),renderBackButton:e=>(0,p.Y)(Le.qM,{onButtonClick:e,direction:Le.X.BACK})})}var De=r(43316),ze=r(39431);const Te=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingMedium,textAlign:"center",marginBottom:"8px"}})),Oe=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,textAlign:"center"}})),Re=(0,o.I4)("div",{display:"flex",marginTop:"32px",width:"100%",flexDirection:"column",alignItems:"center"}),Ee=(0,o.I4)("div",{width:"226px",paddingBottom:"56px",transition:"transform 50ms ease-in-out",":hover":{transform:"scale(1.05)"}}),He=(0,o.I4)(De.A,{width:"100%",height:"100%"});function Be(e){let{emptyState:t}=e;return(0,p.FD)(Re,{children:[(0,p.Y)(Ee,{children:(0,p.Y)(He,{src:(0,ze.uq)(r(88626))})}),(0,p.Y)(Te,{children:t.title}),(0,p.Y)(Oe,{children:t.subtitle})]})}var Ue=r(66717);const Xe=(0,o.I4)("div",{marginBottom:"24px"}),je=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{padding:"12px",margin:"-12px",":hover":{background:t.colors.backgroundSecondary}}})),Ne=(0,o.I4)("div",{marginBottom:"32px",marginLeft:`-${s._4}`,marginRight:`-${s._4}`}),Ge=(0,o.I4)("div",{position:"relative"}),Ke=e=>{let{feedItems:t,storesMap:r,feedAffixes:i,hideShortcuts:o}=e;const{hoverStoreUuid:l}=(0,n.$P)(),a=(0,Y.zy)(),d=(i||[]).find((e=>"SHORTCUTS"===e.type)),s=(t||[]).find((e=>"EMPTY_MAP_FEED_STATE"===e.type)),c=(0,Ue.A)();return s?(0,p.Y)(Ge,{children:(0,p.Y)(Be,{emptyState:s})}):(0,p.FD)(Ge,{children:[!o&&d?(0,p.FD)(p.FK,{children:[(0,p.Y)(Pe,{shortcuts:d.shortcuts||[],shortcutsMeta:d.analyticsLabel||""}),(0,p.Y)(_.Ay,{$height:16})]}):null,(0,p.Y)(Me.xA,{wrap:!0,children:t.map(((e,t)=>{switch(e.type){case"STORE":{const i=r[e.uuid];return i?(0,p.Y)(Me.fh,{span:6,children:(0,p.Y)(N,{analyticsLabel:"pickup_map_store_feed",heroImageSizes:"25vw",onMouseOver:()=>l(e.uuid),position:t,showFavorite:!0,store:i,useLazyLoadImage:!1},e.uuid)},e.uuid):null}case"REGULAR_STORE":return(0,p.Y)(Me.fh,{span:6,children:(0,p.Y)(je,{onMouseOver:()=>l(e.uuid),children:(0,p.Y)(Ce.A,{store:e.store,location:a,showFavorite:!0,pageType:"pickup_map",position:t,titleTypography:"LabelLarge",heroImageHeight:c,heroImageSizes:"25vw",analyticsLabel:e.analyticsLabel,useLazyLoadImage:!1})})},e.uuid);case"REGULAR_STORE_WITH_ITEMS":return(0,p.Y)(Me.fh,{span:6,children:(0,p.Y)(je,{onMouseOver:()=>l(e.uuid),children:(0,p.FD)(Xe,{children:[(0,p.Y)(pe,{analyticsLabel:"pickup_map_store_feed",heroImageSizes:"25vw",onMouseOver:()=>l(e.uuid),position:t,showFavorite:!0,store:e.store,useLazyLoadImage:!1},e.uuid),(0,p.Y)(Ie,{dishes:e.dishes||[],storeSlug:""})]},t)})},e.uuid);case"MINI_STORE":return(0,p.Y)(Me.fh,{span:6,children:(0,p.Y)(je,{onMouseOver:()=>l(e.uuid),children:(0,p.Y)(pe,{analyticsLabel:"pickup_map_store_feed",heroImageSizes:"25vw",onMouseOver:()=>l(e.uuid),position:t,showFavorite:!0,store:e.store,storeType:e.type,useLazyLoadImage:!1},e.uuid)})},e.uuid);case"EATER_MESSAGE_FEED":return(0,p.Y)(Me.fh,{span:12,children:(0,p.Y)(Ne,{children:(0,p.Y)(_e.A,{eaterMessage:e.eaterMessage,feedIndex:t})})});default:return null}}))})]})};var We=r(43018),qe=r(62795),Ve=r(64276),Ze=r(91156);const Qe=e=>encodeURIComponent(`\n  <svg width="485" height="92" viewBox="0 0 485 92" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0V92H345.192C351.255 92 357.048 89.6672 361.325 85.4943L380.691 66.6014C385.912 61.5086 392.985 58.65 400.327 58.65H485V46V0H0Z" fill="${e}" />\n  </svg>\n  `),Je=(0,o.I4)("div",(e=>{let{$backgroundColor:t}=e;return{height:"92px",width:"100%",display:"flex",backgroundImage:`url('data:image/svg+xml,${Qe(t)}');`,justifyContent:"space-between"}})),et=(0,o.I4)("div",{flexDirection:"column",alignSelf:"center",padding:"0 24px"}),tt=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,color:t.colors.contentPrimary,alignSelf:"center"}})),rt=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary,alignSelf:"center"}})),it=(0,o.I4)(De.A,{height:"67px",width:"63px",alignSelf:"center",display:"flex",padding:"0 24px"}),ot=e=>{let{feedItems:t,subtitle:r,bottomSheet:i}=e;const o=t.find((e=>"PAGE_HEADER"===e.type))||{},n=(0,Ze.Ay)();$.useEffect((()=>{n("eats:search_feed_category_header_view_pickup")}),[n]);const{showEuDisclaimer:l}=(0,Ve.A)(),a=(0,We.x)(r),d=(0,We.x)(o.title||"");return(0,p.Y)("div",{children:(0,p.FD)(Je,{$backgroundColor:o.backgroundColor||"#F6F0EA",children:[l?(0,p.Y)(et,{children:(0,p.Y)(qe.A,{title:d||"",subtitle:r||a,bottomSheet:i,titleTypography:"DisplayBold3XSmall"})}):(0,p.FD)(et,{children:[(0,p.Y)(tt,{children:d}),(0,p.Y)(rt,{children:a})]}),o.iconUrl?(0,p.Y)(it,{src:o.iconUrl}):null]})})};var nt=r(4252);const lt=(0,o.I4)("div",{padding:"0 24px"}),at=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,paddingBottom:"4px"}})),dt=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,paddingBottom:"8px"}})),st=e=>{const{showEuDisclaimer:t}=(0,Ve.A)(),r=e?.searchDisplayConfig,i=(0,We.x)(e.subtitle),o=e.seoMeta?.titleContent;return o?(0,p.FD)(lt,{children:[(0,p.Y)(_.Ay,{$height:24}),(0,p.Y)(nt.A,{format:o,styleMode:"desktop"})]}):"CATEGORY_PAGE"===r?(0,p.Y)(ot,{feedItems:e.feedItems,subtitle:e.subtitle,bottomSheet:e.bottomSheet}):t?(0,p.Y)(lt,{children:(0,p.Y)(qe.A,{title:e.title,subtitle:e.subtitle,bottomSheet:e.bottomSheet,titleTypography:"DisplayBold3XSmall"})}):(0,p.FD)(lt,{children:[(0,p.Y)(_.Ay,{$height:24}),(0,p.Y)(at,{children:e.title}),(0,p.Y)(dt,{children:i})]})};var ct=r(75674);const ut=(0,o.I4)("div",{padding:"0 24px"}),pt=()=>(0,p.FD)(ut,{children:[(0,p.Y)(_.Ay,{$height:24}),(0,p.Y)(ct.g9,{$width:"176px"}),(0,p.Y)(_.Ay,{$height:4}),(0,p.Y)(ct.bv,{$width:"88px"}),(0,p.Y)(_.Ay,{$height:8})]});var ht=r(89012),gt=r(61253),mt=r(58711),yt=r(26482),ft=r(86791),vt=r(31725);const xt=(0,o.I4)("div",{width:"831px",overflow:"auto"}),bt=(0,o.I4)("div",{padding:"0 24px"}),Yt=e=>{const{mapCoordinates:t}=(0,ft.A)(),{hoverStoreUuid:r,mapContext:o}=(0,n.$P)(),{feed:l,getFeed:d,shouldGetFeed:s,getFeedWithRecaptcha:c}=(0,mt.A)({runEffect:!0}),u=(0,vt.A)("seo_override_location_details_enabled"),{isRecaptchaEnabled:h}=(0,yt.A)();return(0,i.useEffect)((()=>{const r={mapContext:o,overrideLocationDetails:u&&e.overrideLocationDetails||t};s&&(h?c(r):d(r))}),[u,e,s,h,c,d,o,t]),(0,p.Y)(n.s5,{displayMode:"FEED",children:(0,p.FD)(xt,{children:[(0,p.Y)(a.A,{source:l,error:()=>null,loaded:t=>(0,p.Y)(st,{...(0,gt.A)(t,["searchDisplayConfig"]),seoMeta:e.seoMeta}),loading:()=>(0,p.Y)(pt,{})}),(0,p.FD)(bt,{children:[(0,p.Y)(b,{feed:l}),(0,p.Y)("div",{onMouseLeave:()=>r(null),children:(0,p.Y)(a.A,{source:l,error:()=>null,loaded:t=>(0,p.Y)(Ke,{hideShortcuts:e.hideShortcuts,feedItems:t.feedItems,storesMap:t.storesMap,feedAffixes:t.feedAffixes}),loading:()=>(0,p.Y)(ht.Ay,{colCount:2})})})]})]})})}},63922:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(90417),o=r(39155),n=r(40014);function l(e,t){return(0,n.Y)(o.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.Y)("path",{d:"M19.333 11H4.667v2h14.666z"})})}const a=i.forwardRef(l)},65310:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var i=r(86105),o=r(41967),n=r(86597),l=r(44580),a=r(31300),d=r(64825),s=r(8474),c=r(66764),u=r(40014);const p=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall}})),h=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium}})),g=()=>{const e=(0,i.zy)(),t=(0,d.A)();return(0,u.Y)(n.Ay,{children:(0,u.FD)(n.F6,{children:[(0,u.Y)(p,{children:"Fix location sharing"}),(0,u.Y)(l.Ay,{$height:8}),(0,u.Y)(h,{children:(0,u.Y)(c.H,{id:"components.feed.allow_location_error_message_v2"})}),(0,u.Y)(l.Ay,{$height:16}),(0,u.Y)(a.A,{onClick:()=>{t((0,s.Hwd)(e))},children:"Got it"})]})})}},83447:(e,t,r)=>{"use strict";r.d(t,{A:()=>$});var i=r(90417),o=r(39431),n=r(66764),l=r(86105),a=r(41967),d=r(86597),s=r(31300),c=r(42061),u=r(43316),p=r(44580),h=r(51084),g=r(64825),m=r(8474),y=r(91156),f=r(40014);const v=(0,a.I4)("div",{display:"flex",alignItems:"center",flexDirection:"column"}),x=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,alignSelf:"start"}})),b=(0,a.I4)(u.A,{height:"112px",width:"112px"}),Y=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium}})),$=()=>{const{getCurrentPosition:e}=(0,h.$P)(),t=(0,l.zy)(),a=(0,g.A)(),u=(0,y.Ay)();return(0,i.useEffect)((()=>{u("eats:pickup_map_share_location_request_impression")}),[u]),(0,f.Y)(d.Ay,{onClose:()=>{a((0,m.Hwd)(t)),u("eats:pickup_map_share_location_request_cancel")},children:(0,f.Y)(d.F6,{children:(0,f.FD)(v,{children:[(0,f.Y)(x,{children:(0,f.Y)(n.H,{id:"components.pickup.allow_title"})}),(0,f.Y)(p.Ay,{$height:24}),(0,f.Y)(b,{src:(0,o.uq)(r(34098))}),(0,f.Y)(p.Ay,{$height:24}),(0,f.Y)(Y,{children:(0,f.Y)(n.H,{id:"components.pickup.allow_description"})}),(0,f.Y)(p.Ay,{$height:24}),(0,f.Y)(s.A,{onClick:()=>{a((0,m.Hwd)(t)),e(),u("eats:pickup_map_share_location_allow_click")},children:(0,f.Y)(n.H,{id:"components.pickup.allow"})}),(0,f.Y)(p.Ay,{$height:8}),(0,f.Y)(c.A,{onClick:()=>{a((0,m.Hwd)(t)),u("eats:pickup_map_share_location_use_delivery_click")},children:(0,f.Y)(n.H,{id:"components.pickup.use_delivery_address"})})]})})})}},91213:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(90417),o=r(39155),n=r(40014);function l(e,t){return(0,n.Y)(o.A,{viewBox:"0 0 16 16",ref:t,...e,children:(0,n.Y)("path",{d:"M7 9L.333 7.333 14 2 8.666 15.667 7 9z"})})}const a=i.forwardRef(l)},91351:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(90417),o=r(39155),n=r(40014);function l(e,t){return(0,n.Y)(o.A,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.Y)("path",{d:"M16.9 12l-4.6 6H8.5l4.6-6-4.6-6h3.8l4.6 6z"})})}const a=i.forwardRef(l)}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-92201-416a9d9975d090d4.js.map