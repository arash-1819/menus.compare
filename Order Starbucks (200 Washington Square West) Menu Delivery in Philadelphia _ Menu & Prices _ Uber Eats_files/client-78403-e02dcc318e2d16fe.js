"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[78403],{12304:(e,t,i)=>{i.d(t,{A:()=>y});var l=i(90417),n=i(27948),r=i(9764),a=i(73792),o=i(67459),s=i(56279),c=i(38018),d=i(8474),p=i(86105),u=i(65888),h=i(67205),g=i(40014);const y=l.forwardRef(((e,t)=>{let{carouselTitle:i,entityUuids:y,analyticsLabel:m,numItems:f,children:v,carouselLayoutType:b,position:x,trackingCode:Y,pageType:I,carouselUuid:A,storeUuid:_,onImpression:F,quickAddEnabled:T}=e;const E=(0,p.zy)(),$=(0,c.W)(),S=(0,a.W)(),w=(0,r.A)(),D=l.useRef(!1),{elementRef:k,isElementHidden:L}=(0,o.A)({initialHidden:!0,waitTime:0,shouldListen:!D.current}),{userQuery:C,searchSource:U,searchEntered:P,eventSource:M}=(0,d.g$k)(E,["userQuery","searchSource","searchEntered","eventSource"]),R=(0,u.z)({impressionEventName:"unified_feed_carousel_vertical_scrolled",payload:{searchTerm:C,searchType:U,searchEntered:P,eventSource:M,feedItemPosition:x,analyticsLabel:m,numItems:y?y.length:f,carouselLayoutType:b,entityUuids:y,trackingCode:Y,pageType:I,carouselTitle:i,carouselPosition:x,feedContext:(0,n.Y)(I),carouselContext:(0,n.g)(b),carouselUuid:A,verticalType:w||h.h0,diningMode:S,storeUuid:_,selectedVertical:w||h.h0}});return l.useEffect((()=>{m&&!L&&(D.current=!0,$("eats:carousel_metadata",{label:m,numItems:y?y.length:f,carouselLayoutType:b,entityUuids:y,trackingCode:Y,pageType:I,carouselTitle:i,carouselPosition:x,feedContext:(0,n.Y)(I),carouselContext:(0,n.g)(b),carouselUuid:A,vertical:w,diningMode:S,storeUuid:_,quickAddEnabled:T}),F&&F())}),[$,m,y,L,b,f,x,Y,i,I,A,w,S,_,F,T]),(0,g.Y)("div",{ref:(0,s.A)(k,t,R),children:v})}))},13422:(e,t,i)=>{i.d(t,{A:()=>k});var l=i(50371),n=i(4914),r=i(41967),a=i(2693),o=i(68398),s=i(43316),c=i(39182),d=i(40014);const p=(0,r.I4)(s.A,{width:"16px",height:"16px"}),u=(0,r.I4)("div",{display:"flex",alignItems:"center"}),h=(0,r.I4)("div",{height:"22px"}),g=(0,r.I4)("span",c.mT);function y(e){let{badge:t}=e;return t.textFormat?(0,d.FD)(d.FK,{children:[t.accessibilityText?(0,d.Y)(g,{children:t.accessibilityText}):null,(0,d.Y)(h,{"aria-hidden":!!t.accessibilityText||void 0,children:(0,d.Y)(o.A,{lines:t.textFormat})})]}):(0,d.FD)(d.FK,{children:[t.accessibilityText?(0,d.Y)(g,{children:t.accessibilityText}):null,(0,d.FD)(u,{"aria-hidden":!!t.accessibilityText||void 0,children:[t.iconUrl?(0,d.FD)(d.FK,{children:[(0,d.Y)(p,{src:t.iconUrl}),(0,d.Y)(a.Ay,{$width:"4px"})]}):null,t.text]})]})}var m=i(54444),f=i(75344),v=i(8474),b=i(63919),x=i(86105);const Y=(0,r.I4)("div",(e=>{let{$padding:t="12px 0"}=e;return{padding:t,display:"flex",alignItems:"flex-start"}})),I=(0,r.I4)("div",{display:"flex",flex:1,flexDirection:"column",minWidth:0}),A=(0,r.I4)("p",(e=>{let{$theme:t,$storeTitleTypography:i="LabelLarge"}=e;return{...t.typography[i],textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginBottom:"2px",cursor:"pointer"}})),_=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,display:"flex",whiteSpace:"nowrap",alignItems:"center",overflow:"hidden"}})),F=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,display:"flex",alignItems:"center",marginBottom:"2px"}})),T=(0,r.I4)("div",{marginLeft:"4px"}),E=(0,r.I4)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),$=(0,r.I4)("div",(e=>{let{$theme:t,$isPositive:i}=e;return{...t.typography.LabelXSmall,height:"28px",width:"28px",flex:"0 0 28px",...i?{background:t.colors.positive50,color:t.colors.positive}:{background:t.colors.backgroundTertiary},borderRadius:t.borders.radiusFull,display:"flex",alignItems:"center",justifyContent:"center"}})),S=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,display:"flex"}})),w=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,display:"flex",paddingRight:"16px"}})),D=()=>(0,d.Y)(b.A,{spaces:2,color:"contentTertiary"}),k=e=>{let{title:t,deliveryFee:i,pickupDistance:r,etaRange:o,priceBucket:s,rating:c,categories:p,endorsement:u,storeUrl:h,storeAdBadge:g,styleOverrides:b,attributeBadgeList:k}=e;const L=(0,x.zy)(),C=(0,l.W6)(),U=Boolean(r||i||o||k?.length),P=(0,n.c)()("shared.new"),M=Boolean(k?.length);let R;if(c&&"EATS"===c.type){const e=c.feedback?.rating;R=(0,d.Y)($,{$isPositive:(e||0)>4.5,children:"number"==typeof e?e.toFixed(1):(0,d.Y)(S,{children:P})})}else c||(R=P.length>5?(0,d.Y)(w,{children:P}):(0,d.Y)(S,{children:P}));return(0,d.Y)(d.FK,{children:(0,d.FD)(Y,{$padding:b?.storeItemMetaTopRowPadding,children:[(0,d.FD)(I,{children:[(0,d.Y)(A,{$storeTitleTypography:b?.storeTitleTypography,children:t}),g?(0,d.FD)(F,{children:[(0,d.Y)(y,{badge:g}),(0,d.Y)(T,{onClick:e=>(e=>{e.preventDefault(),e.stopPropagation(),C.push((0,v.Zyy)(L,"adsInfo",t))})(e),children:(0,d.Y)(f.A,{type:"Information",color:"contentTertiary",width:"12",height:"12"})})]}):null,(0,d.FD)(_,{children:[(0,d.Y)(m.A,{separator:D,children:M?(k||[]).map(((e,t)=>(0,d.Y)(y,{badge:e},t))):[r?(0,d.Y)(y,{badge:r},"pickupDistance"):null,i?(0,d.Y)(y,{badge:i},"deliveryFee"):null,o?(0,d.Y)(y,{badge:o},"etaRange"):null]}),s?(0,d.FD)(E,{children:[U?(0,d.Y)(D,{}):null,s]}):null," "]})]}),(0,d.Y)(a.Ay,{$width:"16px"}),R]})})}},26840:(e,t,i)=>{i.d(t,{A:()=>o});var l=i(41967);const n=(0,l.I4)("figcaption",(e=>{let{$theme:t}=e;return{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px",...t.overlays.full}})),r=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentOnColor,textAlign:"center"}}));var a=i(40014);const o=e=>e.isOpen?null:(0,a.Y)(n,{children:(0,a.Y)(r,{children:e.closedMessage})})},28375:(e,t,i)=>{i.d(t,{A:()=>n});var l=i(56427);const n=e=>"native"!==(0,l.A)(e)},38399:(e,t,i)=>{i.d(t,{Ay:()=>x,r8:()=>b});var l=i("__fusion__95b4ba69e5"),n=i(90417),r=i(66764),a=i(18297),o=i(41967),s=i(8474),c=i(84302),d=i(73792),p=i(86105),u=i(38647),h=i(48008),g=i(91156),y=i(65888),m=i(17283),f=i(40014);const v=(0,o._F)(a.Yq,(e=>{let{$theme:t,$feedRefreshEnabled:i}=e;return{...t.typography.LabelMedium,...i?{...t.typography.LabelSmall,textDecoration:"none"}:{}}})),b=e=>function(t){let{onViewAllClick:i,callToAction:a,showArrow:o,analyticsLabel:v}=t;const b=(0,p.zy)(),x=(0,d.W)(),Y=(0,d.g)(),{diningMode:I}=(0,s.aGs)(a?.actionUrl||"",["diningMode"]),A=(0,c.jf)(I),_=(0,u.A)(),F=a?.text||(0,f.Y)(r.H,{id:"carousel.view_all"}),T=(0,g.Ay)(),E=(0,y.s)({tapEventName:"see_all_carousel_tap",payload:(0,m.P4)({diningMode:x,analyticsLabel:v})}),$=l.useCallback((()=>{T("eats:stores_carousel_see_all_click",{analyticsLabel:v}),E(),"function"==typeof i&&i(),A&&A!==x&&Y(A)}),[T,v,E,i,A,x,Y]),S=(0,n.useMemo)((()=>(0,h.o)(a,b)),[a,b]);return(0,f.Y)(e,{"data-testid":"view-all-button",onClick:$,to:S,$feedRefreshEnabled:_,children:F})},x=(0,o.K6)(v,b)},38537:(e,t,i)=>{i.d(t,{Ay:()=>D,HD:()=>F});var l=i(90417),n=i(57716),r=i(41967),a=i("__fusion__b2194975ff"),o=i(49684),s=i(8474),c=i(36093),d=i(64276),p=i(53287),u=i(60845),h=i(86105),g=i(48008),y=i(40304),m=i(1139),f=i(38647),v=i(70951),b=i(91156),x=i(49807),Y=i(26955),I=i(93847),A=i(40014);const _=(0,r._F)(u.ej,{marginTop:0,left:"auto",right:`-${u.vH/2}px`}),F=(0,r.I4)("div",{display:"block"}),T=(0,r.I4)("h2",(e=>{let{$theme:t,$isLeadingIconEnabled:i}=e;return{display:"flex",alignItems:"center",gap:i?t.sizing.scale300:"0px"}})),E=(0,A.Y)("div",{}),$=(0,r.I4)(n.N_,{pointerEvents:"auto"}),S=(0,r.I4)("span",(e=>{let{$theme:t,$font:i}=e;return{...i?t.typography[i]:{},color:t.colors.contentPositive}})),w=(0,r.I4)(a.default,(e=>{let{$margin:t}=e;return{marginRight:`${t}px`}})),D=e=>{let{header:t,headerTypography:i}=e;const{rankingBottomSheet:r}=(0,c.A)(),{showEuDisclaimer:a}=(0,d.A)(),D=(0,h.zy)(),k=(0,b.eh)(),L=Boolean(i),{title:C,subtitle:U,leadingIcon:P,titleHighlight:M}=((0,f.A)(),t??{}),R="DisplayBold4XSmall",O=L&&i||R,B=(0,y.vm)({...m.z.carousel_header_title_clickable_flag,defaultValue:!1}),H=(0,l.useMemo)((()=>t?.callToAction&&B&&(0,g.o)(t?.callToAction,D)),[t?.callToAction,D,B]);let z;if("icon"===P?.type)z=P?.icon;const K=Boolean(z);if((0,l.useEffect)((()=>{z?.icon===I.j.UBER_ONE&&k("eats:membership_leading_icon_impression",{...(0,x.CE)(Y.K$.MEMBERSHIP_HOME_FEED_CAROUSEL,{},Y.rm.HOME_FEED,Y.QQ.UPSELL_EXCLUSIVE_FOMO)})}),[k,z]),!t)return E;return(0,A.FD)(F,{children:[(0,A.FD)(T,{$isLeadingIconEnabled:K,children:[K?(0,v.sW)(z):null,M?.text&&"PROMOTION"===M?.type?(0,A.FD)(S,{$font:O,children:[(0,A.Y)(w,{size:16,$margin:4}),M.text," "]}):null,!C||a&&C.actionUrl?null:H?(0,A.Y)(n.N_,{to:H,children:(0,A.Y)(o.A,{tag:"span",badge:C,baseFont:O,removeServerDrivenColor:L,removeServerDrivenFont:L})}):(0,A.Y)(o.A,{tag:"span",badge:C,baseFont:O,removeServerDrivenColor:L,removeServerDrivenFont:L}),C&&a&&C.actionUrl?(0,A.Y)(u.Ay,{id:"carousel-eu-disclaimer",children:e=>{let{isHovering:t}=e;return(0,A.FD)(A.FK,{children:[(0,A.Y)(o.A,{badge:C,baseFont:O}),r?(0,A.Y)(_,{$isVisible:t,children:(0,A.Y)(p.Q,{bottomSheet:r})}):null]})}}):null]}),U?U.actionUrl?(0,A.Y)($,{to:(0,s.tU8)(D,U.actionUrl),onClick:e=>e.stopPropagation(),children:(0,A.Y)(o.A,{badge:U,baseFont:"ParagraphSmall",baseColor:"contentSecondary"})}):(0,A.Y)(o.A,{badge:U,baseFont:"ParagraphSmall",baseColor:"contentSecondary"}):null]})}},95320:(e,t,i)=>{i.d(t,{g:()=>l});const l="42aa139a-fc35-40e1-a91f-63f982f8690a"}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-78403-e02dcc318e2d16fe.js.map