"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[36375],{17751:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(79193),r=i(90417);const n=e=>{let{ref:t,scrollDelay:i,scrollIntoViewOptions:n={behavior:"smooth",block:"start"}}=e;return{scrollIntoView:(0,r.useCallback)((()=>{let e;const r=t?.current;if(r){if(o.A&&r){const t=r.getBoundingClientRect().top,l=o.A.innerHeight;t>=0&&t<=l||(i?e=setTimeout((()=>{r.scrollIntoView(n)}),i):r.scrollIntoView(n))}return()=>clearTimeout(e)}}),[t,i,n])}}},18876:(e,t,i)=>{i.d(t,{M:()=>s});var o=i(53518),r=i(41967),n=i(40014);const l=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:t.sizing.scale300,marginTop:t.sizing.scale200}})),s=e=>{let{tags:t}=e;return t?(0,n.Y)(l,{children:t.map(((e,t)=>(0,n.Y)(o.A,{tag:e},`tag-${t}`)))}):null}},21059:(e,t,i)=>{i.d(t,{A:()=>Ae});var o=i(90417),r=i(4914),n=i(91156),l=i(29328),s=i("__fusion__95b4ba69e5"),a=i(41967),d=i(2693),c=i(60331),u=i(43316),h=i(18876),p=i(40014);const m="48px",g=m,b=(0,a.I4)("div",(e=>{let{$theme:t,$selected:i,$width:o,$imagePosition:r}=e;return{height:"120px",boxSizing:"border-box",display:"grid",gridTemplateColumns:"left"===r?"auto 1fr":"1fr auto",columnGap:t.sizing.scale600,...o?{minWidth:`${o}`}:{},...o?{maxWidth:`${o}`}:{},justifyContent:"flex-start",alignItems:"center",padding:i?"16px":"17px",border:`${i?"3px":"2px"} solid ${i?t.colors.borderSelected:t.colors.borderOpaque}`,borderRadius:"8px",cursor:"pointer",overflow:"hidden"}})),y=(0,a.I4)(u.A,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:m,width:g,objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:m}})),f=(0,a.I4)("div",{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"}),x=(0,a.I4)("div",{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",overflow:"hidden"}),S=(0,a.I4)("div",(e=>{let{$couldHaveTwolines:t=!1}=e;return{flex:"1 1 165px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t?{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}:{}}})),w=(0,a.I4)("div",{flex:"0 0 auto",whiteSpace:"nowrap"}),v=o.forwardRef(((e,t)=>{let{storeWithProducts:i,selected:o,width:r,onClick:n,showPrice:l=!0}=e;const{storeUuid:s,leadingImageUrl:a,leadingTitle:u,trailingTitle:m,leadingLabel1:g,trailingLabel1:v,leadingLabel2:Y,tags:$}=i,C=0===$?.length,_=m?"left":"right";return(0,p.FD)(b,{ref:t,$selected:o,$width:r,$imagePosition:_,onClick:()=>n(s||""),"data-testid":"canonical-item-compact-store-selector-option",children:["left"===_?(0,p.Y)(y,{src:a||""}):null,(0,p.FD)(f,{children:[(0,p.FD)(x,{children:[l||o?(0,p.Y)(S,{$couldHaveTwolines:C,children:(0,p.Y)(c.Ay,{text:u,whiteSpace:C?"normal":"nowrap"})}):null,m&&(l||o)?(0,p.FD)(p.FK,{children:[(0,p.Y)(d.VX,{}),(0,p.Y)(w,{children:(0,p.Y)(c.Ay,{text:m})})]}):null]}),(0,p.FD)(x,{children:[g?(0,p.Y)(S,{$couldHaveTwolines:C,children:(0,p.Y)(c.Ay,{text:g,whiteSpace:C?"normal":"nowrap"})}):null,v?(0,p.FD)(p.FK,{children:[(0,p.Y)(d.VX,{}),(0,p.Y)(w,{children:(0,p.Y)(c.Ay,{text:v})})]}):null]}),(0,p.Y)(x,{children:Y?(0,p.Y)(S,{children:(0,p.Y)(c.Ay,{text:Y})}):null}),$?(0,p.Y)(x,{children:(0,p.Y)(h.M,{tags:$})}):null]}),"right"===_?(0,p.Y)(y,{src:a||""}):null]})}));v.displayName="CanonicalItemCompactStoreSelectorOption";const Y=v;var $=i("__fusion__dab8eb177d"),C=i(31725),_=i(52480),I=i(58963),A=i(60082),k=i(93720),D=i(12424),F=i("__fusion__55bcab8f00"),P=i(65714),z=i(73569),L=i(39182);const R=e=>{let{shouldShowControllers:t=null,handlePageChange:i,isNextPageDisabled:o,isPreviousPageDisabled:r}=e;const n=s.useCallback(((e,i)=>((e,t,i,o,r)=>{const n="left"===e&&t||"right"===e&&i;return{position:"absolute",[e]:r.sizing.scale400,top:r.sizing.scale1000,backgroundColor:r.colors.backgroundPrimary,boxShadow:r.shadows.floatingButton,zIndex:L.IQ.cover,opacity:o?n?0:1:0,...null===o||n?{}:{animationDuration:"0.3s",animationTimingFunction:"ease-in-out",animationName:{"0%":{opacity:o?0:1},"100%":{opacity:o?1:0}}}}})(e,r,o,t,i)),[o,r,t]);return(0,p.FD)(p.FK,{children:[(0,p.Y)(P.$n,{kind:P.Nd.tertiary,shape:z.IW.circle,size:z.SK.compact,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return n("right",t)}}},onClick:()=>i("forward"),children:(0,p.Y)($.default,{})}),(0,p.Y)(P.$n,{kind:P.Nd.tertiary,shape:z.IW.circle,size:z.SK.compact,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return n("left",t)}}},onClick:()=>i("back"),children:(0,p.Y)(F.default,{})})]})};var U=i(86457),B=i(89831),T=i(57078),W=i(39332);const M=(0,a.I4)("div",(()=>({display:"flex",flexDirection:"column"})));(0,a.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary,whiteSpace:"pre-wrap"}})).displayName="StoreCountHeading";const O=(0,a.I4)("div",(e=>{let{$theme:t,$hasScrollControllers:i=!1}=e;return{display:"flex",flexDirection:"row",alignItems:"center",gap:"8px",overflowX:"auto",WebkitOverflowScrolling:"touch",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...i&&{paddingLeft:t.sizing.scale800}}})),E=(0,a.I4)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,textDecoration:"none",textAlign:"center",cursor:"pointer",whiteSpace:"nowrap",display:"flex",flexDirection:"column",alignItems:"center",minWidth:t.sizing.scale2400,aspectRatio:"1:1"}}));E.displayName="ShowMore";const N=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),H=(0,a.I4)("span",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale500}})),q=(0,a.I4)("div",{position:"relative"}),j=e=>{let{defaultSelectedStoreUuid:t,storesWithProducts:i=[],isMobile:r,onSelectStore:l,onExpandList:a,expandListLabel:d,title:u,showHeader:h=!0,tooltip:m,isInCart:g=!1,showPrice:b=!0}=e;const y=(0,n.Ay)(),[f,x]=s.useState(null),{containerRef:S,getPageProps:w,isPreviousPageDisabled:v,isNextPageDisabled:F,handlePageChange:P}=(0,U.A)({scrollOffset:-228}),z=(0,B.wA)(),L=i.findIndex((e=>e.storeUuid===t));(0,o.useEffect)((()=>{S?.current&&(S.current.scrollLeft=-228*-L)}),[S,L]);const j=(0,C.A)("enable_canonical_pdp_split_cart_tooltip");(0,o.useEffect)((()=>{m&&j&&y("eats:split_cart_nudge_prompt_shown")}),[m,j,y]);const Q=(0,W.A)(x,200);return 0===i.length?null:(0,p.FD)(M,{onMouseEnter:()=>{i.length>1&&Q(!0)},onMouseLeave:()=>{Q(!1)},children:[h?(0,p.Y)(N,{children:(0,p.Y)(c.Ay,{text:u})}):null,j&&m?(0,p.Y)(_.l,{kind:I.Nd.info,overrides:{Root:{style:e=>{let{$theme:t}=e;return{marginLeft:0,marginRight:0,backgroundColor:t.colors.backgroundSecondary}}}},children:(0,p.Y)(c.Ay,{text:m})}):null,(0,p.Y)(A.A,{isMobile:r,placement:r?k.El.topLeft:k.El.left,shouldShowTooltip:!g,children:(0,p.FD)(q,{children:[r?null:(0,p.Y)(R,{shouldShowControllers:f,handlePageChange:P,isPreviousPageDisabled:v,isNextPageDisabled:F}),(0,p.FD)(O,{ref:S,$hasScrollControllers:!r,children:[i.map(((e,o)=>(0,p.Y)("div",{onClick:()=>{z((0,T.Sc)(S.current?.scrollLeft||0)),l(e,o)},...w(o,i.length),children:(0,p.Y)(Y,{storeWithProducts:e,selected:e.storeUuid===t,onClick:D.A,width:1===i.length?"100%":"280px",showPrice:b})},e.storeUuid))),a?(0,p.Y)(p.FK,{children:(0,p.FD)(E,{onClick:a,role:"button",children:[(0,p.Y)($.default,{}),(0,p.Y)(H,{children:d})]})}):null]})]})})]})};j.displayName="CanonicalItemHorizontalStoreSelector";const Q=j;var K=i(44580),V=i(17751),X=i(73385),G=i(57866),J=i(86471);const Z=(0,a.I4)("div",{display:"flex",flexDirection:"column"});(0,a.I4)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,textDecoration:"none",textAlign:"center",cursor:"pointer"}})).displayName="ShowMore";const ee=e=>{let{defaultSelectedStoreUuid:t,storesWithProducts:i=[],isMobile:r,onSelectStore:l,onExpandList:a,expandListLabel:d,title:u,showHeader:h=!0,tooltip:m,showPrice:g=!0}=e;const b=s.useRef(null),y=s.useRef(null),{scrollIntoView:f}=(0,V.A)({ref:b,scrollDelay:0,scrollIntoViewOptions:{behavior:"smooth",block:"center",inline:"center"}}),x=(0,n.Ay)(),{shouldShowTooltip:S}=(0,X.A)(),w=(0,C.A)("enable_canonical_pdp_split_cart_tooltip");return(0,o.useEffect)((()=>{m&&w&&x("eats:split_cart_nudge_prompt_shown")}),[m,w,x]),s.useEffect((()=>{y.current!==b.current&&(f(),y.current=b.current)}),[f]),0===i.length?null:(0,p.FD)(Z,{"data-testid":J.E.productDetailsStoreSelectorModalDialog,children:[h?(0,p.Y)(c.Ay,{text:u}):null,(0,p.Y)(K.Ay,{$height:8}),w&&m?(0,p.Y)(_.l,{kind:I.Nd.info,overrides:{Root:{style:e=>{let{$theme:t}=e;return{marginLeft:0,marginRight:0,backgroundColor:t.colors.backgroundSecondary}}}},children:(0,p.Y)(c.Ay,{text:m})}):null,i.map(((e,i)=>(0,p.FD)("div",{onClick:()=>l(e,i),children:[0===i?null:(0,p.Y)(K.Ay,{$height:8}),(0,p.Y)(G.A,{condition:0===i&&S,wrapper:t=>(0,p.Y)(A.A,{placement:k.El.left,isMobile:r,children:t},`store-${e.storeUuid}`),children:(0,p.Y)(Y,{storeWithProducts:e,selected:e.storeUuid===t,onClick:D.A,ref:e.storeUuid===t?b:void 0,showPrice:g})},i)]},`store-${e.storeUuid}`))),a?(0,p.FD)(p.FK,{children:[(0,p.Y)(K.Ay,{$height:6}),(0,p.Y)(P.$n,{kind:P.Nd.monochromatic,onClick:a,children:d})]}):(0,p.Y)(K.Ay,{$height:4})]})};ee.displayName="CanonicalItemCompactStoreSelector";const te=ee;var ie=i(66764),oe=i(59782),re=i(1335),ne=i(89846),le=i(49720),se=i(23429),ae=i(46252),de=i(12615);const ce=e=>{let{storesWithProducts:t=[],defaultSelectedStoreUuid:i,onSelectStore:r,onExpandList:l,expandListLabel:s,onClose:a,title:d,showPrice:u=!0}=e;const[h,m]=o.useState(null);null===h&&i&&m(i);const g=o.useCallback((e=>{e.storeUuid&&m(e.storeUuid)}),[]),b=(0,n.Ay)(),y=(0,de.A)(),f=o.useCallback((()=>{const e=t.findIndex((e=>e.storeUuid===h)),i=t[e];i&&r(i,e),b("eats:canonical_product_details_merchant_selector_done_selection_click",{storeUuid:h??void 0,hasAddress:Boolean(y)}),a()}),[y,b,a,r,h,t]);return(0,p.FD)(oe.aF,{onClose:a,children:[(0,p.Y)(re.rQ,{isExpanded:!0,leftButton:(0,p.Y)(ne.J,{onClick:a}),title:(0,p.Y)(c.Ay,{text:d})}),(0,p.Y)(le.c,{$removeMarginTop:!0,children:(0,p.Y)(te,{isMobile:!1,storesWithProducts:t,maxStoresInitiallyDisplayed:t.length,defaultSelectedStoreUuid:h,showHeader:!1,onSelectStore:g,onExpandList:l,expandListLabel:s,title:d,showPrice:u})}),(0,p.Y)(se.j,{children:(0,p.Y)(ae.j,{onClick:f,children:(0,p.Y)(ie.H,{id:"shared.done"})})})]})};var ue=i(80452),he=i(31300);const pe=(0,a._F)(ue.dY,(e=>{let{$theme:t}=e;return{background:"white",padding:t.sizing.scale600,position:"sticky",top:0}})),me=(0,a.I4)("footer",(e=>{let{$theme:t}=e;return{background:"white",padding:t.sizing.scale600,position:"sticky",bottom:0,boxShadow:t.lighting.deepBelow}})),ge=e=>{let{storesWithProducts:t=[],defaultSelectedStoreUuid:i,onSelectStore:r,onExpandList:l,expandListLabel:s,onClose:a,title:d,showPrice:u=!0}=e;const[h,m]=o.useState(null);null===h&&i&&m(i);const g=o.useCallback((e=>{e.storeUuid&&m(e.storeUuid)}),[]),b=(0,n.Ay)(),y=(0,de.A)(),f=o.useCallback((()=>{const e=t.findIndex((e=>e.storeUuid===h)),i=t[e];i&&r(i,e),b("eats:canonical_product_details_merchant_selector_done_selection_click",{storeUuid:h??void 0,hasAddress:Boolean(y)}),a()}),[a,r,h,b,t,y]);return(0,p.FD)(ue.Xn,{onClose:a,children:[(0,p.Y)(pe,{children:(0,p.Y)(c.Ay,{text:d})}),(0,p.Y)(ue.qo,{children:(0,p.Y)(te,{isMobile:!0,storesWithProducts:t,maxStoresInitiallyDisplayed:t.length,defaultSelectedStoreUuid:h,onExpandList:l,expandListLabel:s,onSelectStore:g,showHeader:!1,title:d,showPrice:u})}),(0,p.Y)(me,{children:(0,p.Y)(he.A,{onClick:f,children:(0,p.Y)(ie.H,{id:"shared.done"})})})]})};var be=i(95981);const ye=(0,a.I4)(u.A,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:"40px",width:"40px",objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"40px;"}})),fe=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",gap:t.sizing.scale600,height:t.sizing.scale1200,justifyContent:"space-between",cursor:"pointer"}})),xe=(0,a.I4)("div",(e=>{let{$theme:t}=e;return{width:"100%",display:"flex",flexDirection:"column",gap:t.sizing.scale100,overflow:"hidden",...t.typography.LabelMedium}})),Se=(0,a.I4)("p",(e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.ParagraphSmall}})),we=(0,a.I4)("p",(e=>{let{$theme:t}=e;return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t.typography.LabelMedium}})),ve=(0,a.I4)("div",{display:"flex"}),Ye=(0,a.I4)(be.A,(e=>{let{$theme:t}=e;return{color:t.colors.contentStateDisabled}})),$e=e=>{let{selectedStore:t,onOpenPopup:i,hiddenStores:o}=e;const n=(0,r.c)(),l=`${o&&o>1?n("canonical_item.store_selector.compare_at_x_store",{count:o}):n("canonical_item.store_selector.compare_at_1_store")}`;return(0,p.FD)(fe,{onClick:i,"data-testid":J.E.productDetailsStoreSelectorDropdownButton,children:[(0,p.Y)(ye,{src:t.leadingImageUrl||"","data-testid":J.E.productDetailsStoreSelectorDropdownStoreLogo}),(0,p.FD)(xe,{children:[(0,p.Y)(we,{"data-testid":J.E.productDetailsStoreSelectorDropdownTitle,children:t.merchantName}),(0,p.Y)(Se,{children:o&&o>0?l:null})]}),(0,p.Y)(ve,{children:(0,p.Y)(Ye,{size:24})})]})};var Ce=i(81464);const _e=[],Ie=(e,t,i)=>{const o=e.findIndex((e=>e.storeUuid===t)),r=o>=0?e[o]:null;return o<i||!r?e.slice(0,i):[r,...e].slice(0,i)},Ae=e=>{let{expansionMode:t="show_more",displayType:i="vertical",title:s,...a}=e;const{storesWithProducts:d=_e,maxStoresInitiallyDisplayed:c=3,showMoreIncrement:u=6,isMobile:h,productUuid:m,onSelectStore:g,tooltip:b,defaultSelectedStoreUuid:y,isInCart:f=!1}=a,x=(0,n.Ay)(),S=(0,r.c)(),{canonicalItemStoreUuid:w,setCanonicalItemStoreUuid:v,menuItem:Y}=(0,l.Wr)(),[$,_]=o.useState(c),I=d.length-$,A=Math.min(I,u),k=o.useRef(0),[D,F]=o.useState(!1),P="show_more"===t?S("show_x_more",{count:A}):S("canonical_item.store_selector.see_all"),z=o.useMemo((()=>Ie(d,w,$)),[w,$,d]),[L,R]=o.useState(z);z!==L&&R(z);const U=d.length===L.length,B=o.useCallback((e=>{const t=Ie(d,e.storeUuid,$);R(t)}),[d,$]),T=o.useCallback(((e,t)=>{v(e.storeUuid),x("eats:merchant_selected_in_product_page",{productDetails:{canonicalPDP:{canonicalProductUuid:String(m||""),selectedMerchant:e,selectedMerchantIndex:t}}})}),[x,m,v]),W=o.useCallback(((e,t)=>{T(e,t),B(e)}),[T,B]),M=o.useCallback((()=>{const e=$+A,{title:t,uuid:i}=Y?.data||{};k.current=k.current+1,_(e),x("eats:product_details_merchant_selector_see_more_clicked",{productDetails:{itemName:t,itemUuid:i,canonicalPDP:{numberOfMerchantsVisible:e,totalNumberOfMerchants:d.length,totalNumberOfClicks:k.current}}})}),[x,$,Y?.data,A,d.length]),O=(0,de.A)(),E=o.useCallback((()=>{const e=a.storesWithProducts?.map((e=>e.storeUuid))?.filter(Boolean);x("eats:canonical_product_details_merchant_selector_expanded_click",{storeUuids:e,hasAddress:Boolean(O)}),F(!0)}),[a.storesWithProducts,O,x]),N=o.useCallback((()=>F(!1)),[]),H="show_more"===t?M:E,q=o.useMemo((()=>d.find((e=>e.storeUuid===w))??d[0]),[w,d]),j="horizontal"===i?Q:te,K=h?ge:ce,V=!(0,C.A)("canonical_pdp_show_prices_on_merchant_selector")||f,X=(0,Ce.A)({eventName:"eats:canonical_product_details_merchant_selector_impression",eventPayload:{storeUuid:q?.storeUuid??void 0,hasAddress:Boolean(O)}});return(0,p.FD)("span",{ref:X,children:["dropdown"===i?q?(0,p.Y)($e,{selectedStore:q,hiddenStores:I,onOpenPopup:E}):null:(0,p.Y)(j,{...a,defaultSelectedStoreUuid:f?y:w,storesWithProducts:L,onSelectStore:g??T,onExpandList:U?null:H,expandListLabel:U?null:P,title:s,tooltip:b,isInCart:f,showPrice:V}),D?(0,p.Y)(K,{...a,defaultSelectedStoreUuid:f?y:w,onSelectStore:g??W,onClose:N,title:s,showPrice:V}):null]})}},37556:(e,t,i)=>{i.d(t,{G:()=>Y,I:()=>v});var o=i(91443),r=i(41967),n=i(65714),l=i(73569),s=i(66764),a=i(61052),d=i(40014);const c=(0,r.I4)("div",{height:"100vh",position:"relative"}),u=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale300} ${t.sizing.scale600} ${t.sizing.scale600} ${t.sizing.scale600}`,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),h=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale800} ${t.sizing.scale600}`,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),p=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",gap:t.sizing.scale300,overflow:"hidden"}})),m=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{border:`3px solid ${t.colors.borderOpaque}`,padding:t.sizing.scale600,borderRadius:t.borders.radius400,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),g=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),b=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{border:`3px solid ${t.colors.borderOpaque}`,padding:`${t.sizing.scale600} ${t.sizing.scale700}`,borderRadius:t.borders.radius400,display:"flex",gap:t.sizing.scale600,alignItems:"center"}})),y=(0,r.I4)("div",(e=>{let{$theme:t,$isSticky:i=!0}=e;return{boxShadow:i?t.shadows.floatingButton:"none",position:i?"absolute":"inherit",bottom:0,width:"100%"}})),f=(0,r.I4)("div",{display:"flex",flexDirection:"column",gap:"2px"}),x=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale500} ${t.sizing.scale600}`}})),S=()=>(0,d.FD)(m,{children:[(0,d.Y)(o.A,{height:"20px",width:"124px",animation:!0}),(0,d.Y)(o.A,{height:"20px",width:"124px",animation:!0})]}),w=()=>(0,d.FD)(b,{children:[(0,d.FD)(f,{children:[(0,d.Y)(o.A,{height:"20px",width:"72px",animation:!0}),(0,d.Y)(o.A,{height:"20px",width:"184px",animation:!0}),(0,d.Y)(o.A,{height:"20px",width:"167px",animation:!0}),(0,d.Y)(o.A,{height:"20px",width:"55px",animation:!0})]}),(0,d.Y)(o.A,{width:a.JN,height:a.oC,overrides:{Root:{style:{borderRadius:"50%"}}}})]}),v=e=>{let{showHeader:t=!1}=e;return(0,d.FD)(g,{children:[t?(0,d.Y)(o.A,{height:"28px",animation:!0}):null,(0,d.FD)(p,{children:[(0,d.Y)(w,{}),(0,d.Y)(w,{})]})]})},Y=()=>(0,d.FD)(c,{children:[(0,d.Y)(o.A,{height:"211px"}),(0,d.FD)(u,{children:[(0,d.Y)(o.A,{height:"24px",animation:!0}),(0,d.Y)(o.A,{height:"24px",width:"174px",animation:!0}),(0,d.Y)(o.A,{height:"24px",width:"58px",animation:!0})]}),(0,d.FD)(h,{children:[(0,d.Y)(o.A,{height:"28px",animation:!0}),(0,d.FD)(p,{children:[(0,d.Y)(S,{}),(0,d.Y)(S,{}),(0,d.Y)(S,{})]})]}),(0,d.Y)(x,{children:(0,d.Y)(v,{showHeader:!0})}),(0,d.Y)(y,{$isSticky:!1,children:(0,d.Y)(n.$n,{size:l.SK.large,disabled:!0,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{margin:t.sizing.scale600,width:"calc(100% - 32px)"}}}},children:(0,d.Y)(s.H,{id:"shared.add_to_cart"})})})]})},50366:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(87731),r=i(77692);const n=e=>{const t=(0,o.A)();return(0,r.vv)(t,e.currencyCode,e.value,e.options)}},60082:(e,t,i)=>{i.d(t,{A:()=>m});var o=i(90417),r=i(54960),n=i(41967),l=i(2693),s=i(76614),a=i(66764),d=i(73385),c=i(40014);const u=(0,n.I4)("div",{flexDirection:"column",maxWidth:"328px",fontSize:"14px",fontWeight:"500",lineHeight:"16px"}),h=(0,n.I4)("div",{display:"flex",flexDirection:"column",justifyContent:"center"}),p=e=>{let{children:t,isMobile:i,placement:n,shouldShowTooltip:p=!0}=e;const{shouldShowTooltip:m}=(0,d.A)(),[g,b]=(0,o.useState)(p);(0,o.useEffect)((()=>{p&&b(m)}),[p,m]);const y=()=>{b(!1)};return(0,c.Y)(r.A,{isOpen:g,placement:n,returnFocus:!1,autoFocus:!1,onClickOutside:y,ignoreBoundary:!0,overrides:{Body:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInversePrimary,outline:"none",borderTopLeftRadius:t.borders.radius300,borderTopRightRadius:t.borders.radius300,borderBottomRightRadius:t.borders.radius300,borderBottomLeftRadius:t.borders.radius300,maxWidth:i?"270px":"392px"}}},Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInversePrimary}}},Inner:{style:e=>{let{$theme:t}=e;return{outline:"none",backgroundColor:t.colors.backgroundInversePrimary,color:t.colors.contentInversePrimary,borderTopLeftRadius:t.borders.radius300,borderTopRightRadius:t.borders.radius300,borderBottomRightRadius:t.borders.radius300,borderBottomLeftRadius:t.borders.radius300,display:"flex",flexDirection:"row",paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600}}}},showArrow:!0,content:()=>(0,c.FD)(c.FK,{children:[(0,c.Y)(u,{children:(0,c.Y)(a.H,{id:"storeSelector.tooltipText"})}),(0,c.Y)(l.Ay,{$width:"12px"}),(0,c.Y)(h,{children:(0,c.Y)(s.A,{onClick:y,iconSize:"15px"})})]}),children:t})};p.displayName="CanonicalItemStoreSelectorTooltip";const m=p},61052:(e,t,i)=>{i.d(t,{Ay:()=>x,JN:()=>c,oC:()=>u});var o=i(90417),r=i(2693),n=i(60331),l=i(43316),s=i(41967),a=i(18876),d=i(40014);const c="48px",u=c,h=(0,s.I4)("div",(e=>{let{$theme:t,$selected:i}=e;return{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"16px",border:`3px solid ${i?t.colors.borderSelected:"transparent"}`,borderRadius:"8px",cursor:"pointer"}})),p=(0,s.I4)(l.A,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:c,width:u,objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:c}})),m=(0,s.I4)("div",{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center"}),g=(0,s.I4)("div",{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),b=(0,s.I4)("div",{flex:"1 1 auto",textOverflow:"ellipsis",whiteSpace:"nowrap"}),y=(0,s.I4)("div",{flex:"0 0 auto",whiteSpace:"nowrap"}),f=(e,t)=>{const{storeWithProducts:i,selected:o,onClick:l}=e,{storeUuid:s,leadingImageUrl:c,leadingTitle:u,trailingTitle:f,leadingLabel1:x,leadingLabel2:S,leadingLabel3:w,trailingLabel1:v,tags:Y}=i;return(0,d.FD)(h,{$selected:o,onClick:()=>l(s||""),ref:t,"data-testid":"canonical-item-store-selector-option",children:[(0,d.Y)(p,{src:c||""}),(0,d.Y)(r.Wp,{}),(0,d.FD)(m,{children:[(0,d.FD)(g,{children:[(0,d.Y)(b,{children:(0,d.Y)(n.Ay,{text:u})}),f?(0,d.FD)(d.FK,{children:[(0,d.Y)(r.VX,{}),(0,d.Y)(y,{children:(0,d.Y)(n.Ay,{text:f})})]}):null]}),(0,d.FD)(g,{children:[x?(0,d.Y)(b,{children:(0,d.Y)(n.Ay,{text:x})}):null,v?(0,d.FD)(d.FK,{children:[(0,d.Y)(r.VX,{}),(0,d.Y)(y,{children:(0,d.Y)(n.Ay,{text:v})})]}):null]}),(0,d.Y)(g,{children:S?(0,d.Y)(b,{children:(0,d.Y)(n.Ay,{text:S})}):null}),(0,d.Y)(g,{children:w?(0,d.Y)(b,{children:(0,d.Y)(n.Ay,{text:w})}):null}),Y?(0,d.Y)(g,{children:(0,d.Y)(a.M,{tags:Y})}):null]})]})};f.displayName="CanonicalItemStoreSelectorOption";const x=o.forwardRef(f)},73385:(e,t,i)=>{i.d(t,{A:()=>s});var o=i(90417),r=i(21499),n=i(41046),l=i(31725);const s=()=>{const e=(0,l.A)("canonical_product_store_selector_v2_enabled")?"uev2.store-selector-tooltip-v2":"uev2.store-selector-tooltip",[t,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const t=(0,r.bu)(e),o=(0,n.A)(t)||t.show;i(o),o&&setTimeout((()=>{(0,r.Vv)(e,{show:!1})}),300)}),[e]),{shouldShowTooltip:t}}},78103:(e,t,i)=>{i.d(t,{A:()=>R});var o=i("__fusion__95b4ba69e5"),r=i(90417),n=i(4914),l=i(41967),s=i(11873),a=i(24530),d=i(47916),c=i(7139),u=i(31725),h=i(17503),p=i(14337),m=i(35508),g=i(78275),b=i(26938),y=i(65926),f=i(91156),x=i(40014);const S=e=>`${e}px`,w="100ms",v=36,Y=S(v),$=(e,t)=>!e||!t||t<v?v:t+8,C=(e,t)=>-(60-$(e,t)/2),_=(0,l.I4)("div",(e=>{let{$theme:t,disabled:i,$isSecondary:o,$isClosed:r,$hasQuantity:n,$quantityWidth:l}=e;return{position:"relative",width:S(r?$(n,l):120),height:S(36),transition:`width ${w} linear`,borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",background:t.colors.buttonPrimaryFill,color:t.colors.buttonPrimaryText,cursor:"auto",...o&&{background:t.colors.buttonSecondaryFill,color:t.colors.buttonSecondaryText},...i&&{...(0,a.A)(t)}}})),I=(0,l.I4)("div",(e=>{let{$isClosed:t,$hasQuantity:i,$quantityWidth:o}=e;return{position:"absolute",right:i&&t?S(C(i,o)):0,transition:`right ${w} linear`,width:S(120),display:"flex",justifyContent:"space-between",alignItems:"center"}})),A=(0,l.I4)("button",(e=>{let{$theme:t,$isSecondary:i,$isClosed:o,$hasQuantity:r,$quantityWidth:n}=e;return{...(0,s.A)({$theme:t,radius:"pillButtonBorderRadius"}),width:Y,minWidth:Y,height:Y,minHeight:Y,padding:0,display:"flex",justifyContent:"center",alignItems:"center",background:"transparent","@media (hover: hover)":{":hover":{background:i?t.colors.buttonSecondaryHover:t.colors.contentTertiary}},":active":{background:i?t.colors.buttonSecondaryHover:t.colors.contentTertiary},":disabled":{color:t.colors.contentStateDisabled,fill:t.colors.disabled,background:"transparent"},...o&&{width:S($(r,n)),minWidth:S($(r,n)),height:S(v),minHeight:S(v),margin:0,...Boolean(n)&&{padding:"0 4px"}}}})),k=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{position:"absolute",left:"50%",transform:"translateX(-50%)",...t.typography.LabelLarge,display:"flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",textAlign:"center"}})),D=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textWrap:"nowrap"}})),F=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:S(88),backgroundColor:t.colors.backgroundSecondary,borderRadius:t.sizing.scale700}})),P=e=>(0,x.Y)(y.A,{kind:"secondary",size:"compact",shape:"circle",onClick:e.onClick,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundSecondary,":hover":{backgroundColor:t.colors.backgroundSecondary}}}}},...e,children:e.children}),z=e=>{const t=(0,n.c)();return(0,x.Y)(P,{disabled:e.isDisabled||e.getQuantityLimit()!==d.o.BELOW_LIMIT,onClick:e.onPlus,"aria-label":t("shared.increment"),"data-testid":"item-stepper-inc",children:(0,x.Y)(b.A,{name:"PlusSmallFilled",size:20})})},L=e=>{let{type:t="primary",isClosable:i=!1,isDisabled:l=!1,item:s,storeUuid:a,quantity:y,updateQuantity:S,isRemovable:w=!0,overrideQuantityConstraints:v,overridingMeasurementType:Y,analyticsLabel:$}=e;const{isCartDrafting:C}=(0,g.A)(),L=m.R9.from(y),R=(0,d.A)({item:s,storeUuid:a,cartQuantity:L.toInt(),overrideQuantityConstraints:v}),U=(0,n.c)(),B="secondary"===t,T="primary"===t,W=(0,u.A)("price_items_by_weight")&&(0,c.dN)(s,Y),M=(0,c.ES)(s,v),O=W&&M.minimumQuantity||1,E=m.R9.from(y).lte(O),N=(0,f.Ay)(),H=o.useRef(!1),q=(0,r.useMemo)((()=>W?`${L.toFloat()} ${(0,c.$v)(s)||""}`:L.toFloat()),[L,W,s]);(0,r.useEffect)((()=>{H.current&&N("eats:item_quantity_update",{quantity:L.toFloat(),analyticsLabel:$}),H.current=!1}),[$,L,N]);const[j,Q]=(0,r.useState)(!1),K=i&&!j,V=(0,r.useCallback)((()=>{S(p.n_.decrement),H.current=!0,i&&E&&Q(!1)}),[i,E,S]),X=(0,r.useCallback)((()=>{i&&Q(!0)}),[i]),G=(0,r.useCallback)((()=>{S(p.n_.increment),H.current=!0}),[S]),[J,Z]=(0,r.useState)(0),ee=(0,r.useRef)(null);(0,r.useEffect)((()=>{q&&ee.current?.clientWidth&&Z(ee.current.clientWidth)}),[q]);const te=(0,r.useRef)(null);(0,h.A)(te,(()=>{Q(!1)}),i&&j);const ie=l||(w?L.isLt(O):L.isLte(O));return C&&T&&!y?(0,x.Y)(z,{isDisabled:l,getQuantityLimit:R,onPlus:G}):C&&B||C&&T&&Boolean(y)?(0,x.FD)(F,{children:[(0,x.Y)(P,{disabled:l,onClick:V,"aria-label":U("shared.decrement"),"data-test":"item-stepper-dec",children:L.isGt(O)||!w?(0,x.Y)(b.A,{name:"MinusSmallFilled",size:20}):E?(0,x.Y)(b.A,{name:"TrashCanOutlined",size:16}):null}),(0,x.Y)(D,{ref:ee,"data-testid":"item-stepper-quantity",children:q}),(0,x.Y)(z,{isDisabled:l,getQuantityLimit:R,onPlus:G})]}):(0,x.Y)(_,{ref:te,disabled:l,$isSecondary:B,$isClosed:K,$hasQuantity:Boolean(y),$quantityWidth:J,"data-test":"item-stepper",children:(0,x.FD)(I,{$isClosed:K,$hasQuantity:Boolean(y),$quantityWidth:J,children:[(0,x.Y)(A,{disabled:ie,$isSecondary:B,$isClosed:K,onClick:V,"aria-label":U("shared.decrement"),"data-test":"item-stepper-dec",children:L.isGt(O)||!w?(0,x.Y)(b.A,{name:"MinusSmallFilled",size:20}):E?(0,x.Y)(b.A,{name:"TrashCanFilled",size:16}):null}),(0,x.Y)(A,{disabled:l||R()!==d.o.BELOW_LIMIT,$isSecondary:B,$isClosed:K,onClick:G,"aria-label":U("shared.increment"),"data-test":"item-stepper-inc",children:(0,x.Y)(b.A,{name:"PlusSmallFilled",size:20})}),(0,x.Y)(k,{"data-testid":"item-stepper-quantity",children:K&&y?(0,x.Y)(A,{disabled:l,$isSecondary:B,$isClosed:K,$hasQuantity:Boolean(y),$quantityWidth:J,onClick:X,children:(0,x.Y)("div",{ref:ee,children:q})}):(0,x.Y)("div",{ref:ee,children:q})})]})})},R=o.memo(L)},86500:(e,t,i)=>{i.d(t,{A:()=>m});var o=i(90417),r=i(49728),n=i(43069),l=i(63688),s=i(76905),a=i(2330);const d=(0,s.I4)("div",(e=>({...(0,a.vt)({$positive:!1,...e,$hasIconTrailing:!1}),width:e.$resize?"fit-content":"100%"})));d.displayName="StyledTextAreaRoot";const c=(0,s.I4)("div",(e=>(0,a.EO)({$positive:!1,...e})));c.displayName="StyledTextareaContainer";const u=(0,s.I4)("textarea",(e=>({...(0,a.n)(e),resize:e.$resize||"none"})));u.displayName="StyledTextarea";var h=i(40014);class p extends o.Component{static defaultProps={autoFocus:!1,disabled:!1,readOnly:!1,error:!1,name:"",onBlur:()=>{},onChange:()=>{},onKeyDown:()=>{},onKeyPress:()=>{},onKeyUp:()=>{},onFocus:()=>{},overrides:{},placeholder:"",required:!1,rows:3,size:n.SK.default};state={isFocused:this.props.autoFocus||!1};onFocus=e=>{this.setState({isFocused:!0}),this.props.onFocus(e)};onBlur=e=>{this.setState({isFocused:!1}),this.props.onBlur(e)};render(){const{overrides:e={}}=this.props,[t,i]=(0,r._O)(e.Root,d),o=(0,r.Qp)({Input:{component:u},InputContainer:{component:c}},e);return(0,h.Y)(t,{"data-baseweb":"textarea",$isFocused:this.state.isFocused,$isReadOnly:this.props.readOnly,$disabled:this.props.disabled,$error:this.props.error,$positive:this.props.positive,$required:this.props.required,$resize:this.props.resize,...i,children:(0,h.Y)(l.A,{...this.props,type:n.GT.textarea,overrides:o,onFocus:this.onFocus,onBlur:this.onBlur,resize:this.props.resize})})}}const m=p}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-36375-10fb2ef592c7e5c5.js.map