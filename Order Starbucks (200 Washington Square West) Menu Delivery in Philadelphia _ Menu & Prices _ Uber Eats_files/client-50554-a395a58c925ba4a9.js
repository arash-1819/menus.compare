(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[50554],{1335:(e,t,i)=>{"use strict";i.d(t,{$q:()=>E,Jd:()=>p,S3:()=>A,Up:()=>_,Zl:()=>d,fV:()=>s,rQ:()=>g});var r=i(90417),n=i(41967),o=i(65416),a=i(39769),l=i(40014);const s={floatingOnceScrolled:"floatingOnceScrolled",floating:"floating",static:"static"},d=(0,n.I4)("div",(e=>{let{$floatingMode:t}=e;return t===s.floatingOnceScrolled||t===s.floating?{position:"sticky",top:0,zIndex:1}:{position:"relative"}})),c=(0,n.I4)("div",{position:"absolute",width:"100%"}),u=(0,n.I4)("div",(e=>{let{$isExpanded:t,$showHeaderShadowOnExpanded:i,$theme:r}=e;return{position:"absolute",top:0,bottom:0,width:"100%",display:"flex",alignItems:"center",backgroundColor:r.colors.backgroundPrimary,boxShadow:t&&i?r.shadows.divider:void 0,transition:"transform 300ms ease, opacity 300ms ease",transform:t?"scale(1, 1)":"scale(1, 0)",transformOrigin:"top",opacity:t?1:0}})),_=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"grid",gridTemplateColumns:"1fr auto 1fr",alignItems:"center",justifyContent:"space-between",width:"100%",paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300,paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale300,boxSizing:"border-box"}})),E=(0,n.I4)("div",(e=>{let{$isExpanded:t,$theme:i}=e;return{...i.typography.LabelLarge,flex:1,textAlign:"center",marginLeft:i.sizing.scale200,marginRight:i.sizing.scale200,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",transition:"transform 300ms ease, opacity 300ms ease",transform:t?"translateY(0)":`translateY(-${i.sizing.scale100})`,opacity:t?1:0}})),I=E,m=(0,n.I4)("div",{display:"grid",gridTemplateAreas:"\n  'title'\n  'subtitle'"}),p=(0,n.I4)("div",{justifySelf:"left"}),h=(0,n.I4)("div",{justifySelf:"right"}),A=e=>{let{canExpand:t=!0,isExpanded:i,showHeaderShadowOnExpanded:r=!0,children:n,title:o,subtitle:a,leftButton:s,rightButton:d}=e;const c=!!t&&Boolean(i);return(0,l.FD)(l.FK,{children:[t?(0,l.Y)(u,{$isExpanded:i,$showHeaderShadowOnExpanded:r}):null,(0,l.Y)(_,{children:n||(0,l.FD)(l.FK,{children:[(0,l.Y)(p,{children:s}),(0,l.FD)(m,{children:[(0,l.Y)(E,{$isExpanded:c,children:o}),(0,l.Y)(I,{$isExpanded:c,children:a})]}),(0,l.Y)(h,{children:d})]})})]})};function g(e){const{canExpand:t=!0,showHeaderShadowOnExpanded:i=!0,hideHeaderOnEmbeddedApp:n=!0,floatingMode:u="floatingOnceScrolled",children:_,title:E,subtitle:I}=e,{isModalTitleHidden:m}=(0,a.k)();let p;p=void 0!==e.isExpanded?e.isExpanded:m;const h=u===s.floating?c:r.Fragment,g=(0,o.d4)((e=>{let{embeddedFeatures:t}=e;return t}));return n&&g.xlbHeaderBridge?null:(0,l.Y)(d,{$floatingMode:u,children:(0,l.Y)(h,{children:(0,l.Y)(A,{canExpand:t,isExpanded:p,showHeaderShadowOnExpanded:i,title:E,subtitle:I,leftButton:e.leftButton,rightButton:e.rightButton,children:_})})})}},3113:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var r=i(39431),n=i(66764),o=i(41967),a=i(43316),l=i(40014);const s=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",padding:`${t.sizing.scale1400} ${t.sizing.scale600} ${t.sizing.scale1600}`,alignItems:"center",maxWidth:"624px",margin:"0 auto"}})),d=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{width:"226px",paddingBottom:t.sizing.scale1400,transition:"transform 50ms ease-in-out"}})),c=(0,o.I4)(a.A,{width:"100%",height:"100%"}),u=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,textAlign:"center",paddingBottom:t.sizing.scale300}})),_=e=>{let{userQuery:t}=e;return(0,l.FD)(s,{children:[(0,l.Y)(d,{children:(0,l.Y)(c,{src:(0,r.uq)(i(88626))})}),(0,l.Y)(u,{children:(0,l.Y)(n.H,{id:"component.feedEmptyState.search.title",data:{userQuery:t}})})]})}},4442:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>r});const r=i(9628).z0},5862:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,V:()=>s});var r=i(79193),n=i(90417);const o=i(28837).Y6.test(r.A?.navigator.userAgent||""),a=()=>!o&&r.A?.IntersectionObserver,l={above:"above",below:"below",either:"either"};function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{detectionMode:t=l.above}=e,i=n.useRef(null),[o,s]=n.useState(!1);return{sentinelHidden:o,sentinelRef:e=>{if(a())if(e){if(i.current&&i.current.disconnect(),!r.A)return;i.current=new r.A.IntersectionObserver((e=>{let[i]=e;t===l.above?s(!i.isIntersecting&&i.boundingClientRect.top<0):t===l.below?s(!i.isIntersecting&&i.boundingClientRect.top>0):s(!i.isIntersecting)}),{threshold:[1]}),i.current&&i.current.observe(e)}else i.current&&i.current.disconnect()}}}},6453:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var r=i(41967),n=i(43316),o=i(39431),a=i(40014);const l=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",position:"relative",height:"auto",maxWidth:t.sizing.scale4800,cursor:"pointer"}})),s=(0,r.I4)("h2",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.primary600}})),d=(0,r.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),c=(0,r.I4)(n.A,{objectFit:"contain"}),u=(0,r.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),_=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{position:"relative",borderRadius:t.borders.radius400,overflow:"hidden"}})),E=(0,o.uq)(i(50510)),I=e=>{let{item:t,onProductSelect:i}=e;const[,n]=(0,r.c6)(),o=t.imageURL||E;return(0,a.Y)(a.FK,{children:(0,a.FD)(l,{onClick:i,children:[(0,a.FD)(_,{children:[(0,a.Y)(c,{src:o,loading:"lazy",height:"148px",width:n.sizing.scale4800}),(0,a.Y)(u,{})]}),(0,a.Y)(d,{children:t.formattedPrice}),(0,a.Y)(s,{children:t.title})]})})}},14713:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r=i(41967),n=i(43316),o=i(39431),a=i(40014);const l=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",flexBasis:"50%",position:"relative",height:"auto",boxSizing:"border-box",cursor:"pointer",padding:t.sizing.scale300}})),s=(0,r.I4)("h2",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.primary600}})),d=(0,r.I4)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),c=(0,r.I4)(n.A,{objectFit:"contain"}),u=(0,r.I4)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),_=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{position:"relative",borderRadius:t.borders.radius400,overflow:"hidden",display:"flex",justifyContent:"center"}})),E=(0,o.uq)(i(50510)),I="148px",m=e=>{let{item:t,onProductSelect:i}=e;if(!t)return null;const r=t.imageURL||E;return(0,a.FD)(l,{onClick:i,children:[(0,a.FD)(_,{children:[(0,a.Y)(c,{src:r,loading:"lazy",height:I,width:I}),(0,a.Y)(u,{})]}),(0,a.Y)(d,{children:t.formattedPrice}),(0,a.Y)(s,{children:t.title})]})}},16144:(e,t,i)=>{"use strict";i.d(t,{KE:()=>ot,zN:()=>Qe,Ay:()=>It});var r=i(90417),n=i("__fusion__95b4ba69e5"),o=i(66764),a=i(40304),l=i(41967),s=i(41707),d=i(86879),c=i(32879),u=i(61073),_=i(75674),E=i(4008),I=i(6198),m=i(41908),p=i(40014);const h=()=>{const{serverCart:e}=(0,m.B_)(),t=(0,c.q5)("fareBreakdown"),i=(0,I.Ay)(void 0,!e.data?.isOwner),[,r]=(0,l.c6)();return i?(0,p.Y)(u.A,{source:t,loaded:e=>{const t=e.charges?.find((e=>"Promotion"===e.title?.text));return t?(0,p.Y)(E.N9,{charges:[t]}):null},error:()=>null,loading:()=>(0,p.Y)(_.bu,{$width:r.sizing.scale1000})}):null};var A=i(18789),g=i(4914),D=i(60331);const O=e=>{let{subtotal:t,isLoading:i}=e;const r=(0,A.A)(),{serverCart:n}=(0,m.B_)(),o=(0,I.Ay)(void 0,!n.data?.isOwner),a=(0,g.c)();return i?(0,p.Y)(_.bu,{$width:"40px"}):o&&t?r&&t.formattedSubtotalAmount?(0,p.Y)("span",{"aria-label":a("shared.subtotal"),children:(0,p.Y)(D.Ay,{text:t.formattedSubtotalAmount})}):(0,p.Y)("span",{"aria-label":a("shared.subtotal"),children:t.subtotal?.formattedValue}):null};var T=i(15459),R=i(43316),C=i(11413),f=i(8700),U=i(17649),S=i(78275),y=i(57716),b=i(76022),L=i(69338),N=i(14657),v=i(74225),Y=i(24727),M=i(12741);var F=i(84183),P=i(25816),B=i(87731),x=i(77692),w=i(4442),k=i(253),H=i(47120);const V=e=>{const{serverCart:t,isBundledOrder:i}=(0,m.tC)(),{uuid:r="",cityId:n=0,eatsPassExclusionBadge:o,location:a}=e||{},{hasActiveUberOne:l}=(0,F.A)(),s=(0,P.A)((0,c.q5)("subtotal")),d=(0,c.q5)("cartItems"),u=(0,P.A)(d),_=Number(s?.subtotal?.value?.amountE5)||0,E=(0,B.A)(),I=!(0,k.A)(r),p=(0,g.c)(),h=(0,w.Ay)(),{isBillSplitOrder:A,isDraftOrderParticipant:D}=(0,U.A)(),O=Object.values(u?.itemCharges||{}).some((e=>e.discountedAmount&&e?.originalAmount!==e?.discountedAmount)),T=Boolean(I&&(!h||"UNAVAILABLE_ITEMS"!==h?.type)&&_>0&&l&&o&&!O&&(!D||A)&&!i),R=function(e,t){const i=(0,M.A)("getUberOneMbsV1"),r=(0,Y.n)("getUberOneMbsV1",e);return(0,v.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return i.request("getUberOneMbsV1",t[1])},...t?.queryObserverOptions})}({storeCityId:n,storeCountryCode:a?.country.toLowerCase()||"us"},{queryObserverOptions:{enabled:Boolean(T&&n)}}),C=R?.data,f=C&&_<C?(C-_)/C*100:0,S=C?(C-_)/1e3:0,y=(0,H.A)({storeId:r,originalCurrencyCode:t.data?.currencyCode||"USD"});return{isTreated:Boolean(T&&C),belowMBSPercent:f,belowMBSMessage:C&&f>0?p("shared.cart.uberone.mbs.pending",{amount:(0,x.vv)(E,y,S)}):""}};var $=i(62461),G=i(77977),z=i(28391),K=i(66433),W=i(53985),q=i(91156),j=i(49386);const Q=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{height:"100%",width:"100%",background:t.colors.backgroundPrimary}})),X=(0,z.l)({chunkId:"store-desktop-catalog-section",load:()=>Object.defineProperties(Promise.all([i.e(93847),i.e(13894),i.e(57468),i.e(40920),i.e(51483),i.e(22697),i.e(95645),i.e(20601),i.e(31534),i.e(47881),i.e(15188),i.e(54764)]).then(i.bind(i,"__fusion__a9d2278a1f")),{__CHUNK_IDS:{value:[13894,15188,20601,22697,31534,40920,47881,51483,54764,57468,93847,95645]},__MODULE_ID:{value:"__fusion__a9d2278a1f"},__I18N_KEYS:{value:["bandwagon.one_minute_left","bandwagon.x_minutes_left","billboard.heading","billboard.subheading","billboard.verticalFeeds.grocery.header","billboard.verticalFeeds.grocery.subHeader","billboard.verticalFeeds.header","billboard.verticalFeeds.subHeader","carousel.see_all","carousel.view_all","catalog_item.quick_view","cheaperalternatives.modal.header","components.BadgeSoldOut.message","components.genericError.title","components.store_address_input.login_button","eaterMessage.storefront.headline.v2","euDisclaimer.Body","euDisclaimer.HeaderTitle","euDisclaimer.clickHereText","euDisclaimer.dismissText","favorite_add","favorite_added","favorite_remove","favorite_removed","item.fulfillment_state.found","item.fulfillment_state.in_review","item.fulfillment_state.refunded","item.fulfillment_state.replaced","live_order.item.found","live_order.item.in_review","live_order.item.refunded","live_order.item.replaced","online_ordering.logo.alt_text","pdp.miniCatalogSubsection.viewAll","postmates.components.heading","postmates.components.subhead","quick_add","see_all_stores","shared.decrement","shared.enterDeliveryAddress","shared.increment","shared.itemsCount","shared.next","shared.notAvailable.dateAndTimeRange","shared.previous","shared.search","store.bundle_store.pill_tooltip_cancel_group_order","store.bundle_store.pill_tooltip_group_order","store.bundle_store.pill_tooltip_schedule_order","store.bundle_store.pill_tooltip_switch_delivery_time","store.bundle_store.pill_tooltip_switch_to_delivery","view_more_options"]}}),LoadingComponent:W.A,ErrorComponent:Q}),Z=(0,z.l)({chunkId:"store-mobile-catalog-section",load:()=>Object.defineProperties(Promise.all([i.e(93847),i.e(13894),i.e(57468),i.e(40920),i.e(11704),i.e(51483),i.e(22697),i.e(38714),i.e(95645),i.e(93693),i.e(64133),i.e(74519)]).then(i.bind(i,"__fusion__dcd06a546e")),{__CHUNK_IDS:{value:[11704,13894,22697,38714,40920,51483,57468,64133,74519,93693,93847,95645]},__MODULE_ID:{value:"__fusion__dcd06a546e"},__I18N_KEYS:{value:["bandwagon.one_minute_left","bandwagon.x_minutes_left","carousel.see_all","carousel.view_all","catalog_item.quick_view","cheaperalternatives.modal.header","components.BadgeSoldOut.message","components.genericError.title","components.store_address_input.login_button","euDisclaimer.Body","euDisclaimer.HeaderTitle","euDisclaimer.clickHereText","euDisclaimer.dismissText","favorite_add","favorite_added","favorite_remove","favorite_removed","item.fulfillment_state.found","item.fulfillment_state.in_review","item.fulfillment_state.refunded","item.fulfillment_state.replaced","live_order.item.found","live_order.item.in_review","live_order.item.refunded","live_order.item.replaced","online_ordering.logo.alt_text","pdp.miniCatalogSubsection.viewAll","quick_add","see_all_stores","shared.apply","shared.decrement","shared.enterDeliveryAddress","shared.increment","shared.itemsCount","shared.next","shared.notAvailable.dateAndTimeRange","shared.previous","shared.reset","shared.search","store.bundle_store.pill_tooltip_cancel_group_order","store.bundle_store.pill_tooltip_group_order","store.bundle_store.pill_tooltip_schedule_order","store.bundle_store.pill_tooltip_switch_delivery_time","store.bundle_store.pill_tooltip_switch_to_delivery","view_more_options"]}}),LoadingComponent:W.A,ErrorComponent:Q});function J(e){return e?3:1}function ee(e,t){return e?t?96:120:112}const te=(0,j.jU)("store-shared-upsell-catalog-section",(e=>{let{store:t,upsellCatalogSectionsPayload:i,isGrocery:r,primaryBundledStoreUUID:o,primaryDraftOrderUUID:a,surface:l,redirectToQuickViewModal:s,overrideColumnsPerRow:d}=e;const c=(0,q.Ay)(),{isMobile:u}=(0,K.k)(),_=i.catalogSections||[],E=n.useCallback((e=>{c("eats:store_upsell_catalog_section_impression",{storeUuid:e.storeUuid,source:e.source,catalogItems:e.items})}),[c]),I=n.useCallback((e=>{c("eats:store_upsell_catalog_section_scrolled",{storeUuid:e.storeUuid,source:e.source,catalogItems:e.items})}),[c]),m={surface:l,columnsPerRow:d??J(r),imageDimensions:{height:ee(r,u),aspectRatio:1},isSharedDesign:!0,hideQuickAdd:!1,hasLazyloadOverflowContainer:!0,analyticsConfig:{onCatalogSectionImpression:E,onCarouselScroll:I},redirectToQuickViewModal:Boolean(s)};return(0,p.Y)("div",{children:u?(0,p.Y)(Z,{store:t,catalogSections:_,isGrocery:r,primaryBundledStoreUuid:o,primaryDraftOrderUUID:a,catalogConfig:m}):(0,p.Y)(X,{store:t,catalogSections:_,isGrocery:r,primaryBundledStoreUuid:o,primaryDraftOrderUUID:a,catalogConfig:m})})}));var ie=i(74141),re=i(48050),ne=i(76366),oe=i(49684),ae=i(31725);const le=function(e,t){t=t??[];const i=(0,ae.A)("alcohol_scheduling_mixed_cart"),{isBundledOrder:r,isGroupOrder:n,isEditOrder:o}=(0,m.tC)(),a=t.length>0&&t.every((e=>t=>t.draftOrderUUID===e)(e));return Boolean(i&&!r&&!n&&!o&&a)};var se=i(68853),de=i(66371),ce=i(85951),ue=i(50685),_e=i(16845),Ee=i(23977),Ie=i(59939),me=i(43386),pe=i(85906),he=i(25068),Ae=i(57674),ge=i(62380),De=i(20796),Oe=i(54038);const Te=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`0 ${t.sizing.scale600}`}})),Re=e=>{let{section:t}=e;const{isMobile:i}=(0,K.k)(),r=(0,Oe.A)(),o=(0,q.Ay)(),[a,l]=n.useState(null),{isLiveOrder:s,liveOrderUuid:d}=(0,Ee.G)(),{liveOrderStoreUuid:c}=(0,Ae.A)(),u=(0,pe.u)({getCartFrom:"workflowId",workflowId:d}),_="SYNCING"===u.status,E="AVAILABLE"===u.status?u?.actions:null;if(!s||!t)return null;const I=t?.metadata?.header?.title,m={text:I,type:"text"},h=t?.items;if(!h||0===h?.length)return null;const A=(e,t,i,n,a)=>{const s=t?.cursory?.descriptor?.itemId?.cartId?.workflowId?.workflowUuid||"",d=t?.cursory?.descriptor?.itemId?.cartId?.cartUuid||"",u=t?.cursory?.descriptor?.itemId?.itemID?.catalogItemUUID||"",_=t?.cursory?.descriptor?.itemId?.shoppingCartItemUuid||"",I={cartUuid:d,isSpecialItemRequest:(0,me.I)(t),itemUuid:u,storeUuid:c,workflowUuid:s,shoppingCartItemUuid:_};let m;if("CART_ITEM_ACTION_TYPE_REQUEST_MODIFICATIONS"===e?.type&&!e?.requestModifications)return l(_??null),void o("eats:replacements_order_summary_more_options_tapped",I);if(e&&t){let t=null;if(e?.approveModifications?(t=e?.approveModifications?.proposalIDToApprove,o(i?"eats:replacements_item_details_approve_tapped":"eats:replacements_order_summary_approve_tapped",I),m="ITEM_FULFILLMENT_EVENT_TYPE_APPROVED_ITEM_MODIFICATIONS_PROPOSAL",o("eats:replacements_cart_item_fulfillment",{...I,itemFulfillmentEventType:m})):e?.requestRefund&&(t=e?.requestRefund?.proposalIDToReject,m="ITEM_FULFILLMENT_EVENT_TYPE_TERMINATED_ITEM_MODIFICATIONS_NEGOTIATION",o("eats:replacements_cart_item_fulfillment",{...I,itemFulfillmentEventType:m})),!_&&!e?.type)return;"CART_ITEM_ACTION_TYPE_REQUEST_MODIFICATIONS"===e?.type&&n&&a&&c?E?.processItemFeedback({item:{shoppingCartItemUuid:_,proposalUuid:t?.proposalUUID||"",type:e.type,substituteItem:n,quantity:a,storeUuid:c}}).catch((()=>{r()})):"CART_ITEM_ACTION_TYPE_APPROVE_MODIFICATIONS"!==e?.type&&"CART_ITEM_ACTION_TYPE_REQUEST_REFUND"!==e?.type||E?.processItemFeedback({item:{shoppingCartItemUuid:_,proposalUuid:t?.proposalUUID||"",type:e.type}}).catch((()=>{r()})),l(null)}};return(0,p.FD)("section",{children:[(0,p.FD)(Te,{children:[(0,p.Y)(D.Uh,{element:m}),h?.map(((e,i)=>(0,p.Y)("div",{children:(0,p.Y)(_e.A,{isLoading:_,item:e,sharedData:t?.sharedData,handleActionButtons:A,setSelectedShoppingCartItemUuid:l})},i))),a&&h?i?(0,p.Y)(Ie.A,{items:h,shoppingCartItemUuid:a,onClose:()=>l(null),handleActionButtons:A,storeUuid:c}):(0,p.Y)(he.A,{items:h,shoppingCartItemUuid:a,onClose:()=>l(null),handleActionButtons:A,storeUuid:c}):null]}),(0,p.Y)(ge.T,{$size:De.S.module})]})},Ce=n.memo(Re),fe=(0,l.I4)("div",{display:"flex",flexDirection:"column"}),Ue=e=>{let{cartPageHeader:t}=e;const{isLiveOrder:i}=(0,Ee.G)();if(!i||!t)return null;const r=t?.title,n=t?.subtitle;return(0,p.FD)(fe,{children:[r?(0,p.Y)(D.Ay,{text:r}):null,n?(0,p.Y)(D.Ay,{text:n}):null]})};var Se=i(77888),ye=i(40761),be=i("__fusion__b2194975ff"),Le=i(39027);const Ne=(0,l.I4)("div",{display:"flex",flexDirection:"column"}),ve=e=>{let{promotion:t}=e;const{isLiveOrder:i}=(0,Ee.G)();if(!i||!t)return null;const{disclaimer:r,title:n,subtitle:o}=t;return(0,p.Y)("div",{children:(0,p.Y)(Se.A,{artwork:()=>(0,p.Y)(be.default,{size:20}),children:(0,p.Y)(ye.A,{children:(0,p.FD)(Ne,{children:[n?(0,p.Y)(Le.w_,{as:"span",children:n}):null,o?(0,p.Y)(Le._I,{as:"span",color:"positive",children:o}):null,r?(0,p.Y)(D.Ay,{text:r}):null]})})})})};var Ye=i(55018);const Me=e=>{if(!e?.actionMetadata||"openItemLevelPromotionMetadata"!==e.actionMetadata.type)return null;const t=e.actionMetadata.openItemLevelPromotionMetadata;if(!t?.itemLevelPromotion||"multiSKUFlatPromotion"!==t.itemLevelPromotion.type)return null;const i=t.itemLevelPromotion.multiSKUFlatPromotion,r=i.itemPromotionTag,n="ACTIVE"===r?.state?"CONTENT_POSITIVE":"CONTENT_TERTIARY",o=i.modalHeader;if(!o||!o.headerSecondary)return null;return{bannerViewModel:{actionButton:{actionButtonLayout:"TRAILING",hierarchy:"SECONDARY",illustration:{illustration:{type:"icon",icon:{icon:"CHEVRON_RIGHT_SMALL",color:"CONTENT_TERTIARY",size:"SPACING_UNIT_3X"}}}},customArtwork:{illustration:{illustration:{type:"icon",icon:{icon:r?.leadingIcon||"UNKNOWN",color:n,size:"SPACING_UNIT_3X"}}}},message:o?.headerSecondary,headline:o?.headerPrimary,hierarchy:"LOW",bannerColor:{backgroundColor:"BACKGROUND_PRIMARY",type:"backgroundColor"}},collectionUuid:i.collectionUuid||"",promotionUuid:i.promotionUuid||""}};var Fe=i(8474),Pe=i(86105),Be=i(43583);const xe=e=>{let{itemGroup:t,isItemLevelPromotion:i,isSingleOrderWithCartItemsGroups:r,quantitySelectType:n,isLiveOrder:o,isLiveOrderCartLoading:a}=e;const l=(0,Pe.zy)(),s=t.fullCartItemsGroup?.storeUUID||"",{catalogSectionType:d,catalogSectionUuid:c}=(0,Be.e)({collectionUuid:t?.collectionUuid??"",promotionUuid:t?.promotionUuid??""}),u=(0,Fe.Zyy)(l,"multiSkuPromotion",{storeUuid:s,catalogSectionUuid:c,catalogSectionType:d,...t.promotionUuid&&{promotionUUID:t.promotionUuid}});return t.actionableBanner?(0,p.FD)(p.FK,{children:[i?(0,p.Y)("div",{children:(0,p.Y)(y.N_,{to:u,children:(0,p.Y)(Ye.A,{viewModel:t.actionableBanner??{},overrides:{messageContent:{paddingBlockEnd:"0px",paddingBlockStart:"0px"},leadingContent:{paddingInlineStart:"0px"}},noMargin:!0,noPadding:!0})})}):null,(0,p.Y)(ot,{isSingleOrderWithCartItemsGroups:r,quantitySelectType:n,cartItems:t?.cartItems??void 0,cartItemsGroup:i?void 0:t?.fullCartItemsGroup,isLiveOrder:o,hideAllSeparators:!i}),i?(0,p.Y)(Qe,{$isCartDrafting:!0}):null]}):(0,p.Y)(ot,{isLiveOrderCartLoading:a,isSingleOrderWithCartItemsGroups:r,quantitySelectType:n,cartItems:t?.cartItems??void 0,isLiveOrder:o,isPromotionGroup:!1})};var we=i(1139),ke=i(69909),He=i(8330);const Ve=(0,l.I4)("div",(e=>{let{$theme:t,$bgColor:i}=e;return{backgroundColor:i||"#FBE5B6",color:t.colors.contentPrimary,marginTop:t.sizing.scale300,marginRight:`-${t.sizing.scale800}`,marginLeft:`-${t.sizing.scale800}`,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}})),$e=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"flex",alignItems:"center"}})),Ge=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale600} ${t.sizing.scale300} ${t.sizing.scale300} ${t.sizing.scale100}`}})),ze=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`0 ${t.sizing.scale300}`}})),Ke=()=>{const e=(()=>{const{isEnabled:e}=(0,He.Q1)(),t=(0,ke.A)("membership_hero_banner_content");return t&&t.isActive&&e?{iconSrc:t.content?.iconSrc,textToken:t.content?.textToken,bgColor:t.content?.bgColor}:null})(),t=(0,g.c)(),i=(0,q.Ay)();return(0,r.useEffect)((()=>{e&&i("eats:membership_preview_checkout_banner_impression")}),[e,i]),e?(0,p.Y)(Ve,{$bgColor:e.bgColor,children:(0,p.FD)($e,{children:[e.iconSrc?(0,p.Y)(Ge,{children:(0,p.Y)(R.A,{src:e.iconSrc,alt:t("loyalty.form.membership.info.title")})}):null,(0,p.Y)(ze,{children:t("sign_in_to_enjoy_delivery_fee")})]})}):null},We=()=>{const{currentUserItemCount:e}=(0,U.A)();return 1===e?(0,p.Y)(o.H,{id:"shared.numCartItemsSingular",data:{numCartItems:e}}):(0,p.Y)(o.H,{id:"shared.numCartItems",data:{numCartItems:e}})},qe=e=>e?.catalogSections?e?.catalogSections?.reduce(((e,t)=>"standardItemsPayload"===t.payload?.type&&t.payload?.standardItemsPayload?.catalogItems?.length?e+t.payload.standardItemsPayload.catalogItems.length:e),0):0,je=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{borderTop:`1px solid ${t.colors.borderOpaque}`}})),Qe=(0,l.I4)("div",(e=>{let{$theme:t,$isCartDrafting:i}=e;return{marginLeft:`-${t.sizing.scale600}`,marginRight:`-${t.sizing.scale600}`,...i?{minHeight:t.sizing.scale100,background:t.colors.backgroundSecondary}:{minHeight:t.sizing.scale300,background:t.colors.backgroundTertiary}}})),Xe=(0,l.I4)("div",(()=>({display:"flex",flexDirection:"row"}))),Ze=(0,l.I4)(y.N_,(e=>{let{$theme:t}=e;return{margin:`0 -${t.sizing.scale600}`,display:"flex",flexDirection:"row"}})),Je=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600}})),et=(0,l.I4)(R.A,(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600,paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,borderRadius:t.borders.radiusFull}})),tt=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:t.sizing.scale0}})),it=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,display:"flex",justifyContent:"center",alignItems:"center",color:t.colors.contentStateDisabled}})),rt=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{marginTop:`-${t.sizing.scale300}`}})),nt=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{margin:`0 ${t.sizing.scale600}`}})),ot=e=>{let{quantitySelectType:t="picker",cartItems:i,cartItemsGroup:o,isSingleOrderWithCartItemsGroups:a=!1,isLiveOrder:l,isLiveOrderCartLoading:d,isPromotionGroup:c=!1,hideAllSeparators:u=!1,shouldRenderInstructions:_=!0}=e;const{isCartDrafting:E}=(0,S.A)(),{draftOrder:I,isBundledOrder:h}=(0,m.tC)(),{restaurantLink:A,onGoToStore:g}=(0,b.A)(),{store:O}=(0,f.Ay)(I?.shoppingCart.storeUuid),R=(0,q.Ay)(),U=(h||a)&&void 0!==o,{isMobile:y}=(0,K.k)(),v=Boolean(i),{stopTiming:Y}=(0,de.zR)(),M=!(0,ke.A)("cart_request_utensils")||_;return(0,r.useEffect)((()=>{v&&Y(ce.s.CART_LOAD_COMPLETE_WITH_ITEMS,{shouldEmitTiming:!0})}),[v,Y]),(0,p.FD)(p.FK,{children:[U?(0,p.FD)(p.FK,{children:[a?(0,p.Y)(Xe,{children:(0,p.FD)(tt,{children:[(0,p.Y)(D.Ay,{text:o.title}),(0,p.Y)(D.Ay,{text:o.subtitle})]})}):(0,p.Y)("div",{children:(0,p.FD)(Ze,{to:A,onClick:e=>{A?g():(e.preventDefault(),R("eats:click_store_link",{source:"cart",label:"store_not_loaded"}))},children:[(0,p.Y)(et,{src:o.iconUrl||""}),(0,p.FD)(tt,{children:[(0,p.Y)(D.Ay,{text:o.title}),(0,p.Y)(D.Ay,{text:o.subtitle})]}),(0,p.Y)(it,{children:(0,p.Y)(C.A,{size:24})})]})}),o.actionableBanners?(0,p.Y)(Je,{children:o.actionableBanners?.map(((e,t)=>(0,p.Y)(L.A,{bannerAction:e},`saving-banner-${t}`)))}):null,(0,p.Y)(G.ro,{})]}):null,(0,p.Y)(s.A,{cmpCartItems:i,quantitySelectType:t,fulfillmentIssueOptions:O?.data?.fulfillmentIssueOptions,isCartDrafting:E,isLiveOrderCartLoading:d}),l||!h&&E?(0,p.FD)(n.Fragment,{children:[y||l?(0,p.Y)(N.A,{}):null,(0,p.Y)("div",{children:(0,p.Y)(Qe,{$isCartDrafting:!0})})]}):null,!l&&M?(0,p.Y)(T.A,{store:O,instructionsPadding:0,isRegularOrder:!0}):null,u?null:E&&h||c?(0,p.Y)("div",{children:(0,p.Y)(Qe,{$isCartDrafting:!0})}):E||l?null:o?(0,p.Y)(Qe,{}):c?(0,p.Y)(je,{}):null]})},at=(0,l.I4)("div",{display:"flex",alignItems:"center"}),lt=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,flexGrow:1}})),st=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentSecondary,paddingRight:t.sizing.scale100}})),dt=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),ct=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,display:"flex",justifyContent:"space-between"}})),ut=(0,l.I4)("div",(e=>{let{$isXlbFrictionBatch2CheckoutEnabled:t}=e;return{width:t?"unset":"100%"}})),_t=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),Et=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale500} 0`}})),It=e=>{let{quantitySelectType:t="picker"}=e;const i=(0,q.Ay)(),[l,s]=(0,r.useState)(!0),u=n.useRef(!1),{isCartDrafting:_}=(0,S.A)(),{isStorePrecheckoutBundlingEnabled:I}=(0,$.A)(),g=(0,A.A)(),{isBundledOrder:D,draftOrder:T}=(0,m.tC)(),R=T?.storeUuid,{store:C}=(0,f.Ay)(R),U=(0,Pe.zy)(),b=(0,k.A)(R||""),{belowMBSPercent:L,isTreated:N}=V(C?.data),{isLiveOrder:v,liveOrderUuid:Y}=(0,Ee.G)(),M=(0,pe.u)({getCartFrom:"workflowId",workflowId:Y}),F="SYNCING"===M.status,P="LOADING"!==M?.status?M?.rawCartData?.checkoutPresentation?.checkoutPayloads:null,B=(0,ae.A)("canonical_product_smart_cart"),x=(0,a.vm)({...re.G.eats_web_cart_display_total_promotion_enabled,defaultValue:!1}),w=(0,a.vm)({...re.G.eats_web_unified_cart_cmp_payloads_enabled,defaultValue:!1}),H=(0,a.vm)({...we.z.nudges_on_web,defaultValue:!1}),z=(0,d.t)(B,x,w),K=w?z:["cartItems","upsellCatalogSections","subtotal","subTotalFareBreakdown","cartPageHeader","fulfilledItemDetails","unFulfilledItemDetails","inReviewItemDetails","uneditableItemDetails","fareBreakdown","promotion"],{checkoutPayloads:W,cmpMaybe:{isLoading:j}}=(0,c.Ay)(K),{cartItems:Q,upsellCatalogSections:X,subtotal:Z,subTotalFareBreakdown:J,cartPageHeader:ee,fulfilledItemDetails:de,unFulfilledItemDetails:ce,inReviewItemDetails:_e,uneditableItemDetails:Ie,fareBreakdown:me,promotion:he}=(v&&P?P:W)||{},Ae=C.data?.location?.locationType,{subtotalDisclaimers:ge}=Z||{},{primaryBundledStoreUuid:De,primaryDraftOrderUUID:Oe}=(0,ie.A)(),Te=(0,ae.A)("multi_sku_promotions_enabled"),Re=(0,ae.A)("ingested_multi_sku_enabled"),fe=(0,ae.A)("cart_multi_sku_bundled_promotions_enabled"),Se=le(T?.uuid,Q?.cartItemsGroups);(0,r.useEffect)((()=>{l&&Y&&("AVAILABLE"===M?.status||"SYNCING"===M?.status)&&(M?.actions?.syncCart({workflowUUID:Y,orderUUID:Y}),s(!1))}),[l,M,Y]),(0,r.useEffect)((()=>{Boolean(Se&&Q?.cartItemsGroups?.length&&Q?.cartItemsGroups?.length>0)&&!u.current&&(i("eats:restricted_items_sectioned_cart_impression",{storeUuid:R||"",cartItemsGroupsCount:Q?.cartItemsGroups?.length??0}),u.current=!0)}),[Q?.cartItemsGroups,i,Se,R]);const ye=(0,ue.OY)(Ae),be=()=>v&&me?.charges?(0,p.Y)(nt,{children:(0,p.Y)(E.N9,{charges:me?.charges})}):J?(0,p.Y)(Et,{children:(0,p.Y)(se.A,{})}):Z||j?(0,p.FD)(ct,{children:[(0,p.FD)(ut,{$isXlbFrictionBatch2CheckoutEnabled:g,children:[ye,N&&0===L?(0,p.Y)(_t,{children:(0,p.Y)(o.H,{id:"cart.shared.savings.applied"})}):null]}),(0,p.Y)(O,{subtotal:Z,isLoading:j})]}):null,Le=(0,r.useMemo)((()=>(e=>{if(!e||!e?.cartItems)return[];const t=new Set,i=(e.actionableBanners||[]).map((i=>{const r=(e?.cartItems||[]).filter((e=>i?.actionableBannerContent?.actionableBannerContentCartItems?.some((t=>t.shoppingCartItemUUIDs?.includes(e?.shoppingCartItemUUID||"")))));r.forEach((e=>t.add(e.shoppingCartItemUUID||"")));const n=Me(i);return{actionableBanner:n?.bannerViewModel,cartItems:r,collectionUuid:n?.collectionUuid,promotionUuid:n?.promotionUuid}})),r=e.cartItems.filter((e=>!t.has(e.shoppingCartItemUUID||"")));return r.length>0&&i.push({cartItems:r}),i})(Q)),[Q]),Ne=(0,r.useMemo)((()=>Te&&fe?(e=>{if(!e?.cartItemsGroups||0===e.cartItemsGroups.length)return[];if(!e.cartItemsGroups.some((e=>e.actionableBanners?.some((e=>"openItemLevelPromotionMetadata"===e.actionMetadata?.type)))))return[];const t=[];return e.cartItemsGroups.forEach((e=>{const i=new Set;(e.actionableBanners||[]).forEach((r=>{switch(r.actionMetadata?.type){case"openItemLevelPromotionMetadata":{const n=(e?.cartItems||[]).filter((e=>r?.actionableBannerContent?.actionableBannerContentCartItems?.some((t=>t.shoppingCartItemUUIDs?.includes(e?.shoppingCartItemUUID||"")))));n.forEach((e=>i.add(e.shoppingCartItemUUID||"")));const o=Me(r);t.push({actionableBanner:o?.bannerViewModel,actionableBannerType:"openItemLevelPromotionMetadata",fullActionableBanner:r,cartItems:n,draftOrderUUID:e?.draftOrderUUID||"",collectionUuid:o?.collectionUuid,promotionUuid:o?.promotionUuid,fullCartItemsGroup:e});break}case"openBottomSheetMetadata":t.push({actionableBanner:r.bannerModel,actionableBannerType:"openBottomSheetMetadata",fullActionableBanner:r,cartItems:[],draftOrderUUID:e?.draftOrderUUID||"",fullCartItemsGroup:e})}}));const r=(e.cartItems||[]).filter((e=>!i.has(e.shoppingCartItemUUID||"")));r.length>0&&t.push({actionableBanner:null,cartItems:r,draftOrderUUID:e?.draftOrderUUID||"",fullCartItemsGroup:e})})),t})(Q):[]),[Q,Te,fe]),ke=qe(X);return(0,r.useEffect)((()=>{i("eats:cart_nudges_offers_impression",{paramValue:H,storeUuid:R||"",numberOfItems:ke})}),[i,H,R,ke]),(0,p.FD)(p.FK,{children:[(0,p.Y)(Ue,{cartPageHeader:ee}),v?null:(0,p.Y)(p.FK,{children:I&&D?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.ro,{}),Se||_||!Z&&!j?null:(0,p.FD)(p.FK,{children:[(0,p.FD)(at,{children:[(0,p.Y)(lt,{children:(0,p.Y)(We,{})}),(0,p.Y)(st,{children:(0,p.FD)(st,{children:[ye,":"]})}),(0,p.Y)(dt,{children:(0,p.Y)(O,{subtotal:Z,isLoading:j})})]}),(0,p.Y)(je,{})]})]})}),(0,p.Y)(Ce,{section:_e?.inReviewItemDetails}),(I||Se)&&Q?.cartItemsGroups?Q?.cartItemsGroups?.map((e=>(0,p.Y)(m.kd,{draftOrderUUID:e.draftOrderUUID,children:Te&&fe&&Ne.length>0&&(e.actionableBanners||[]).length>0?(0,p.Y)(p.FK,{children:Ne.map(((e,i)=>(0,p.Y)(xe,{itemGroup:e,isItemLevelPromotion:"openItemLevelPromotionMetadata"===e.actionableBannerType,isSingleOrderWithCartItemsGroups:Se,quantitySelectType:t,isLiveOrder:v,isLiveOrderCartLoading:F},i)))}):(0,p.Y)(ot,{isSingleOrderWithCartItemsGroups:Se,quantitySelectType:t,cartItems:e.cartItems??void 0,cartItemsGroup:e,isLiveOrder:v})},e.draftOrderUUID))):(0,p.FD)(p.FK,{children:[Te&&Le.length>0?(0,p.Y)(p.FK,{children:Le.map(((e,i)=>{let r=e?.collectionUuid,n=Be.N.COLLECTION;!r&&Re&&(r=e?.promotionUuid,n=Be.N.PROMOTION);const o=i===Le.length-1;return(0,p.Y)(p.FK,{children:e.actionableBanner?(0,p.FD)(p.FK,{children:[(0,p.Y)("div",{children:(0,p.Y)(y.N_,{to:(0,Fe.Zyy)(U,"multiSkuPromotion",{storeUuid:R,catalogSectionUuid:r,catalogSectionType:n,...e.promotionUuid&&{promotionUUID:e.promotionUuid}}),children:(0,p.Y)(Ye.A,{viewModel:e.actionableBanner??{},overrides:{messageContent:{paddingBlockEnd:"0px",paddingBlockStart:"0px"},leadingContent:{paddingInlineStart:"0px"}},noMargin:!0,noPadding:!0})})}),(0,p.Y)(ot,{isLiveOrderCartLoading:F,isSingleOrderWithCartItemsGroups:Se,quantitySelectType:t,cartItems:e?.cartItems??void 0,isLiveOrder:v,isPromotionGroup:!0,shouldRenderInstructions:o})]}):(0,p.Y)(ot,{isLiveOrderCartLoading:F,isSingleOrderWithCartItemsGroups:Se,quantitySelectType:t,cartItems:e?.cartItems??void 0,isLiveOrder:v,isPromotionGroup:!1,shouldRenderInstructions:o})})}))}):(0,p.Y)(p.FK,{children:(0,p.Y)(ot,{isLiveOrderCartLoading:F,isSingleOrderWithCartItemsGroups:Se,quantitySelectType:t,cartItems:Q?.cartItems??void 0,isLiveOrder:v})}),(0,p.Y)(Ce,{section:ce?.unfulfilledItemDetails}),(0,p.Y)(Ce,{section:Ie?.unEditableItemDetails}),(0,p.Y)(Ce,{section:de?.foundItemDetails}),(0,p.Y)(Ce,{section:de?.replacedItemDetails})]}),C.data&&H&&X?(0,p.FD)(p.FK,{children:[(0,p.Y)(te,{store:C.data,isGrocery:b,upsellCatalogSectionsPayload:X,primaryDraftOrderUUID:Oe,primaryBundledStoreUUID:De,surface:ne.g.CART_UPSELL,redirectToQuickViewModal:H,overrideColumnsPerRow:qe(X)>1?2:void 0}),(0,p.Y)(je,{})]}):null,(0,p.Y)(ve,{promotion:he}),(0,p.Y)(be,{}),ge?(0,p.Y)("div",{children:ge?.map(((e,t)=>(0,p.Y)(oe.A,{badge:e},t)))}):null,(0,p.Y)(Ke,{}),v||!x||J?null:(0,p.Y)("div",{children:(0,p.Y)(rt,{children:(0,p.Y)(h,{})})})]})}},18858:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var r=i("__fusion__95b4ba69e5"),n=i(47506),o=i(97452),a=i(61073),l=i(41967),s=i(42394),d=i(83241),c=i(3113),u=i(43017),_=i(14713),E=i(57489),I=i(98591),m=i(17070),p=i(33651),h=i(41857),A=i(46846),g=i(90622),D=i(35575),O=i(40014);const T=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",boxSizing:"border-box",padding:t.sizing.scale300,width:"100%"}})),R=(0,l.I4)("div",(e=>{let{$isSubstitutionPickerRedesignEnabled:t}=e;return{marginTop:"0",width:"100%",display:"flex",justifyContent:"center",...t?{overflowY:"auto",overflowX:"hidden"}:{}}})),C=(0,l.I4)("div",(e=>{let{$isSubstitutionPickerRedesignEnabled:t,$theme:i}=e;return{width:"100%",...t?{display:"grid",gridTemplateColumns:"auto auto",gap:`${i.sizing.scale600} ${i.sizing.scale800}`,padding:i.sizing.scale300}:{}}})),f=(0,l.I4)(n.A,(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600}})),U=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`0 ${t.sizing.scale600}`,marginBottom:t.sizing.scale600}})),S=e=>{let{orderUUID:t,storeUUID:i,sourceItemUUID:n,handleProductSelection:l,sourceItemSectionUUID:S,onClose:y,isSubstitutionPickerRedesignEnabled:b}=e;const[L,N]=r.useState(""),v=(0,A.t)(),Y=(0,u.F)({sourceItemSectionUUID:S,userQuery:L,sourceItemUUID:n,storeUUIDs:[i],orderUUID:t},{queryObserverOptions:{enabled:Boolean(L)}}),M=(0,s.w)({storeUUID:i,itemUUID:n,orderUUID:t}),F=b?D.A:f,P=r.useMemo((()=>Y?.catalogSections?.flatMap((e=>e.items?.map(g.j)??[]))),[Y]),B=(0,p.A)(),x=()=>{const{isLoading:e,hasResults:t,isError:i,refetch:r,error:n}=Y;return L?v&&i&&"eats.product.notFound"===n?.meta?.code?(0,O.Y)(h.A,{onClick:y}):i?(0,O.Y)(d.A,{refetch:r}):e?(0,O.Y)(C,{$isSubstitutionPickerRedesignEnabled:b,children:(0,O.Y)(F,{})}):t?b?P?.map((e=>(0,O.Y)(_.A,{item:e,onProductSelect:()=>l(e)},e.itemUUID))):(0,O.Y)(O.FK,{children:Y?.catalogSections?.map((e=>(0,O.Y)(E.A,{items:e.items,title:e.title,onProductSelect:l},e?.title?.text)))}):(0,O.Y)(c.A,{userQuery:L}):(0,O.Y)(m.A,{})};return(0,O.FD)(O.FK,{children:[(0,O.Y)(U,{children:(0,O.Y)(I.A,{setUserQuery:N})}),(0,O.Y)(R,{$isSubstitutionPickerRedesignEnabled:b,children:(0,O.Y)(T,{children:L?(0,O.Y)(x,{}):(0,O.Y)(a.n,{source:M,loaded:e=>B&&(null===e?.itemSubstitutes||0===e?.itemSubstitutes?.length)?(0,O.Y)(m.A,{}):(0,O.Y)(O.FK,{children:e?.itemSubstitutes?.map((e=>(0,O.Y)(_.A,{item:e,onProductSelect:()=>l(e)},e.itemUUID)))}),error:e=>(0,O.Y)(o.jO,{code:parseInt(e?.code||"500")}),loading:()=>(0,O.Y)(C,{$isSubstitutionPickerRedesignEnabled:b,children:(0,O.Y)(F,{})})})})})]})}},28082:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(90417),n=i(86105),o=i(97224),a=i(8474),l=i(17649);const s=()=>{const e=(0,n.zy)(),{isOnPremiseDeliveryOrder:t}=(0,o.A)(),{isDraftOrderCreator:i,isDraftOrderCartLocked:s}=(0,l.A)();return(0,r.useMemo)((()=>t?(0,a.Zyy)(e,"premiseDeliveryInfo"):i&&!s?(0,a.Zyy)(e,"lockGroupCart"):(0,a.my9)(e,{nextUrl:(0,a._em)(e)})),[s,i,t,e])}},39769:(e,t,i)=>{"use strict";i.d(t,{V:()=>n,k:()=>o});var r=i(90417);const n=(0,r.createContext)({isModalTitleHidden:!1,modalTitleRef:null});function o(){const e=(0,r.useContext)(n);if(null!==e)return e;throw Error("You should use useModalContext only within components wrapped within <Modal>")}},41746:(e,t,i)=>{"use strict";i.d(t,{b:()=>r,h:()=>n});const r=200,n=100},41857:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66764),n=i(41967),o=i(31300),a=i(40014);const l=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",padding:`${t.sizing.scale1400} ${t.sizing.scale600} ${t.sizing.scale600}`,alignItems:"center",maxWidth:"624px",margin:"0 auto"}})),s=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:t.sizing.scale300}})),d=(0,n.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,paddingBottom:t.sizing.scale800,textAlign:"center"}})),c=e=>{let{onClick:t}=e;return(0,a.FD)(l,{children:[(0,a.Y)(s,{children:(0,a.Y)(r.H,{id:"substitutes-search.error.title"})}),(0,a.Y)(d,{children:(0,a.Y)(r.H,{id:"substitutes-search.error.subtitle"})}),(0,a.Y)(o.A,{onClick:t,children:(0,a.Y)(r.H,{id:"shared.goBack"})})]})}},42394:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var r=i(74225),n=i(24727),o=i(12741);function a(e,t){const i=(0,o.A)("getItemSubstitutionsV1"),a=(0,n.n)("getItemSubstitutionsV1",e),l=(0,r.useQuery)({queryKey:a,queryFn:e=>{let{queryKey:t}=e;return i.request("getItemSubstitutionsV1",t[1])},...t?.queryObserverOptions});return l}},43017:(e,t,i)=>{"use strict";i.d(t,{F:()=>l});var r=i(74225),n=i(24727),o=i(12741),a=i(97684);function l(e,t){const i=(0,o.A)("getSearchSubstitutionsV1"),l={queryKey:(0,n.n)("getSearchSubstitutionsV1",e),queryFn:e=>{let{queryKey:t}=e;return i.request("getSearchSubstitutionsV1",t[1])}};t&&t.queryObserverOptions&&Object.assign(l,t.queryObserverOptions);const s=(0,r.useQuery)(l);let d=null,c=!1;const u=[];if(s.isSuccess&&s?.data?.catalogSectionsMap){const e=(0,a.X)(s?.data?.catalogSectionsMap);c=e.length>0,c&&(d=e.flatMap((e=>s?.data?.catalogSectionsMap?.[e])),d.forEach((e=>{const t=e.payload;"standardItemsPayload"===t.type&&u.push({items:t.standardItemsPayload?.catalogItems,title:t.standardItemsPayload?.title})})))}const _=s.error;return{isLoading:s.isLoading,isError:s.isError,catalogSections:u,hasResults:c,refetch:s.refetch,error:_}}},46252:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});var r=i(65714),n=i(73569),o=i(40014);function a(e){return(0,o.Y)(r.$n,{size:n.SK.large,isFullWidth:!0,...e})}},46536:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n,y:()=>o});var r=i(77692);function n(e){const t=e.options.find((e=>e.isSelectedTip))?.amount||0,i=e.customTipOption&&e.customTipOption.isSelectedTip?e.customTipOption.amount:0;return t||i}function o(e,t){return(0,r.vv)(t,e.currencyCode,n(e))}},46692:(e,t,i)=>{"use strict";i.d(t,{A:()=>re});var r=i(90417),n=i(50371),o=i(57716),a=i(8474),l=i(41967),s=i(89864),d=i(66764),c=i(17649),u=i(97872),_=i(39996),E=i(84183),I=i(46687),m=i(76022),p=i(41908),h=i(20697),A=i(6198),g=i(61521),D=i(74225),O=i(24727),T=i(12741);var R=i(30505),C=i(78275),f=i(38275),U=i(16924),S=i(66371),y=i(31300),b=i(91156),L=i(86105),N=i(97224),v=i(85951),Y=i(70665),M=i(4914),F=i(40304),P=i(1139);const B=()=>{const e=(0,M.c)();return e("next_button_title"===(0,F.Ab)({...P.z.eats_checkout_cart_step_button_cta_text,defaultValue:""})?"checkout.next":"shared.go_to_checkout")};var x=i(40014);const w=e=>{const t=(0,b.Ay)(),i=(0,b.xL)(),{checkoutType:r}=(0,C.A)(),{startTiming:n}=(0,S.zR)(),{restaurantLink:l,onGoToStore:s}=(0,m.A)(),{serverCart:u}=(0,p.B_)(),_=(0,A.Ay)(void 0,!u.data?.isOwner),{isDraftOrderCreator:E,hasGroupOrder:I,isBillSplitOrder:h,isEditOrder:g,mealPlanUUID:D}=(0,c.A)(),{isOnPremiseDeliveryOrder:O}=(0,N.A)(),T=(0,L.zy)(),R=B(),f="eats:checkout_button",U={checkoutType:r,isBillSplitOrder:h,isDraftOrderParticipant:!E,isGuestOrder:e.isGuestMode,isGroupOrder:I,isEditScheduledOrder:g,isApplePayAvailable:Boolean((0,Y.lU)()),...D?{mealPlanUUID:D}:null};return 0===_?(0,x.Y)(y.A,{$as:o.N_,to:l,onClick:s,children:(0,x.Y)(d.H,{id:"shared.addItems"})}):O?(0,x.Y)(y.A,{$as:o.N_,rel:"nofollow",to:e.authHref?{}:(0,a.Zyy)(T,"premiseDeliveryInfo"),href:e.authHref,onClick:async t=>{e.disabled?t.preventDefault():e.onClick(t)},disabled:e.disabled,children:R}):(0,x.Y)(y.A,{$as:o.N_,rel:"nofollow",to:e.authHref?{}:e.checkoutUrl,href:e.authHref,"data-testid":"go-to-checkout-button",onClick:async r=>{e.disabled?r.preventDefault():(e.authHref?await i(f,U):(n(v.s.CHECKOUT_LOAD_COMPLETE_EVENT_NAME),n(v.s.CHECKOUT_LOAD_COMPLETE_WITH_CMP_EVENT_NAME),n(v.s.CHECKOUT_PAGE_RENDER_EVENT_NAME),t(f,U)),e.onClick(r))},disabled:e.disabled,children:R})};var k=i(41573),H=i(65714),V=i(60707),$=i(65041),G=i(28082),z=i(53997),K=i(13399),W=i(93617),q=i(27335),j=i(78972),Q=i(41568),X=i(8700),Z=i(11135);var J=i(31725);const ee=(0,l._F)(u.A,(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale300}})),te=(0,l._F)(k.A,(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale300}}));function ie(e,t,i){if("secondary_btn"!==e&&"tertiary_btn"!==e)return null;const r="secondary_btn"===e?ee:te;return(0,x.Y)(r,{$as:o.N_,to:t,disabled:i,children:(0,x.Y)(d.H,{id:"checkout_as_guest"})})}const re=e=>{const t=(0,L.zy)(),i=(0,n.W6)(),{hideSidebarCart:l}=(0,s.lK)(),{isDraftOrderCreator:u,isDraftOrderCartLocked:S,storeUuid:y,isDraftOrderParticipant:v,isBillSplitParticipant:M,currentUserGroupedItems:F,currentUserItemCount:P,isCpaParticipant:B}=(0,c.A)(),k=(0,b.Ay)(),{user:te}=(0,E.A)(),re=(0,$.A)(y),ne=t=>{e.onNavigateToCheckout&&e.onNavigateToCheckout(t)},{restaurantLink:oe,onGoToStore:ae}=(0,m.A)({storeUuid:y}),{isCartUnderMBS:le}=(0,I.l)(),{isCartDrafting:se}=(0,C.A)(),{isEnabled:de,treatment:ce}=(0,V.A)(),{guestCheckoutEnabled:ue,emitGuestCheckoutEvent:_e,guestCheckoutInGuestModeXP:Ee}=(0,g.A)(),{selectedInstruction:Ie}=(0,r.useContext)(h.DC),{data:me,isFetching:pe,isLoading:he}=function(e,t){const i=(0,T.A)("getGuestCheckoutEligibilityV1"),r=(0,O.n)("getGuestCheckoutEligibilityV1",e);return(0,D.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return i.request("getGuestCheckoutEligibilityV1",t[1])},...t?.queryObserverOptions})}({interactionType:Ie?.interactionType},{queryObserverOptions:{enabled:Boolean(ue)}}),Ae=ue&&(pe||he),ge=me?.isEligible,De=(0,f.A)(),Oe=(0,U.A)(),{isBundledOrder:Te,draftOrder:Re}=(0,p.tC)();(0,r.useEffect)((()=>{Ae||_e(ge)}),[_e,Ae,ge]);const{updateParticipantDetailsUpdateOptions:Ce,isLoading:fe}=function(){const{draftOrder:e,draftOrderUUID:t}=(0,p.tC)(),{updateDraftOrderV2:i}=(0,j.A)(),n=(0,q.A)("getDraftOrderByUuidV2"),{notifyExternalSyncToCart:o}=(0,Q._)(),{serverCart:a}=(0,p.B_)(),{store:l}=(0,X.Ay)(a.data?.storeUuid),s=(0,Z.U)(),d=(0,b.Ay)(),[c,u]=(0,r.useState)(!1),_=(0,r.useCallback)((r=>{if(e){u(!0);const{data:e}=l;i({draftOrderUUID:t,participantDetailsUpdateOptions:r}).then((()=>(s({cartViews:!0}),n({draftOrderUUID:t})))).then((()=>{e&&t&&o({cartId:t,storeId:e.uuid})})).catch((i=>{d("eats:participant_details_update_error",{error:i,draftOrderUuid:t,storeUuid:e?.uuid})})).finally((()=>{u(!1)}))}}),[e,t,i,n,s,o,l,d]);return{updateParticipantDetailsUpdateOptions:_,isLoading:c}}(),{serverCart:Ue}=(0,p.B_)(),Se=(0,A.Ay)(void 0,!Ue.data?.isOwner),{isGroupOrder:ye,isScheduledOrder:be}=(0,R.A)(y),Le=(0,Y.lU)(),{isOnPremiseDeliveryOrder:Ne}=(0,N.A)(),ve=e.$disabled||le||Ae||fe,Ye=Boolean(ge&&ue&&!ye&&!be&&(Oe||Le&&!Ne&&(0,W.we)(Re))),Me=De&&Oe,{guestCheckoutV2Enabled:Fe}=(0,z.A)(),Pe=(0,K.N)(!0),Be=(0,J.A)("group_order_cpa_participant_status_enabled"),xe=Fe||Pe,we=(0,G.A)(),ke=e=>{if(de&&"cart_animation"===ce&&re)return e.preventDefault(),e.stopPropagation(),void l();ae()},He=()=>{i.push(oe),ae()},Ve=e=>(0,x.Y)(ee,{$as:o.N_,to:oe,onClick:ke,disabled:e??(ve||S),children:(0,x.Y)(d.H,{id:"go.participant.cpa.add_more_items"})}),$e=()=>(0,x.Y)(H.$n,{isFullWidth:!0,onClick:He,disabled:S,children:(0,x.Y)(d.H,{id:"shared.addItems"})});return te.data?.isLoggedIn||Me||xe?Be&&B?P>0?F?.confirmed?Ve():(0,x.FD)(x.FK,{children:[(0,x.Y)(H.$n,{isFullWidth:!0,disabled:ve||fe,onClick:()=>{k("eats:group_order_cpa_participant_ready_click",{draftOrderUuid:Re?.uuid,storeUuid:y}),Ce({confirmationStatus:"CONFIRMED"})},children:(0,x.Y)(d.H,{id:"go.participant.cpa.i_am_ready"})}),Ve()]}):$e():M&&F?.confirmed||v&&!M?$e():(0,x.FD)(x.FK,{children:[!v||M?(0,x.Y)(w,{isGuestMode:Ye,disabled:ve,onClick:async e=>{l(),ne(e)},checkoutUrl:we}):null,u&&S?(0,x.Y)(ee,{$as:o.N_,to:(0,a.Zyy)(t,"unlockGroupCart"),children:(0,x.Y)(d.H,{id:"go.unlock_cart"})}):Se>0&&!Te&&(!se||ye)?(e=>(0,x.Y)(ee,{$as:o.N_,to:oe,onClick:ke,disabled:e??S,children:(0,x.Y)(d.H,{id:"shared.addItems"})}))(S):null]}):(0,x.FD)(x.FK,{children:[(0,x.Y)(_.A,{type:"login",redirectTo:(0,a.my9)(t),isGuestMode:Ye,children:e=>{let{href:t,onClick:i}=e;return(0,x.Y)(w,{isGuestMode:Ye,disabled:ve,onClick:async e=>{ne(e),i(e)},authHref:t,checkoutUrl:we})}}),Ye?ie(Ee,we,ve):null]})}},46846:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});var r=i(40304),n=i(94344);const o=()=>(0,r.vm)({...n.J.enable_replacement_error_screen_not_found_item,defaultValue:!1})},47506:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(40728),n=i(40014);const o=()=>(0,n.Y)(r.In,{})},53997:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var r=i(90417),n=i(40304),o=i(66146),a=i(1139),l=i(84183),s=i(41908),d=i(70665),c=i(16924),u=i(97224),_=i(93617),E=i(13399);function I(){const{draftOrder:e}=(0,s.tC)(),t=(0,d.lU)(),i=(0,n.KU)(),{user:I,isUnregisteredUser:m}=(0,l.A)(),p=I.data?.isLoggedIn,h=!p&&m,A=(0,_.we)(e),g=(0,c.A)(),{isOnPremiseDeliveryOrder:D}=(0,u.A)(),O=(0,E.N)(),T=(0,r.useMemo)((()=>!(g||!h||!t||!A||D)&&i.getBoolean({...a.z.guest_checkout_v2,defaultValue:o.G.guest_checkout_v2.defaultValue})),[i,h,t,A,g,D]),R=(0,r.useMemo)((()=>!(!T&&!O)&&i.getBoolean({...a.z.guest_checkout_enable_tips,defaultValue:o.G.guest_checkout_enable_tips.defaultValue})),[i,T,O]);return{guestCheckoutV2Enabled:T,guestCheckoutV2TipsScreenEnabled:R}}},57278:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r=i(41967),n=i(11873),o=i(24530);const a=(0,r.I4)("button",(e=>({...(0,n.A)({$theme:e.$theme,radius:e.radius}),textAlign:"center",color:e.$theme.colors.negative,...e.disabled?(0,o.A)(e.$theme):{}})))},57489:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var r=i(41967),n=i(43316),o=i(49684),a=i(40014);const l=(0,r.I4)("div",{width:"100%"}),s=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,marginBottom:t.sizing.scale550}})),d=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",boxSizing:"border-box",cursor:"pointer",marginBottom:t.sizing.scale300}})),c=(0,r.I4)("div",{display:"flex",minWidth:0,width:"100%",flexWrap:"wrap"}),u=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexBasis:"100%"}})),_=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexBasis:"100%"}})),E=(0,r.I4)("div",(e=>{let{$theme:t}=e;return{width:"100%",minWidth:0,display:"flex",flexDirection:"column",alignItems:"start",flex:"1 1",marginRight:t.sizing.scale400}})),I=e=>{let{items:t,title:i,onProductSelect:I}=e;const[,m]=(0,r.c6)();return(0,a.FD)(l,{children:[(0,a.Y)(s,{children:i?.text}),t?.map((e=>(0,a.FD)(d,{onClick:()=>(e=>{const t={itemUUID:e.uuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,title:e.title,description:e.itemDescription,imageURL:e.imageUrl,price:e.price,formattedPrice:e.priceTagline?.text,...e};I(t)})(e),children:[(0,a.FD)(E,{children:[(0,a.Y)(c,{children:(0,a.Y)(_,{children:e.title})}),e.priceTagline?(0,a.Y)(o.A,{badge:e.priceTagline,baseFont:"ParagraphSmall"}):null,e.itemDescriptionBadge?(0,a.Y)(c,{children:(0,a.Y)(u,{children:e.itemDescription})}):null]}),e?.imageUrl?(0,a.Y)(n.A,{src:e.imageUrl,height:m.sizing.scale2400,width:m.sizing.scale2400}):null]},e.uuid)))]})}},59782:(e,t,i)=>{"use strict";i.d(t,{aF:()=>h});var r=i(90417),n=i(43712),o=i(34940),a=i(49728),l=i(5862),s=i(39769),d=i(41967),c=i(65416),u=i(38448),_=i(31725),E=i(66433),I=i(18515),m=i(40014);const p=a.Qp;function h(e){const[,t]=(0,d.c6)(),i=(0,_.A)("modal_dialog_redesign_enabled"),{isMobile:h}=(0,E.k)(),{children:A,...g}=function(e,t,i){const{overrides:r,...o}=e,l=o;let s={};return s=p(s,{Dialog:{style:{display:"flex",flexDirection:"column",alignItems:"stretch",marginTop:l.size===n.SK.full?0:"80px",marginBottom:l.size===n.SK.full?0:"80px",marginLeft:0,marginRight:0,...i?.isModalV2&&!i?.isMobile?{contain:"paint"}:{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0},backgroundColor:l.$isBackgroundTransparent?"transparent":t.colors.backgroundPrimary}},Close:{style:{display:"none"}}}),r&&(s=(0,a.Qp)(s,r)),{...l,overrides:s}}(e,t,{isModalV2:i,isMobile:h}),D=(0,c.d4)((e=>{let{embeddedFeatures:t}=e;return t})),{sentinelHidden:O,sentinelRef:T}=(0,l.V)(),R=r.useMemo((()=>({isModalTitleHidden:O,modalTitleRef:T})),[O,T]);return(0,m.Y)(s.V.Provider,{value:R,children:(0,m.Y)(o.A,{...g,children:(0,m.FD)(m.FK,{children:[D.xlbHeaderBridge?(0,m.Y)(u.A,{}):null,A,(0,m.Y)(I.A,{})]})})})}h.defaultProps={...o.A.defaultProps,isOpen:!0,autoFocus:!1}},59939:(e,t,i)=>{"use strict";i.d(t,{A:()=>te});var r=i("__fusion__95b4ba69e5"),n=i(59782),o=i(43712),a=i(23429),l=i(41967),s=i(60331),d=i(98042),c=i(9146),u=i(66764),_=i(65714),E=i(80452),I=i(39027),m=i(91156),p=i(40014);const h=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",marginTop:t.sizing.scale900}})),A=e=>{let{onClose:t,onSubmit:i,workflowUuid:n}=e;const o=(0,m.Ay)(),a=()=>{o("eats:replacements_refund_bottom_sheet_dismissed",{workflowUuid:n}),t()};return r.useEffect((()=>{o("eats:replacements_refund_bottom_sheet_impression",{workflowUuid:n})}),[o,n]),(0,p.FD)(E.Xn,{onClose:a,children:[(0,p.Y)(E.dY,{children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.refundItemTitle"})}),(0,p.FD)(E.qo,{children:[(0,p.Y)(I.oS,{children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.refundItemDescription"})}),(0,p.FD)(h,{children:[(0,p.Y)(_.$n,{onClick:()=>{o("eats:replacements_refund_bottom_sheet_refund_tapped",{workflowUuid:n}),i()},"data-testid":"refund-button",overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundNegative}}}},children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.refundItem"})}),(0,p.Y)(_.$n,{kind:_.Nd.tertiary,onClick:a,children:(0,p.Y)(u.H,{id:"shared.goBack"})})]})]})]})};var g=i(12363),D=i(43386),O=i(89846),T=i(43316),R=i(73569),C=i(31643),f=i(35508),U=i(8700),S=i(18858),y=i(46252),b=i(93081),L=i(11619),N=i(90622),v=i(11386);const Y=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0`}})),M=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600,margin:t.sizing.scale600}})),F=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),P=(0,l.I4)("div",{width:"100%",height:c.w,display:"flex",justifyContent:"center",alignItems:"center"}),B=(0,l.I4)("img",{width:"100%",height:"100%",objectFit:"contain",flexShrink:0}),x=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundTertiary,height:t.sizing.scale300}})),w=(0,l.I4)("div",{display:"flex",alignItems:"center",justifyContent:"space-between"}),k=e=>{let{originalItem:t,substituteItem:i,onClose:l,handleConfirm:s,store:d}=e;const c=t?.expanded?.auxiliarySections,{imageUrl:_,title:E,priceTagline:m,formattedPrice:h,description:A,imageURL:D}=i,{defaultQuantity:O,price:T}=(0,N.w)(i),[R,f]=r.useState(O),U=T*R,S=(0,v.A)(i);return(0,p.FD)(n.aF,{size:o.SK.full,children:[(0,p.Y)(C.Y9,{children:(0,p.Y)(C.Jn,{onClick:l})}),(0,p.FD)(Y,{children:[i?(0,p.FD)(M,{children:[_||D?(0,p.Y)(P,{children:(0,p.Y)(B,{src:_||D||""})}):null,(0,p.FD)(F,{children:[E?(0,p.Y)(I.OU,{children:E}):null,m?.text||h?(0,p.Y)(I.en,{as:"span",children:m?.text||h}):null]}),(0,p.FD)(w,{children:[(0,p.Y)(b.A,{item:i,quantity:R,updateQuantity:f}),d?.currencyCode?(0,p.Y)(L.A,{priceEstimate:U,currencyCode:d.currencyCode,isPricedByWeight:S}):null]})]}):null,(0,p.Y)(x,{}),(0,p.Y)(g.A,{auxiliarySections:c}),(0,p.Y)(x,{}),A?(0,p.FD)(M,{children:[(0,p.Y)(I.en,{as:"span",children:(0,p.Y)(u.H,{id:"shared.description"})}),(0,p.Y)(I._I,{children:A})]}):null]}),(0,p.Y)(a.j,{children:(0,p.Y)(y.j,{onClick:()=>s(R),"data-testid":"confirmReplacement",children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.confirmReplacement"})})})]})},H=r.memo(k),V=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale300} ${t.sizing.scale800}`}})),$=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginTop:t.sizing.scale500,position:"relative"}})),G=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",marginRight:t.sizing.scale300}})),z=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale500}})),K=(0,l.I4)(T.A,(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600}})),W=e=>{let{orderUUID:t,storeUuid:i,originalItemAction:a,onClose:l,item:d,handleSubstitutionPicking:c,open:E,handleRefund:m}=e;const[h,A]=r.useState(null),g=a?.requestModifications||null,D=g?.originalItemId?.itemID?.catalogItemUUID||"",T=g?.originalItemId?.sourceItemSectionUuid,y=g?.originalItemHeader?.itemThumbnail?.imageUrl?.dayImageUrl,b=g?.originalItemHeader,{store:L}=(0,U.Ay)(i),N=e=>{const t=f.R9.from(e).toE5().toCoefficientDecimal();h&&c(h,t)};return E&&a&&d?h?(0,p.Y)(H,{originalItem:d,substituteItem:h,onClose:()=>A(null),handleConfirm:N,store:L.data}):(0,p.FD)(n.aF,{size:o.SK.full,isOpen:!0,onClose:l,children:[(0,p.FD)($,{children:[(0,p.Y)(O.J,{onClick:l}),(0,p.Y)(I.w_,{children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.requestAlternate"})}),(0,p.Y)(z,{children:(0,p.Y)(_.$n,{kind:_.Nd.secondary,size:R.SK.compact,shape:R.IW.pill,onClick:m,children:(0,p.Y)(u.H,{id:"activeOrder.summaryDetails.refund"})})})]}),(0,p.Y)(V,{children:(0,p.Y)(s.Ay,{text:b?.sectionHeaderText})}),(0,p.FD)(C.ek,{children:[(0,p.FD)(C.em,{children:[y?(0,p.Y)(K,{src:y}):null,(0,p.FD)(G,{children:[(0,p.Y)(s.Ay,{text:b?.itemTitleText}),(0,p.Y)(s.Ay,{text:b?.itemSubtitleText})]})]}),(0,p.Y)(s.Ay,{text:b?.itemPriceText})]}),i&&T?(0,p.Y)(S.A,{orderUUID:t,handleProductSelection:A,sourceItemSectionUUID:T,sourceItemUUID:D,storeUUID:i,onClose:l}):null]}):null},q=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0`}})),j=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale600,margin:t.sizing.scale600}})),Q=(0,l.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),X=(0,l.I4)("div",{display:"flex"}),Z=(0,l.I4)("div",{width:"100%",height:c.w,display:"flex",justifyContent:"center",alignItems:"center"}),J=(0,l.I4)("img",{width:"100%",height:"100%",objectFit:"contain",flexShrink:0}),ee=e=>{let{items:t,shoppingCartItemUuid:i,onClose:l,handleActionButtons:c,storeUuid:u}=e;const _=(0,m.Ay)(),[E,h]=r.useState(null),[O,T]=r.useState(!1),[R,f]=r.useState(!1),[U,S]=r.useState(null),y=t?.find((e=>e?.cursory?.descriptor?.itemId?.shoppingCartItemUuid===i)),b=y?.expanded?.descriptor?.displayableName?.text?.text??"",L=y?.expanded?.longWriteup?.text?.text??"",N=y?.expanded?.descriptor?.salientNotes||null,v=y?.expanded?.auxiliarySections||null,Y=r.useMemo((()=>y?.expanded?.actionButtons||null),[y]),M=r.useMemo((()=>y?.cursory?.thumbnailImage?.imageUrl?.dayImageUrl||null),[y]),F=y?.cursory?.descriptor?.itemId?.cartId?.workflowId?.workflowUuid||"",P=y?.cursory?.descriptor?.itemId?.cartId?.cartUuid||"",B=y?.cursory?.descriptor?.itemId?.itemID?.catalogItemUUID||"",x=(e,t)=>{if(e||t)return"CART_ITEM_ACTION_TYPE_REQUEST_REFUND"!==e?.type||E?"CART_ITEM_ACTION_TYPE_REQUEST_MODIFICATIONS"===e?.type&&e?.requestModifications?(S(e),_("eats:replacements_item_details_more_options_tapped",{cartUuid:P,isSpecialItemRequest:(0,D.I)(t),itemUuid:B,storeUuid:u,workflowUuid:F}),f(!0),void h(null)):void c(e,t,!0):(h(e),_("eats:replacements_item_details_impression",{cartUuid:P,isSpecialItemRequest:(0,D.I)(t),itemUuid:B,storeUuid:u,workflowUuid:F}),void T(!0))};r.useEffect((()=>{y&&_("eats:replacements_item_details_impression",{isSpecialItemRequest:(0,D.I)(y),workflowUuid:F})}),[_,y,F]);return(0,p.FD)(n.aF,{size:o.SK.full,"data-testid":"summary-details-mobile-item-expanded-modal",children:[(0,p.Y)(W,{orderUUID:F,open:R,item:y,storeUuid:u,onClose:()=>f(!1),originalItemAction:U,handleSubstitutionPicking:(e,t)=>{c(U,y,!0,e,t)},handleRefund:()=>{const e=Y?.find((e=>"CART_ITEM_ACTION_TYPE_REQUEST_REFUND"===e?.action?.type));h(e?.action||null),T(!0)}}),(0,p.Y)(C.Y9,{children:(0,p.Y)(C.Jn,{onClick:()=>{_("eats:replacements_item_details_close_tapped",{workflowUuid:F}),l()},"data-testid":"summary-details-mobile-item-expanded-close-button"})}),(0,p.FD)(q,{children:[O?(0,p.Y)(A,{onClose:()=>{h(null),_("eats:replacements_refund_bottom_sheet_dismissed",{workflowUuid:F}),T(!1)},onSubmit:()=>{E&&y&&x(E,y),f(!1),T(!1)},workflowUuid:F}):null,(0,p.FD)(j,{children:[(0,p.Y)(Z,{children:M?(0,p.Y)(J,{src:M}):null}),(0,p.FD)(Q,{children:[b?(0,p.Y)(I.OU,{as:"span",children:b}):null,N?.map(((e,t)=>(0,p.Y)(X,{children:(0,p.Y)(s.Ay,{text:e?.text})},`price-${t}`))),L?(0,p.Y)(I.oS,{as:"span",color:"contentSecondary",children:L}):null]})]}),(0,p.Y)(g.A,{auxiliarySections:v})]}),(0,p.Y)(a.j,{children:(0,p.Y)(Q,{children:Y?.map(((e,t)=>e?.button?(0,p.Y)("div",{children:(0,p.Y)(d.A,{viewModel:e?.button,onClick:()=>x(e?.action,y)})},`button-${t}`):null))})})]})},te=r.memo(ee)},65041:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i("__fusion__95b4ba69e5"),n=i(86105),o=i(95479);const a=e=>{if(!(0,o.Ew)(e))return;let t;try{t=(0,o.rS)(e)}catch(e){return}return t};function l(e){const t=(0,n.zy)();return r.useMemo((()=>{if(!e)return!1;const i=a(e);return t.pathname.includes(i)}),[t.pathname,e])}},69338:(e,t,i)=>{"use strict";i.d(t,{A:()=>I,E:()=>E});var r=i(55018),n=i(91156),o=i(41908),a=i(78275),l=i(32879),s=i(90048),d=i(39212),c=i(8474),u=i(86105),_=i(40014);const E=()=>{const{isCartDrafting:e}=(0,a.A)(),{promoAndMembershipSavingBannerPayload:t}=(0,l.Ay)([...e?["promoAndMembershipSavingBannerPayload"]:[]]).checkoutPayloads,i=(0,d.A)(t?.listContentViewModel);return i?(0,_.Y)("div",{children:(0,_.Y)(s.A,{viewModel:i})}):null},I=e=>{let{bannerAction:t}=e;const i=(0,u.W6)(),a=(0,n.Ay)(),{draftOrder:l}=(0,o.tC)();if(!t.bannerModel)return null;const s="openBottomSheetMetadata"===t.actionMetadata?.type?t.actionMetadata.openBottomSheetMetadata?.bottomSheet:void 0;return(0,_.Y)(r.A,{onClick:()=>{i.push({...(0,c.Zyy)(i.location,"cartSavingBannerDialog"),state:{moreInfoSheet:s}}),a("eats:saving_banner_click",{storePreCheckoutBundling:{draftOrderUuid:String(l?.uuid),bundleGroupRole:String(l?.bundleGroupInfo?.bundleGroupRole)}})},viewModel:t.bannerModel,noMargin:!0})}},82096:(e,t,i)=>{"use strict";i.d(t,{F:()=>o,U:()=>a});var r=i(95479),n=i(8474);const o=(e,t)=>{const i={entryPoint:t.entryPoint};return t.storeUuid&&(i.encodedStoreUuid=(0,r.rS)(t.storeUuid)),(0,n.Zyy)(e,"deliveryTime",encodeURIComponent(JSON.stringify(i)))},a=(e,t,i)=>{const o={entryPoint:t.entryPoint};return t.storeUuid&&(o.encodedStoreUuid=(0,r.rS)(t.storeUuid)),t.openedFromMenuDialogue&&(o.openedFromMenuDialogue=!0),(0,n.Zyy)(e,"storeDeliveryTime",encodeURIComponent(JSON.stringify(o)),i)}},83241:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var r=i(39431),n=i(66764),o=i(41967),a=i(31300),l=i(43316),s=i(40014);const d=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",padding:`${t.sizing.scale1400} ${t.sizing.scale600} ${t.sizing.scale1600}`,alignItems:"center",maxWidth:"624px",margin:"0 auto"}})),c=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{width:"226px",paddingBottom:t.sizing.scale1400,transition:"transform 50ms ease-in-out"}})),u=(0,o.I4)(l.A,{width:"100%",height:"100%"}),_=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:t.sizing.scale300}})),E=(0,o.I4)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,paddingBottom:t.sizing.scale800,textAlign:"center"}})),I=e=>{let{refetch:t}=e;return(0,s.FD)(d,{children:[(0,s.Y)(c,{children:(0,s.Y)(u,{src:(0,r.uq)(i(41367))})}),(0,s.Y)(_,{children:(0,s.Y)(n.H,{id:"components.feedtryagain.error"})}),(0,s.Y)(E,{children:(0,s.Y)(n.H,{id:"shared.somethingWentWrong"})}),(0,s.Y)(a.A,{onClick:t,children:(0,s.Y)(n.H,{id:"shared.retry"})})]})}},85525:(e,t,i)=>{"use strict";i.d(t,{AO:()=>r,Ym:()=>n,ey:()=>o});const r=Object.freeze({UNKNOWN:"UNKNOWN",ACK_ON_COMPLETION:"ACK_ON_COMPLETION"}),n=Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL_EXCEEDED_PER_ORDER_LIMIT:"ALCOHOL_EXCEEDED_PER_ORDER_LIMIT",MISSING_REQUIRED_FOOD_WITH_ALCOHOL:"MISSING_REQUIRED_FOOD_WITH_ALCOHOL",MAX_FARE_LIMIT_EXCEEDED:"MAX_FARE_LIMIT_EXCEEDED",ALCOHOL_WITH_CASH:"ALCOHOL_WITH_CASH",PICKUP_WITH_CASH:"PICKUP_WITH_CASH",PRODUCT_NOT_FOUND_AT_ORDER:"PRODUCT_NOT_FOUND_AT_ORDER",CART_ITEM_INVALID_UUID:"CART_ITEM_INVALID_UUID",CART_ITEM_SUSPENDED:"CART_ITEM_SUSPENDED",ALCOHOL_WITH_LEAVE_AT_DOOR:"ALCOHOL_WITH_LEAVE_AT_DOOR",CASH_WITH_LEAVE_AT_DOOR_MANDATORY:"CASH_WITH_LEAVE_AT_DOOR_MANDATORY",CASH_WITH_LEAVE_AT_DOOR_OPTIONAL:"CASH_WITH_LEAVE_AT_DOOR_OPTIONAL",BYOC_WITH_LEAVE_AT_DOOR:"BYOC_WITH_LEAVE_AT_DOOR",FORCE_LEAVE_AT_DOOR:"FORCE_LEAVE_AT_DOOR",STORE_UNAVAILABLE:"STORE_UNAVAILABLE",FULFILLMENT_ISSUE_NOT_RESOLVED:"FULFILLMENT_ISSUE_NOT_RESOLVED",NO_SUCH_STORE:"NO_SUCH_STORE",ITEMS_FROM_TOO_MANY_STORES:"ITEMS_FROM_TOO_MANY_STORES",INVALID_DELIVERY_TIME_RANGE:"INVALID_DELIVERY_TIME_RANGE",INVALID_DISPATCH_RADIUS:"INVALID_DISPATCH_RADIUS",INVALID_PAYMENT_PROFILE:"INVALID_PAYMENT_PROFILE",UNSUPPORTED_PAYMENT_PROFILE:"UNSUPPORTED_PAYMENT_PROFILE",STORE_CLOSED_CHECKOUT:"STORE_CLOSED_CHECKOUT",DINING_MODE_NOT_AVAILABLE:"DINING_MODE_NOT_AVAILABLE",SCHEDULE_ORDER_UNAVAILABLE:"SCHEDULE_ORDER_UNAVAILABLE",BACKGROUND_CHECK_FAILED:"BACKGROUND_CHECK_FAILED",UNAVAILABLE_ITEMS:"UNAVAILABLE_ITEMS",ITEMS_WITH_UNAVAILABLE_CUSTOMIZATIONS:"ITEMS_WITH_UNAVAILABLE_CUSTOMIZATIONS",MISCONFIGURED_ITEMS:"MISCONFIGURED_ITEMS",RADIUS_REDUCED_BY_SURGE:"RADIUS_REDUCED_BY_SURGE",GEOBOUND_BLOCKED:"GEOBOUND_BLOCKED",SCHEDULED_ORDER_NOT_EDITABLE:"SCHEDULED_ORDER_NOT_EDITABLE",INVALID_BASKET:"INVALID_BASKET",PIN_ORDER_WITH_LEAVE_AT_DOOR:"PIN_ORDER_WITH_LEAVE_AT_DOOR",NO_PAYMENT_METHOD:"NO_PAYMENT_METHOD",MARKETPLACE_HOURS_BLOCKED:"MARKETPLACE_HOURS_BLOCKED",STORE_UNAVAILABLE_BUT_SCHEDULABLE:"STORE_UNAVAILABLE_BUT_SCHEDULABLE",ALCOHOL_ORDER_BEYOND_SALES_HOURS:"ALCOHOL_ORDER_BEYOND_SALES_HOURS",INVALID_LEAVE_AT_DOOR_DELIVERY:"INVALID_LEAVE_AT_DOOR_DELIVERY",SCHEDULED_TIME_IN_THE_PAST:"SCHEDULED_TIME_IN_THE_PAST",ITEM_LIMITS_EXCEEDED:"ITEM_LIMITS_EXCEEDED",SURGE_MINIMUM_BASKET_NOT_MET:"SURGE_MINIMUM_BASKET_NOT_MET",NUDGE_TO_SCHEDULE:"NUDGE_TO_SCHEDULE",CART_LIMIT_EXCEEDED:"CART_LIMIT_EXCEEDED",CLOSING_TOO_SOON_TO_DELIVER:"CLOSING_TOO_SOON_TO_DELIVER",FARE_THRESHOLD_EXCEEDED:"FARE_THRESHOLD_EXCEEDED",LOCATION_INPUT_REQUIRED:"LOCATION_INPUT_REQUIRED",BUNDLE_NOT_DELIVERABLE:"BUNDLE_NOT_DELIVERABLE",LOCATION_CONFIRMATION_REQUIRED:"LOCATION_CONFIRMATION_REQUIRED",MEMBERSHIP_EXCLUSIVE_SHOPPING_REQUIRED:"MEMBERSHIP_EXCLUSIVE_SHOPPING_REQUIRED",HEALTH_CARE_CARD_INELIGIBLE_ITEMS:"HEALTH_CARE_CARD_INELIGIBLE_ITEMS",HEALTH_CARE_CARD_STORE_NOT_SUPPORTED:"HEALTH_CARE_CARD_STORE_NOT_SUPPORTED",INVALID_GIFT_ORDER:"INVALID_GIFT_ORDER",TAX_PROFILE_REQUIRED:"TAX_PROFILE_REQUIRED",CANNOT_REMOVE_ALL_ITEMS:"CANNOT_REMOVE_ALL_ITEMS",LIVE_ORDER_EDIT_UNSUCCESSFUL:"LIVE_ORDER_EDIT_UNSUCCESSFUL",LIVE_ORDER_EDIT_AFTER_SHOPPING_COMPLETE:"LIVE_ORDER_EDIT_AFTER_SHOPPING_COMPLETE",PAYMENT_RISK_FAILURE:"PAYMENT_RISK_FAILURE",BUNDLING_NO_PRIMARY_CART_ERROR:"BUNDLING_NO_PRIMARY_CART_ERROR",BANDWAGON_INVALID_COUNTDOWN_TOKEN:"BANDWAGON_INVALID_COUNTDOWN_TOKEN",LIVE_ORDER_LATE_EDIT_WARNING:"LIVE_ORDER_LATE_EDIT_WARNING",LIVE_ORDER_LATE_EDIT_UNSUCCESSFUL_WARNING:"LIVE_ORDER_LATE_EDIT_UNSUCCESSFUL_WARNING",PHONE_NUMBER_REQUIRED:"PHONE_NUMBER_REQUIRED",RESTRICTED_ITEM_UNDERAGE_USER:"RESTRICTED_ITEM_UNDERAGE_USER",UNIFIED_CHECKOUT_ACTION:"UNIFIED_CHECKOUT_ACTION",MAX_BUNDLED_DRAFT_ORDERS:"MAX_BUNDLED_DRAFT_ORDERS",EATS_FOR_TEENS_NOT_ENABLED:"EATS_FOR_TEENS_NOT_ENABLED",LIVE_ORDER_EDIT_AFTER_ORDER_TERMINATED:"LIVE_ORDER_EDIT_AFTER_ORDER_TERMINATED",BYOC_ADDRESS_VALIDATION_FAILURE:"BYOC_ADDRESS_VALIDATION_FAILURE",EATS_FOR_TEENS_MISSING_CONSENT:"EATS_FOR_TEENS_MISSING_CONSENT"}),o=(Object.freeze({UNKNOWN:"UNKNOWN",DIALOG:"DIALOG",FULL_PAGE:"FULL_PAGE"}),Object.freeze({NONE:"NONE",RECUSTOMIZE:"RECUSTOMIZE",REMOVE_ITEMS:"REMOVE_ITEMS",CLEAR_CART:"CLEAR_CART",RETRY_ESTIMATE:"RETRY_ESTIMATE",SWITCH_PAYMENT:"SWITCH_PAYMENT",ADD_PAYMENT:"ADD_PAYMENT",SWITCH_TO_DOOR_TO_DOOR:"SWITCH_TO_DOOR_TO_DOOR",SWITCH_TO_LEAVE_AT_DOOR:"SWITCH_TO_LEAVE_AT_DOOR",OPEN_DEEPLINK:"OPEN_DEEPLINK",OPEN_WEBVIEW:"OPEN_WEBVIEW",REDIRECT_TO_FEED:"REDIRECT_TO_FEED",GET_ORDER_SUMMARY:"GET_ORDER_SUMMARY",SWITCH_DINING_MODE:"SWITCH_DINING_MODE",CLEAR_CART_AND_REDIRECT_TO_FEED:"CLEAR_CART_AND_REDIRECT_TO_FEED",CLEAR_CART_AND_REDIRECT_TO_ORDERS_TAB:"CLEAR_CART_AND_REDIRECT_TO_ORDERS_TAB",CONTINUE_WITHOUT_VOUCHER:"CONTINUE_WITHOUT_VOUCHER",REMOVE_INVALID_PARTICIPANTS:"REMOVE_INVALID_PARTICIPANTS",GO_BACK:"GO_BACK",REDIRECT_TO_FEED_AND_UPDATE_FEED_ADDRESS:"REDIRECT_TO_FEED_AND_UPDATE_FEED_ADDRESS",SELECT_DIFFERENT_DELIVERY_ADDRESS:"SELECT_DIFFERENT_DELIVERY_ADDRESS",REVIEW_ITEMS:"REVIEW_ITEMS",SWITCH_TO_PICKUP:"SWITCH_TO_PICKUP",SCHEDULE_ORDER:"SCHEDULE_ORDER",GO_TO_STORE:"GO_TO_STORE",NOTIFY_WHEN_AVAILABLE:"NOTIFY_WHEN_AVAILABLE",SELECT_REPLACEMENT:"SELECT_REPLACEMENT",DEBUNDLE_AND_NAVIGATE:"DEBUNDLE_AND_NAVIGATE",SWITCH_DELIVERY_TYPE:"SWITCH_DELIVERY_TYPE",REFRESH_PRESENTATION_DATA:"REFRESH_PRESENTATION_DATA",DISCARD_EXISTING_AND_CREATE_NEW_BUNDLE:"DISCARD_EXISTING_AND_CREATE_NEW_BUNDLE",RETRY_CREATE_DRAFT_ORDER:"RETRY_CREATE_DRAFT_ORDER",CLEAR_GIFT_INFO:"CLEAR_GIFT_INFO",SELECT_TAX_PROFILE:"SELECT_TAX_PROFILE",INPUT_PHONE_NUMBER:"INPUT_PHONE_NUMBER",CANCEL_GIFT_ORDER:"CANCEL_GIFT_ORDER",SYNC_DRAFT_ORDERS:"SYNC_DRAFT_ORDERS",DISCARD_DRAFT_ORDERS_AND_NAVIGATE:"DISCARD_DRAFT_ORDERS_AND_NAVIGATE",RETRY_CREATE_DRAFT_ORDER_AND_UPDATE_BUNDLE_GROUP:"RETRY_CREATE_DRAFT_ORDER_AND_UPDATE_BUNDLE_GROUP",GO_BACK_TO_EDIT_CART:"GO_BACK_TO_EDIT_CART"}));Object.freeze({CHECKOUT_ORDER_ERROR:"CHECKOUT_ORDER_ERROR"}),Object.freeze({DEFAULT:"DEFAULT",ALCOHOL:"ALCOHOL"}),Object.freeze({UNIFIED_CHECKOUT_FAILURE_ERROR:"UNIFIED_CHECKOUT_FAILURE_ERROR"}),Object.freeze({DEFAULT:"DEFAULT",CVV_VERIFY:"CVV_VERIFY",BAV_VERIFY:"BAV_VERIFY",CARDIO:"CARDIO"}),Object.freeze({ORDER_ALERT_ERROR:"ORDER_ALERT_ERROR"})},88626:(e,t,i)=>{e.exports=i.p+"f601b8be1064c30a.svg"},89846:(e,t,i)=>{"use strict";i.d(t,{DG:()=>c,IZ:()=>_,J:()=>u,Rb:()=>d});var r=i(65714),n=i(73569),o=i("__fusion__55bcab8f00"),a=i(25263),l=i(4914),s=i(40014);const d=16;function c(e){const{overrides:t,...i}=e;return(0,s.Y)(r.$n,{shape:n.IW.circle,kind:r.Nd.monochromatic,...i,children:e.children})}function u(e){const t=(0,l.c)();return(0,s.Y)(c,{"aria-label":t("close"),title:t("close"),...e,children:(0,s.Y)(a.A,{size:d,title:t("close")})})}function _(e){const t=(0,l.c)();return(0,s.Y)(c,{"aria-label":t("back"),title:t("shared.goBack"),...e,children:(0,s.Y)(o.default,{size:d,title:t("back")})})}},98591:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var r=i("__fusion__95b4ba69e5"),n=i(65263),o=i("__fusion__91d49e1bad"),a=i(41967),l=i(2693),s=i(90417),d=i(39155),c=i(40014);function u(e,t){return(0,c.Y)(d.A,{viewBox:"0 0 20 20",ref:t,...e,children:(0,c.Y)("path",{d:"M9.999.833A9.14 9.14 0 00.832 10a9.14 9.14 0 009.167 9.166A9.14 9.14 0 0019.165 10 9.14 9.14 0 0010 .833zm5 12.5L13.332 15l-3.333-3.334L6.665 15 5 13.333 8.332 10 4.999 6.666 6.665 5 10 8.333 13.332 5l1.667 1.666L11.665 10 15 13.333z"})})}const _=s.forwardRef(u);var E=i(4914),I=i(39332);const m=i(41746).h,p=(0,a._F)(n.d,(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",borderRadius:t.borders.pillButtonBorderRadius,boxShadow:"none"}})),h=(0,a.I4)("input",(e=>({background:"transparent",flex:1,height:"100%",outline:"none","::placeholder":{...e.$theme.typography.ParagraphMedium,color:e.$theme.colors.contentSecondary,flex:1,textAlign:"left"}}))),A=e=>{let{setUserQuery:t}=e;const i=(0,E.c)(),n=r.useRef(null),a=(0,I.A)((e=>{t(e.target.value)}),500);return(0,c.FD)(p,{children:[(0,c.Y)(o.default,{size:"22px"}),(0,c.Y)(l.Wv,{}),(0,c.Y)(h,{placeholder:i("out_of_items.search_substitutes"),onChange:e=>a(e),"data-testid":"search-substitutions-input",maxLength:m,ref:n}),n?.current?(0,c.Y)(_,{size:18,onClick:()=>(null!==n.current&&(n.current.value=""),void t(""))}):null]})}}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/web-eats-v2/client-50554-a395a58c925ba4a9.js.map